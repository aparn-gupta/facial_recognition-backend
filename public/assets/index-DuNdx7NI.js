var j3=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var bQ=j3((SQ,DN)=>{function W3(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in t)){const a=Object.getOwnPropertyDescriptor(r,o);a&&Object.defineProperty(t,o,a.get?a:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function qR(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var gg={exports:{}},uc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eC;function H3(){if(eC)return uc;eC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,a){var s=null;if(a!==void 0&&(s=""+a),o.key!==void 0&&(s=""+o.key),"key"in o){a={};for(var u in o)u!=="key"&&(a[u]=o[u])}else a=o;return o=a.ref,{$$typeof:t,type:r,key:s,ref:o!==void 0?o:null,props:a}}return uc.Fragment=e,uc.jsx=n,uc.jsxs=n,uc}var nC;function G3(){return nC||(nC=1,gg.exports=H3()),gg.exports}var U=G3(),yg={exports:{}},ee={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rC;function $3(){if(rC)return ee;rC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function v(F){return F===null||typeof F!="object"?null:(F=p&&F[p]||F["@@iterator"],typeof F=="function"?F:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,x={};function w(F,Q,et){this.props=F,this.context=Q,this.refs=x,this.updater=et||g}w.prototype.isReactComponent={},w.prototype.setState=function(F,Q){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,Q,"setState")},w.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function S(){}S.prototype=w.prototype;function A(F,Q,et){this.props=F,this.context=Q,this.refs=x,this.updater=et||g}var E=A.prototype=new S;E.constructor=A,y(E,w.prototype),E.isPureReactComponent=!0;var T=Array.isArray,R={H:null,A:null,T:null,S:null,V:null},_=Object.prototype.hasOwnProperty;function M(F,Q,et,nt,lt,pt){return et=pt.ref,{$$typeof:t,type:F,key:Q,ref:et!==void 0?et:null,props:pt}}function k(F,Q){return M(F.type,Q,void 0,void 0,void 0,F.props)}function N(F){return typeof F=="object"&&F!==null&&F.$$typeof===t}function I(F){var Q={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(et){return Q[et]})}var z=/\/+/g;function D(F,Q){return typeof F=="object"&&F!==null&&F.key!=null?I(""+F.key):Q.toString(36)}function $(){}function j(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then($,$):(F.status="pending",F.then(function(Q){F.status==="pending"&&(F.status="fulfilled",F.value=Q)},function(Q){F.status==="pending"&&(F.status="rejected",F.reason=Q)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function W(F,Q,et,nt,lt){var pt=typeof F;(pt==="undefined"||pt==="boolean")&&(F=null);var vt=!1;if(F===null)vt=!0;else switch(pt){case"bigint":case"string":case"number":vt=!0;break;case"object":switch(F.$$typeof){case t:case e:vt=!0;break;case h:return vt=F._init,W(vt(F._payload),Q,et,nt,lt)}}if(vt)return lt=lt(F),vt=nt===""?"."+D(F,0):nt,T(lt)?(et="",vt!=null&&(et=vt.replace(z,"$&/")+"/"),W(lt,Q,et,"",function(wt){return wt})):lt!=null&&(N(lt)&&(lt=k(lt,et+(lt.key==null||F&&F.key===lt.key?"":(""+lt.key).replace(z,"$&/")+"/")+vt)),Q.push(lt)),1;vt=0;var bt=nt===""?".":nt+":";if(T(F))for(var yt=0;yt<F.length;yt++)nt=F[yt],pt=bt+D(nt,yt),vt+=W(nt,Q,et,pt,lt);else if(yt=v(F),typeof yt=="function")for(F=yt.call(F),yt=0;!(nt=F.next()).done;)nt=nt.value,pt=bt+D(nt,yt++),vt+=W(nt,Q,et,pt,lt);else if(pt==="object"){if(typeof F.then=="function")return W(j(F),Q,et,nt,lt);throw Q=String(F),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return vt}function B(F,Q,et){if(F==null)return F;var nt=[],lt=0;return W(F,nt,"","",function(pt){return Q.call(et,pt,lt++)}),nt}function H(F){if(F._status===-1){var Q=F._result;Q=Q(),Q.then(function(et){(F._status===0||F._status===-1)&&(F._status=1,F._result=et)},function(et){(F._status===0||F._status===-1)&&(F._status=2,F._result=et)}),F._status===-1&&(F._status=0,F._result=Q)}if(F._status===1)return F._result.default;throw F._result}var q=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)};function X(){}return ee.Children={map:B,forEach:function(F,Q,et){B(F,function(){Q.apply(this,arguments)},et)},count:function(F){var Q=0;return B(F,function(){Q++}),Q},toArray:function(F){return B(F,function(Q){return Q})||[]},only:function(F){if(!N(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},ee.Component=w,ee.Fragment=n,ee.Profiler=o,ee.PureComponent=A,ee.StrictMode=r,ee.Suspense=c,ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,ee.__COMPILER_RUNTIME={__proto__:null,c:function(F){return R.H.useMemoCache(F)}},ee.cache=function(F){return function(){return F.apply(null,arguments)}},ee.cloneElement=function(F,Q,et){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var nt=y({},F.props),lt=F.key,pt=void 0;if(Q!=null)for(vt in Q.ref!==void 0&&(pt=void 0),Q.key!==void 0&&(lt=""+Q.key),Q)!_.call(Q,vt)||vt==="key"||vt==="__self"||vt==="__source"||vt==="ref"&&Q.ref===void 0||(nt[vt]=Q[vt]);var vt=arguments.length-2;if(vt===1)nt.children=et;else if(1<vt){for(var bt=Array(vt),yt=0;yt<vt;yt++)bt[yt]=arguments[yt+2];nt.children=bt}return M(F.type,lt,void 0,void 0,pt,nt)},ee.createContext=function(F){return F={$$typeof:s,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:a,_context:F},F},ee.createElement=function(F,Q,et){var nt,lt={},pt=null;if(Q!=null)for(nt in Q.key!==void 0&&(pt=""+Q.key),Q)_.call(Q,nt)&&nt!=="key"&&nt!=="__self"&&nt!=="__source"&&(lt[nt]=Q[nt]);var vt=arguments.length-2;if(vt===1)lt.children=et;else if(1<vt){for(var bt=Array(vt),yt=0;yt<vt;yt++)bt[yt]=arguments[yt+2];lt.children=bt}if(F&&F.defaultProps)for(nt in vt=F.defaultProps,vt)lt[nt]===void 0&&(lt[nt]=vt[nt]);return M(F,pt,void 0,void 0,null,lt)},ee.createRef=function(){return{current:null}},ee.forwardRef=function(F){return{$$typeof:u,render:F}},ee.isValidElement=N,ee.lazy=function(F){return{$$typeof:h,_payload:{_status:-1,_result:F},_init:H}},ee.memo=function(F,Q){return{$$typeof:f,type:F,compare:Q===void 0?null:Q}},ee.startTransition=function(F){var Q=R.T,et={};R.T=et;try{var nt=F(),lt=R.S;lt!==null&&lt(et,nt),typeof nt=="object"&&nt!==null&&typeof nt.then=="function"&&nt.then(X,q)}catch(pt){q(pt)}finally{R.T=Q}},ee.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},ee.use=function(F){return R.H.use(F)},ee.useActionState=function(F,Q,et){return R.H.useActionState(F,Q,et)},ee.useCallback=function(F,Q){return R.H.useCallback(F,Q)},ee.useContext=function(F){return R.H.useContext(F)},ee.useDebugValue=function(){},ee.useDeferredValue=function(F,Q){return R.H.useDeferredValue(F,Q)},ee.useEffect=function(F,Q,et){var nt=R.H;if(typeof et=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return nt.useEffect(F,Q)},ee.useId=function(){return R.H.useId()},ee.useImperativeHandle=function(F,Q,et){return R.H.useImperativeHandle(F,Q,et)},ee.useInsertionEffect=function(F,Q){return R.H.useInsertionEffect(F,Q)},ee.useLayoutEffect=function(F,Q){return R.H.useLayoutEffect(F,Q)},ee.useMemo=function(F,Q){return R.H.useMemo(F,Q)},ee.useOptimistic=function(F,Q){return R.H.useOptimistic(F,Q)},ee.useReducer=function(F,Q,et){return R.H.useReducer(F,Q,et)},ee.useRef=function(F){return R.H.useRef(F)},ee.useState=function(F){return R.H.useState(F)},ee.useSyncExternalStore=function(F,Q,et){return R.H.useSyncExternalStore(F,Q,et)},ee.useTransition=function(){return R.H.useTransition()},ee.version="19.1.1",ee}var oC;function U0(){return oC||(oC=1,yg.exports=$3()),yg.exports}var O=U0();const Zr=qR(O),Ay=W3({__proto__:null,default:Zr},[O]);var bg={exports:{}},lc={},xg={exports:{}},wg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aC;function q3(){return aC||(aC=1,function(t){function e(B,H){var q=B.length;B.push(H);t:for(;0<q;){var X=q-1>>>1,F=B[X];if(0<o(F,H))B[X]=H,B[q]=F,q=X;else break t}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var H=B[0],q=B.pop();if(q!==H){B[0]=q;t:for(var X=0,F=B.length,Q=F>>>1;X<Q;){var et=2*(X+1)-1,nt=B[et],lt=et+1,pt=B[lt];if(0>o(nt,q))lt<F&&0>o(pt,nt)?(B[X]=pt,B[lt]=q,X=lt):(B[X]=nt,B[et]=q,X=et);else if(lt<F&&0>o(pt,q))B[X]=pt,B[lt]=q,X=lt;else break t}}return H}function o(B,H){var q=B.sortIndex-H.sortIndex;return q!==0?q:B.id-H.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],f=[],h=1,p=null,v=3,g=!1,y=!1,x=!1,w=!1,S=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function T(B){for(var H=n(f);H!==null;){if(H.callback===null)r(f);else if(H.startTime<=B)r(f),H.sortIndex=H.expirationTime,e(c,H);else break;H=n(f)}}function R(B){if(x=!1,T(B),!y)if(n(c)!==null)y=!0,_||(_=!0,D());else{var H=n(f);H!==null&&W(R,H.startTime-B)}}var _=!1,M=-1,k=5,N=-1;function I(){return w?!0:!(t.unstable_now()-N<k)}function z(){if(w=!1,_){var B=t.unstable_now();N=B;var H=!0;try{t:{y=!1,x&&(x=!1,A(M),M=-1),g=!0;var q=v;try{e:{for(T(B),p=n(c);p!==null&&!(p.expirationTime>B&&I());){var X=p.callback;if(typeof X=="function"){p.callback=null,v=p.priorityLevel;var F=X(p.expirationTime<=B);if(B=t.unstable_now(),typeof F=="function"){p.callback=F,T(B),H=!0;break e}p===n(c)&&r(c),T(B)}else r(c);p=n(c)}if(p!==null)H=!0;else{var Q=n(f);Q!==null&&W(R,Q.startTime-B),H=!1}}break t}finally{p=null,v=q,g=!1}H=void 0}}finally{H?D():_=!1}}}var D;if(typeof E=="function")D=function(){E(z)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,j=$.port2;$.port1.onmessage=z,D=function(){j.postMessage(null)}}else D=function(){S(z,0)};function W(B,H){M=S(function(){B(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(B){switch(v){case 1:case 2:case 3:var H=3;break;default:H=v}var q=v;v=H;try{return B()}finally{v=q}},t.unstable_requestPaint=function(){w=!0},t.unstable_runWithPriority=function(B,H){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var q=v;v=B;try{return H()}finally{v=q}},t.unstable_scheduleCallback=function(B,H,q){var X=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?X+q:X):q=X,B){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=q+F,B={id:h++,callback:H,priorityLevel:B,startTime:q,expirationTime:F,sortIndex:-1},q>X?(B.sortIndex=q,e(f,B),n(c)===null&&B===n(f)&&(x?(A(M),M=-1):x=!0,W(R,q-X))):(B.sortIndex=F,e(c,B),y||g||(y=!0,_||(_=!0,D()))),B},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(B){var H=v;return function(){var q=v;v=H;try{return B.apply(this,arguments)}finally{v=q}}}}(wg)),wg}var iC;function K3(){return iC||(iC=1,xg.exports=q3()),xg.exports}var Sg={exports:{}},Gn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sC;function X3(){if(sC)return Gn;sC=1;var t=U0();function e(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function a(c,f,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:p==null?null:""+p,children:c,containerInfo:f,implementation:h}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(c,f){if(c==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Gn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Gn.createPortal=function(c,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(c,f,null,h)},Gn.flushSync=function(c){var f=s.T,h=r.p;try{if(s.T=null,r.p=2,c)return c()}finally{s.T=f,r.p=h,r.d.f()}},Gn.preconnect=function(c,f){typeof c=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(c,f))},Gn.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},Gn.preinit=function(c,f){if(typeof c=="string"&&f&&typeof f.as=="string"){var h=f.as,p=u(h,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,g=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?r.d.S(c,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:v,fetchPriority:g}):h==="script"&&r.d.X(c,{crossOrigin:p,integrity:v,fetchPriority:g,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Gn.preinitModule=function(c,f){if(typeof c=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=u(f.as,f.crossOrigin);r.d.M(c,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(c)},Gn.preload=function(c,f){if(typeof c=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,p=u(h,f.crossOrigin);r.d.L(c,h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Gn.preloadModule=function(c,f){if(typeof c=="string")if(f){var h=u(f.as,f.crossOrigin);r.d.m(c,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(c)},Gn.requestFormReset=function(c){r.d.r(c)},Gn.unstable_batchedUpdates=function(c,f){return c(f)},Gn.useFormState=function(c,f,h){return s.H.useFormState(c,f,h)},Gn.useFormStatus=function(){return s.H.useHostTransitionStatus()},Gn.version="19.1.1",Gn}var uC;function KR(){if(uC)return Sg.exports;uC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Sg.exports=X3(),Sg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lC;function Y3(){if(lC)return lc;lC=1;var t=K3(),e=U0(),n=KR();function r(i){var l="https://react.dev/errors/"+i;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function a(i){var l=i,d=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,(l.flags&4098)!==0&&(d=l.return),i=l.return;while(i)}return l.tag===3?d:null}function s(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function u(i){if(a(i)!==i)throw Error(r(188))}function c(i){var l=i.alternate;if(!l){if(l=a(i),l===null)throw Error(r(188));return l!==i?null:i}for(var d=i,m=l;;){var b=d.return;if(b===null)break;var C=b.alternate;if(C===null){if(m=b.return,m!==null){d=m;continue}break}if(b.child===C.child){for(C=b.child;C;){if(C===d)return u(b),i;if(C===m)return u(b),l;C=C.sibling}throw Error(r(188))}if(d.return!==m.return)d=b,m=C;else{for(var P=!1,L=b.child;L;){if(L===d){P=!0,d=b,m=C;break}if(L===m){P=!0,m=b,d=C;break}L=L.sibling}if(!P){for(L=C.child;L;){if(L===d){P=!0,d=C,m=b;break}if(L===m){P=!0,m=C,d=b;break}L=L.sibling}if(!P)throw Error(r(189))}}if(d.alternate!==m)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?i:l}function f(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i;for(i=i.child;i!==null;){if(l=f(i),l!==null)return l;i=i.sibling}return null}var h=Object.assign,p=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),E=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function D(i){return i===null||typeof i!="object"?null:(i=z&&i[z]||i["@@iterator"],typeof i=="function"?i:null)}var $=Symbol.for("react.client.reference");function j(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===$?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case y:return"Fragment";case w:return"Profiler";case x:return"StrictMode";case R:return"Suspense";case _:return"SuspenseList";case N:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case g:return"Portal";case E:return(i.displayName||"Context")+".Provider";case A:return(i._context.displayName||"Context")+".Consumer";case T:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case M:return l=i.displayName||null,l!==null?l:j(i.type)||"Memo";case k:l=i._payload,i=i._init;try{return j(i(l))}catch{}}return null}var W=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q={pending:!1,data:null,method:null,action:null},X=[],F=-1;function Q(i){return{current:i}}function et(i){0>F||(i.current=X[F],X[F]=null,F--)}function nt(i,l){F++,X[F]=i.current,i.current=l}var lt=Q(null),pt=Q(null),vt=Q(null),bt=Q(null);function yt(i,l){switch(nt(vt,l),nt(pt,i),nt(lt,null),l.nodeType){case 9:case 11:i=(i=l.documentElement)&&(i=i.namespaceURI)?DS(i):0;break;default:if(i=l.tagName,l=l.namespaceURI)l=DS(l),i=kS(l,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}et(lt),nt(lt,i)}function wt(){et(lt),et(pt),et(vt)}function Et(i){i.memoizedState!==null&&nt(bt,i);var l=lt.current,d=kS(l,i.type);l!==d&&(nt(pt,i),nt(lt,d))}function xt(i){pt.current===i&&(et(lt),et(pt)),bt.current===i&&(et(bt),rc._currentValue=q)}var At=Object.prototype.hasOwnProperty,Rt=t.unstable_scheduleCallback,St=t.unstable_cancelCallback,zt=t.unstable_shouldYield,Xt=t.unstable_requestPaint,Qt=t.unstable_now,se=t.unstable_getCurrentPriorityLevel,te=t.unstable_ImmediatePriority,oe=t.unstable_UserBlockingPriority,Zt=t.unstable_NormalPriority,_t=t.unstable_LowPriority,Ve=t.unstable_IdlePriority,be=t.log,He=t.unstable_setDisableYieldValue,we=null,Ut=null;function Jt(i){if(typeof be=="function"&&He(i),Ut&&typeof Ut.setStrictMode=="function")try{Ut.setStrictMode(we,i)}catch{}}var pe=Math.clz32?Math.clz32:xo,On=Math.log,Re=Math.LN2;function xo(i){return i>>>=0,i===0?32:31-(On(i)/Re|0)|0}var xr=256,uo=4194304;function Pt(i){var l=i&42;if(l!==0)return l;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ae(i,l,d){var m=i.pendingLanes;if(m===0)return 0;var b=0,C=i.suspendedLanes,P=i.pingedLanes;i=i.warmLanes;var L=m&134217727;return L!==0?(m=L&~C,m!==0?b=Pt(m):(P&=L,P!==0?b=Pt(P):d||(d=L&~i,d!==0&&(b=Pt(d))))):(L=m&~C,L!==0?b=Pt(L):P!==0?b=Pt(P):d||(d=m&~i,d!==0&&(b=Pt(d)))),b===0?0:l!==0&&l!==b&&(l&C)===0&&(C=b&-b,d=l&-l,C>=d||C===32&&(d&4194048)!==0)?l:b}function Ke(i,l){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&l)===0}function za(i,l){switch(i){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dl(){var i=xr;return xr<<=1,(xr&4194048)===0&&(xr=256),i}function h1(){var i=uo;return uo<<=1,(uo&62914560)===0&&(uo=4194304),i}function im(i){for(var l=[],d=0;31>d;d++)l.push(i);return l}function hl(i,l){i.pendingLanes|=l,l!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function kN(i,l,d,m,b,C){var P=i.pendingLanes;i.pendingLanes=d,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=d,i.entangledLanes&=d,i.errorRecoveryDisabledLanes&=d,i.shellSuspendCounter=0;var L=i.entanglements,K=i.expirationTimes,ot=i.hiddenUpdates;for(d=P&~d;0<d;){var dt=31-pe(d),mt=1<<dt;L[dt]=0,K[dt]=-1;var at=ot[dt];if(at!==null)for(ot[dt]=null,dt=0;dt<at.length;dt++){var it=at[dt];it!==null&&(it.lane&=-536870913)}d&=~mt}m!==0&&p1(i,m,0),C!==0&&b===0&&i.tag!==0&&(i.suspendedLanes|=C&~(P&~l))}function p1(i,l,d){i.pendingLanes|=l,i.suspendedLanes&=~l;var m=31-pe(l);i.entangledLanes|=l,i.entanglements[m]=i.entanglements[m]|1073741824|d&4194090}function m1(i,l){var d=i.entangledLanes|=l;for(i=i.entanglements;d;){var m=31-pe(d),b=1<<m;b&l|i[m]&l&&(i[m]|=l),d&=~b}}function sm(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function um(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function v1(){var i=H.p;return i!==0?i:(i=window.event,i===void 0?32:XS(i.type))}function MN(i,l){var d=H.p;try{return H.p=i,l()}finally{H.p=d}}var Va=Math.random().toString(36).slice(2),Wn="__reactFiber$"+Va,ir="__reactProps$"+Va,Es="__reactContainer$"+Va,lm="__reactEvents$"+Va,NN="__reactListeners$"+Va,ON="__reactHandles$"+Va,g1="__reactResources$"+Va,pl="__reactMarker$"+Va;function cm(i){delete i[Wn],delete i[ir],delete i[lm],delete i[NN],delete i[ON]}function Ts(i){var l=i[Wn];if(l)return l;for(var d=i.parentNode;d;){if(l=d[Es]||d[Wn]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(i=PS(i);i!==null;){if(d=i[Wn])return d;i=PS(i)}return l}i=d,d=i.parentNode}return null}function Rs(i){if(i=i[Wn]||i[Es]){var l=i.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return i}return null}function ml(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i.stateNode;throw Error(r(33))}function As(i){var l=i[g1];return l||(l=i[g1]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Rn(i){i[pl]=!0}var y1=new Set,b1={};function ki(i,l){_s(i,l),_s(i+"Capture",l)}function _s(i,l){for(b1[i]=l,i=0;i<l.length;i++)y1.add(l[i])}var PN=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),x1={},w1={};function IN(i){return At.call(w1,i)?!0:At.call(x1,i)?!1:PN.test(i)?w1[i]=!0:(x1[i]=!0,!1)}function Pf(i,l,d){if(IN(l))if(d===null)i.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":i.removeAttribute(l);return;case"boolean":var m=l.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){i.removeAttribute(l);return}}i.setAttribute(l,""+d)}}function If(i,l,d){if(d===null)i.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttribute(l,""+d)}}function ra(i,l,d,m){if(m===null)i.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(d);return}i.setAttributeNS(l,d,""+m)}}var fm,S1;function Ds(i){if(fm===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);fm=l&&l[1]||"",S1=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fm+i+S1}var dm=!1;function hm(i,l){if(!i||dm)return"";dm=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(l){var mt=function(){throw Error()};if(Object.defineProperty(mt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(mt,[])}catch(it){var at=it}Reflect.construct(i,[],mt)}else{try{mt.call()}catch(it){at=it}i.call(mt.prototype)}}else{try{throw Error()}catch(it){at=it}(mt=i())&&typeof mt.catch=="function"&&mt.catch(function(){})}}catch(it){if(it&&at&&typeof it.stack=="string")return[it.stack,at.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=m.DetermineComponentFrameRoot(),P=C[0],L=C[1];if(P&&L){var K=P.split(`
`),ot=L.split(`
`);for(b=m=0;m<K.length&&!K[m].includes("DetermineComponentFrameRoot");)m++;for(;b<ot.length&&!ot[b].includes("DetermineComponentFrameRoot");)b++;if(m===K.length||b===ot.length)for(m=K.length-1,b=ot.length-1;1<=m&&0<=b&&K[m]!==ot[b];)b--;for(;1<=m&&0<=b;m--,b--)if(K[m]!==ot[b]){if(m!==1||b!==1)do if(m--,b--,0>b||K[m]!==ot[b]){var dt=`
`+K[m].replace(" at new "," at ");return i.displayName&&dt.includes("<anonymous>")&&(dt=dt.replace("<anonymous>",i.displayName)),dt}while(1<=m&&0<=b);break}}}finally{dm=!1,Error.prepareStackTrace=d}return(d=i?i.displayName||i.name:"")?Ds(d):""}function BN(i){switch(i.tag){case 26:case 27:case 5:return Ds(i.type);case 16:return Ds("Lazy");case 13:return Ds("Suspense");case 19:return Ds("SuspenseList");case 0:case 15:return hm(i.type,!1);case 11:return hm(i.type.render,!1);case 1:return hm(i.type,!0);case 31:return Ds("Activity");default:return""}}function C1(i){try{var l="";do l+=BN(i),i=i.return;while(i);return l}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}function Fr(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function E1(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function FN(i){var l=E1(i)?"checked":"value",d=Object.getOwnPropertyDescriptor(i.constructor.prototype,l),m=""+i[l];if(!i.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var b=d.get,C=d.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return b.call(this)},set:function(P){m=""+P,C.call(this,P)}}),Object.defineProperty(i,l,{enumerable:d.enumerable}),{getValue:function(){return m},setValue:function(P){m=""+P},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function Bf(i){i._valueTracker||(i._valueTracker=FN(i))}function T1(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var d=l.getValue(),m="";return i&&(m=E1(i)?i.checked?"true":"false":i.value),i=m,i!==d?(l.setValue(i),!0):!1}function Ff(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var LN=/[\n"\\]/g;function Lr(i){return i.replace(LN,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function pm(i,l,d,m,b,C,P,L){i.name="",P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?i.type=P:i.removeAttribute("type"),l!=null?P==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+Fr(l)):i.value!==""+Fr(l)&&(i.value=""+Fr(l)):P!=="submit"&&P!=="reset"||i.removeAttribute("value"),l!=null?mm(i,P,Fr(l)):d!=null?mm(i,P,Fr(d)):m!=null&&i.removeAttribute("value"),b==null&&C!=null&&(i.defaultChecked=!!C),b!=null&&(i.checked=b&&typeof b!="function"&&typeof b!="symbol"),L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?i.name=""+Fr(L):i.removeAttribute("name")}function R1(i,l,d,m,b,C,P,L){if(C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(i.type=C),l!=null||d!=null){if(!(C!=="submit"&&C!=="reset"||l!=null))return;d=d!=null?""+Fr(d):"",l=l!=null?""+Fr(l):d,L||l===i.value||(i.value=l),i.defaultValue=l}m=m??b,m=typeof m!="function"&&typeof m!="symbol"&&!!m,i.checked=L?i.checked:!!m,i.defaultChecked=!!m,P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(i.name=P)}function mm(i,l,d){l==="number"&&Ff(i.ownerDocument)===i||i.defaultValue===""+d||(i.defaultValue=""+d)}function ks(i,l,d,m){if(i=i.options,l){l={};for(var b=0;b<d.length;b++)l["$"+d[b]]=!0;for(d=0;d<i.length;d++)b=l.hasOwnProperty("$"+i[d].value),i[d].selected!==b&&(i[d].selected=b),b&&m&&(i[d].defaultSelected=!0)}else{for(d=""+Fr(d),l=null,b=0;b<i.length;b++){if(i[b].value===d){i[b].selected=!0,m&&(i[b].defaultSelected=!0);return}l!==null||i[b].disabled||(l=i[b])}l!==null&&(l.selected=!0)}}function A1(i,l,d){if(l!=null&&(l=""+Fr(l),l!==i.value&&(i.value=l),d==null)){i.defaultValue!==l&&(i.defaultValue=l);return}i.defaultValue=d!=null?""+Fr(d):""}function _1(i,l,d,m){if(l==null){if(m!=null){if(d!=null)throw Error(r(92));if(W(m)){if(1<m.length)throw Error(r(93));m=m[0]}d=m}d==null&&(d=""),l=d}d=Fr(l),i.defaultValue=d,m=i.textContent,m===d&&m!==""&&m!==null&&(i.value=m)}function Ms(i,l){if(l){var d=i.firstChild;if(d&&d===i.lastChild&&d.nodeType===3){d.nodeValue=l;return}}i.textContent=l}var zN=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function D1(i,l,d){var m=l.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?m?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="":m?i.setProperty(l,d):typeof d!="number"||d===0||zN.has(l)?l==="float"?i.cssFloat=d:i[l]=(""+d).trim():i[l]=d+"px"}function k1(i,l,d){if(l!=null&&typeof l!="object")throw Error(r(62));if(i=i.style,d!=null){for(var m in d)!d.hasOwnProperty(m)||l!=null&&l.hasOwnProperty(m)||(m.indexOf("--")===0?i.setProperty(m,""):m==="float"?i.cssFloat="":i[m]="");for(var b in l)m=l[b],l.hasOwnProperty(b)&&d[b]!==m&&D1(i,b,m)}else for(var C in l)l.hasOwnProperty(C)&&D1(i,C,l[C])}function vm(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var VN=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),UN=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Lf(i){return UN.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var gm=null;function ym(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ns=null,Os=null;function M1(i){var l=Rs(i);if(l&&(i=l.stateNode)){var d=i[ir]||null;t:switch(i=l.stateNode,l.type){case"input":if(pm(i,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),l=d.name,d.type==="radio"&&l!=null){for(d=i;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Lr(""+l)+'"][type="radio"]'),l=0;l<d.length;l++){var m=d[l];if(m!==i&&m.form===i.form){var b=m[ir]||null;if(!b)throw Error(r(90));pm(m,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(l=0;l<d.length;l++)m=d[l],m.form===i.form&&T1(m)}break t;case"textarea":A1(i,d.value,d.defaultValue);break t;case"select":l=d.value,l!=null&&ks(i,!!d.multiple,l,!1)}}}var bm=!1;function N1(i,l,d){if(bm)return i(l,d);bm=!0;try{var m=i(l);return m}finally{if(bm=!1,(Ns!==null||Os!==null)&&(Cd(),Ns&&(l=Ns,i=Os,Os=Ns=null,M1(l),i)))for(l=0;l<i.length;l++)M1(i[l])}}function vl(i,l){var d=i.stateNode;if(d===null)return null;var m=d[ir]||null;if(m===null)return null;d=m[l];t:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(i=i.type,m=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!m;break t;default:i=!1}if(i)return null;if(d&&typeof d!="function")throw Error(r(231,l,typeof d));return d}var oa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xm=!1;if(oa)try{var gl={};Object.defineProperty(gl,"passive",{get:function(){xm=!0}}),window.addEventListener("test",gl,gl),window.removeEventListener("test",gl,gl)}catch{xm=!1}var Ua=null,wm=null,zf=null;function O1(){if(zf)return zf;var i,l=wm,d=l.length,m,b="value"in Ua?Ua.value:Ua.textContent,C=b.length;for(i=0;i<d&&l[i]===b[i];i++);var P=d-i;for(m=1;m<=P&&l[d-m]===b[C-m];m++);return zf=b.slice(i,1<m?1-m:void 0)}function Vf(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function Uf(){return!0}function P1(){return!1}function sr(i){function l(d,m,b,C,P){this._reactName=d,this._targetInst=b,this.type=m,this.nativeEvent=C,this.target=P,this.currentTarget=null;for(var L in i)i.hasOwnProperty(L)&&(d=i[L],this[L]=d?d(C):C[L]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?Uf:P1,this.isPropagationStopped=P1,this}return h(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Uf)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Uf)},persist:function(){},isPersistent:Uf}),l}var Mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jf=sr(Mi),yl=h({},Mi,{view:0,detail:0}),jN=sr(yl),Sm,Cm,bl,Wf=h({},yl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tm,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==bl&&(bl&&i.type==="mousemove"?(Sm=i.screenX-bl.screenX,Cm=i.screenY-bl.screenY):Cm=Sm=0,bl=i),Sm)},movementY:function(i){return"movementY"in i?i.movementY:Cm}}),I1=sr(Wf),WN=h({},Wf,{dataTransfer:0}),HN=sr(WN),GN=h({},yl,{relatedTarget:0}),Em=sr(GN),$N=h({},Mi,{animationName:0,elapsedTime:0,pseudoElement:0}),qN=sr($N),KN=h({},Mi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),XN=sr(KN),YN=h({},Mi,{data:0}),B1=sr(YN),QN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ZN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},JN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tO(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=JN[i])?!!l[i]:!1}function Tm(){return tO}var eO=h({},yl,{key:function(i){if(i.key){var l=QN[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=Vf(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?ZN[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tm,charCode:function(i){return i.type==="keypress"?Vf(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Vf(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),nO=sr(eO),rO=h({},Wf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),F1=sr(rO),oO=h({},yl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tm}),aO=sr(oO),iO=h({},Mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),sO=sr(iO),uO=h({},Wf,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),lO=sr(uO),cO=h({},Mi,{newState:0,oldState:0}),fO=sr(cO),dO=[9,13,27,32],Rm=oa&&"CompositionEvent"in window,xl=null;oa&&"documentMode"in document&&(xl=document.documentMode);var hO=oa&&"TextEvent"in window&&!xl,L1=oa&&(!Rm||xl&&8<xl&&11>=xl),z1=" ",V1=!1;function U1(i,l){switch(i){case"keyup":return dO.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function j1(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ps=!1;function pO(i,l){switch(i){case"compositionend":return j1(l);case"keypress":return l.which!==32?null:(V1=!0,z1);case"textInput":return i=l.data,i===z1&&V1?null:i;default:return null}}function mO(i,l){if(Ps)return i==="compositionend"||!Rm&&U1(i,l)?(i=O1(),zf=wm=Ua=null,Ps=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return L1&&l.locale!=="ko"?null:l.data;default:return null}}var vO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function W1(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!vO[i.type]:l==="textarea"}function H1(i,l,d,m){Ns?Os?Os.push(m):Os=[m]:Ns=m,l=Dd(l,"onChange"),0<l.length&&(d=new jf("onChange","change",null,d,m),i.push({event:d,listeners:l}))}var wl=null,Sl=null;function gO(i){ES(i,0)}function Hf(i){var l=ml(i);if(T1(l))return i}function G1(i,l){if(i==="change")return l}var $1=!1;if(oa){var Am;if(oa){var _m="oninput"in document;if(!_m){var q1=document.createElement("div");q1.setAttribute("oninput","return;"),_m=typeof q1.oninput=="function"}Am=_m}else Am=!1;$1=Am&&(!document.documentMode||9<document.documentMode)}function K1(){wl&&(wl.detachEvent("onpropertychange",X1),Sl=wl=null)}function X1(i){if(i.propertyName==="value"&&Hf(Sl)){var l=[];H1(l,Sl,i,ym(i)),N1(gO,l)}}function yO(i,l,d){i==="focusin"?(K1(),wl=l,Sl=d,wl.attachEvent("onpropertychange",X1)):i==="focusout"&&K1()}function bO(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Hf(Sl)}function xO(i,l){if(i==="click")return Hf(l)}function wO(i,l){if(i==="input"||i==="change")return Hf(l)}function SO(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var wr=typeof Object.is=="function"?Object.is:SO;function Cl(i,l){if(wr(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var d=Object.keys(i),m=Object.keys(l);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var b=d[m];if(!At.call(l,b)||!wr(i[b],l[b]))return!1}return!0}function Y1(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Q1(i,l){var d=Y1(i);i=0;for(var m;d;){if(d.nodeType===3){if(m=i+d.textContent.length,i<=l&&m>=l)return{node:d,offset:l-i};i=m}t:{for(;d;){if(d.nextSibling){d=d.nextSibling;break t}d=d.parentNode}d=void 0}d=Y1(d)}}function Z1(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?Z1(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function J1(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var l=Ff(i.document);l instanceof i.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)i=l.contentWindow;else break;l=Ff(i.document)}return l}function Dm(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}var CO=oa&&"documentMode"in document&&11>=document.documentMode,Is=null,km=null,El=null,Mm=!1;function tw(i,l,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Mm||Is==null||Is!==Ff(m)||(m=Is,"selectionStart"in m&&Dm(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),El&&Cl(El,m)||(El=m,m=Dd(km,"onSelect"),0<m.length&&(l=new jf("onSelect","select",null,l,d),i.push({event:l,listeners:m}),l.target=Is)))}function Ni(i,l){var d={};return d[i.toLowerCase()]=l.toLowerCase(),d["Webkit"+i]="webkit"+l,d["Moz"+i]="moz"+l,d}var Bs={animationend:Ni("Animation","AnimationEnd"),animationiteration:Ni("Animation","AnimationIteration"),animationstart:Ni("Animation","AnimationStart"),transitionrun:Ni("Transition","TransitionRun"),transitionstart:Ni("Transition","TransitionStart"),transitioncancel:Ni("Transition","TransitionCancel"),transitionend:Ni("Transition","TransitionEnd")},Nm={},ew={};oa&&(ew=document.createElement("div").style,"AnimationEvent"in window||(delete Bs.animationend.animation,delete Bs.animationiteration.animation,delete Bs.animationstart.animation),"TransitionEvent"in window||delete Bs.transitionend.transition);function Oi(i){if(Nm[i])return Nm[i];if(!Bs[i])return i;var l=Bs[i],d;for(d in l)if(l.hasOwnProperty(d)&&d in ew)return Nm[i]=l[d];return i}var nw=Oi("animationend"),rw=Oi("animationiteration"),ow=Oi("animationstart"),EO=Oi("transitionrun"),TO=Oi("transitionstart"),RO=Oi("transitioncancel"),aw=Oi("transitionend"),iw=new Map,Om="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Om.push("scrollEnd");function lo(i,l){iw.set(i,l),ki(l,[i])}var sw=new WeakMap;function zr(i,l){if(typeof i=="object"&&i!==null){var d=sw.get(i);return d!==void 0?d:(l={value:i,source:l,stack:C1(l)},sw.set(i,l),l)}return{value:i,source:l,stack:C1(l)}}var Vr=[],Fs=0,Pm=0;function Gf(){for(var i=Fs,l=Pm=Fs=0;l<i;){var d=Vr[l];Vr[l++]=null;var m=Vr[l];Vr[l++]=null;var b=Vr[l];Vr[l++]=null;var C=Vr[l];if(Vr[l++]=null,m!==null&&b!==null){var P=m.pending;P===null?b.next=b:(b.next=P.next,P.next=b),m.pending=b}C!==0&&uw(d,b,C)}}function $f(i,l,d,m){Vr[Fs++]=i,Vr[Fs++]=l,Vr[Fs++]=d,Vr[Fs++]=m,Pm|=m,i.lanes|=m,i=i.alternate,i!==null&&(i.lanes|=m)}function Im(i,l,d,m){return $f(i,l,d,m),qf(i)}function Ls(i,l){return $f(i,null,null,l),qf(i)}function uw(i,l,d){i.lanes|=d;var m=i.alternate;m!==null&&(m.lanes|=d);for(var b=!1,C=i.return;C!==null;)C.childLanes|=d,m=C.alternate,m!==null&&(m.childLanes|=d),C.tag===22&&(i=C.stateNode,i===null||i._visibility&1||(b=!0)),i=C,C=C.return;return i.tag===3?(C=i.stateNode,b&&l!==null&&(b=31-pe(d),i=C.hiddenUpdates,m=i[b],m===null?i[b]=[l]:m.push(l),l.lane=d|536870912),C):null}function qf(i){if(50<Xl)throw Xl=0,Uv=null,Error(r(185));for(var l=i.return;l!==null;)i=l,l=i.return;return i.tag===3?i.stateNode:null}var zs={};function AO(i,l,d,m){this.tag=i,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sr(i,l,d,m){return new AO(i,l,d,m)}function Bm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function aa(i,l){var d=i.alternate;return d===null?(d=Sr(i.tag,l,i.key,i.mode),d.elementType=i.elementType,d.type=i.type,d.stateNode=i.stateNode,d.alternate=i,i.alternate=d):(d.pendingProps=l,d.type=i.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=i.flags&65011712,d.childLanes=i.childLanes,d.lanes=i.lanes,d.child=i.child,d.memoizedProps=i.memoizedProps,d.memoizedState=i.memoizedState,d.updateQueue=i.updateQueue,l=i.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=i.sibling,d.index=i.index,d.ref=i.ref,d.refCleanup=i.refCleanup,d}function lw(i,l){i.flags&=65011714;var d=i.alternate;return d===null?(i.childLanes=0,i.lanes=l,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=d.childLanes,i.lanes=d.lanes,i.child=d.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=d.memoizedProps,i.memoizedState=d.memoizedState,i.updateQueue=d.updateQueue,i.type=d.type,l=d.dependencies,i.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),i}function Kf(i,l,d,m,b,C){var P=0;if(m=i,typeof i=="function")Bm(i)&&(P=1);else if(typeof i=="string")P=D3(i,d,lt.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case N:return i=Sr(31,d,l,b),i.elementType=N,i.lanes=C,i;case y:return Pi(d.children,b,C,l);case x:P=8,b|=24;break;case w:return i=Sr(12,d,l,b|2),i.elementType=w,i.lanes=C,i;case R:return i=Sr(13,d,l,b),i.elementType=R,i.lanes=C,i;case _:return i=Sr(19,d,l,b),i.elementType=_,i.lanes=C,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case S:case E:P=10;break t;case A:P=9;break t;case T:P=11;break t;case M:P=14;break t;case k:P=16,m=null;break t}P=29,d=Error(r(130,i===null?"null":typeof i,"")),m=null}return l=Sr(P,d,l,b),l.elementType=i,l.type=m,l.lanes=C,l}function Pi(i,l,d,m){return i=Sr(7,i,m,l),i.lanes=d,i}function Fm(i,l,d){return i=Sr(6,i,null,l),i.lanes=d,i}function Lm(i,l,d){return l=Sr(4,i.children!==null?i.children:[],i.key,l),l.lanes=d,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}var Vs=[],Us=0,Xf=null,Yf=0,Ur=[],jr=0,Ii=null,ia=1,sa="";function Bi(i,l){Vs[Us++]=Yf,Vs[Us++]=Xf,Xf=i,Yf=l}function cw(i,l,d){Ur[jr++]=ia,Ur[jr++]=sa,Ur[jr++]=Ii,Ii=i;var m=ia;i=sa;var b=32-pe(m)-1;m&=~(1<<b),d+=1;var C=32-pe(l)+b;if(30<C){var P=b-b%5;C=(m&(1<<P)-1).toString(32),m>>=P,b-=P,ia=1<<32-pe(l)+b|d<<b|m,sa=C+i}else ia=1<<C|d<<b|m,sa=i}function zm(i){i.return!==null&&(Bi(i,1),cw(i,1,0))}function Vm(i){for(;i===Xf;)Xf=Vs[--Us],Vs[Us]=null,Yf=Vs[--Us],Vs[Us]=null;for(;i===Ii;)Ii=Ur[--jr],Ur[jr]=null,sa=Ur[--jr],Ur[jr]=null,ia=Ur[--jr],Ur[jr]=null}var rr=null,en=null,Se=!1,Fi=null,wo=!1,Um=Error(r(519));function Li(i){var l=Error(r(418,""));throw Al(zr(l,i)),Um}function fw(i){var l=i.stateNode,d=i.type,m=i.memoizedProps;switch(l[Wn]=i,l[ir]=m,d){case"dialog":le("cancel",l),le("close",l);break;case"iframe":case"object":case"embed":le("load",l);break;case"video":case"audio":for(d=0;d<Ql.length;d++)le(Ql[d],l);break;case"source":le("error",l);break;case"img":case"image":case"link":le("error",l),le("load",l);break;case"details":le("toggle",l);break;case"input":le("invalid",l),R1(l,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),Bf(l);break;case"select":le("invalid",l);break;case"textarea":le("invalid",l),_1(l,m.value,m.defaultValue,m.children),Bf(l)}d=m.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||l.textContent===""+d||m.suppressHydrationWarning===!0||_S(l.textContent,d)?(m.popover!=null&&(le("beforetoggle",l),le("toggle",l)),m.onScroll!=null&&le("scroll",l),m.onScrollEnd!=null&&le("scrollend",l),m.onClick!=null&&(l.onclick=kd),l=!0):l=!1,l||Li(i)}function dw(i){for(rr=i.return;rr;)switch(rr.tag){case 5:case 13:wo=!1;return;case 27:case 3:wo=!0;return;default:rr=rr.return}}function Tl(i){if(i!==rr)return!1;if(!Se)return dw(i),Se=!0,!1;var l=i.tag,d;if((d=l!==3&&l!==27)&&((d=l===5)&&(d=i.type,d=!(d!=="form"&&d!=="button")||rg(i.type,i.memoizedProps)),d=!d),d&&en&&Li(i),dw(i),l===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));t:{for(i=i.nextSibling,l=0;i;){if(i.nodeType===8)if(d=i.data,d==="/$"){if(l===0){en=fo(i.nextSibling);break t}l--}else d!=="$"&&d!=="$!"&&d!=="$?"||l++;i=i.nextSibling}en=null}}else l===27?(l=en,ri(i.type)?(i=sg,sg=null,en=i):en=l):en=rr?fo(i.stateNode.nextSibling):null;return!0}function Rl(){en=rr=null,Se=!1}function hw(){var i=Fi;return i!==null&&(cr===null?cr=i:cr.push.apply(cr,i),Fi=null),i}function Al(i){Fi===null?Fi=[i]:Fi.push(i)}var jm=Q(null),zi=null,ua=null;function ja(i,l,d){nt(jm,l._currentValue),l._currentValue=d}function la(i){i._currentValue=jm.current,et(jm)}function Wm(i,l,d){for(;i!==null;){var m=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),i===d)break;i=i.return}}function Hm(i,l,d,m){var b=i.child;for(b!==null&&(b.return=i);b!==null;){var C=b.dependencies;if(C!==null){var P=b.child;C=C.firstContext;t:for(;C!==null;){var L=C;C=b;for(var K=0;K<l.length;K++)if(L.context===l[K]){C.lanes|=d,L=C.alternate,L!==null&&(L.lanes|=d),Wm(C.return,d,i),m||(P=null);break t}C=L.next}}else if(b.tag===18){if(P=b.return,P===null)throw Error(r(341));P.lanes|=d,C=P.alternate,C!==null&&(C.lanes|=d),Wm(P,d,i),P=null}else P=b.child;if(P!==null)P.return=b;else for(P=b;P!==null;){if(P===i){P=null;break}if(b=P.sibling,b!==null){b.return=P.return,P=b;break}P=P.return}b=P}}function _l(i,l,d,m){i=null;for(var b=l,C=!1;b!==null;){if(!C){if((b.flags&524288)!==0)C=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var P=b.alternate;if(P===null)throw Error(r(387));if(P=P.memoizedProps,P!==null){var L=b.type;wr(b.pendingProps.value,P.value)||(i!==null?i.push(L):i=[L])}}else if(b===bt.current){if(P=b.alternate,P===null)throw Error(r(387));P.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(i!==null?i.push(rc):i=[rc])}b=b.return}i!==null&&Hm(l,i,d,m),l.flags|=262144}function Qf(i){for(i=i.firstContext;i!==null;){if(!wr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Vi(i){zi=i,ua=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Hn(i){return pw(zi,i)}function Zf(i,l){return zi===null&&Vi(i),pw(i,l)}function pw(i,l){var d=l._currentValue;if(l={context:l,memoizedValue:d,next:null},ua===null){if(i===null)throw Error(r(308));ua=l,i.dependencies={lanes:0,firstContext:l},i.flags|=524288}else ua=ua.next=l;return d}var _O=typeof AbortController<"u"?AbortController:function(){var i=[],l=this.signal={aborted:!1,addEventListener:function(d,m){i.push(m)}};this.abort=function(){l.aborted=!0,i.forEach(function(d){return d()})}},DO=t.unstable_scheduleCallback,kO=t.unstable_NormalPriority,yn={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gm(){return{controller:new _O,data:new Map,refCount:0}}function Dl(i){i.refCount--,i.refCount===0&&DO(kO,function(){i.controller.abort()})}var kl=null,$m=0,js=0,Ws=null;function MO(i,l){if(kl===null){var d=kl=[];$m=0,js=Kv(),Ws={status:"pending",value:void 0,then:function(m){d.push(m)}}}return $m++,l.then(mw,mw),l}function mw(){if(--$m===0&&kl!==null){Ws!==null&&(Ws.status="fulfilled");var i=kl;kl=null,js=0,Ws=null;for(var l=0;l<i.length;l++)(0,i[l])()}}function NO(i,l){var d=[],m={status:"pending",value:null,reason:null,then:function(b){d.push(b)}};return i.then(function(){m.status="fulfilled",m.value=l;for(var b=0;b<d.length;b++)(0,d[b])(l)},function(b){for(m.status="rejected",m.reason=b,b=0;b<d.length;b++)(0,d[b])(void 0)}),m}var vw=B.S;B.S=function(i,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&MO(i,l),vw!==null&&vw(i,l)};var Ui=Q(null);function qm(){var i=Ui.current;return i!==null?i:Ue.pooledCache}function Jf(i,l){l===null?nt(Ui,Ui.current):nt(Ui,l.pool)}function gw(){var i=qm();return i===null?null:{parent:yn._currentValue,pool:i}}var Ml=Error(r(460)),yw=Error(r(474)),td=Error(r(542)),Km={then:function(){}};function bw(i){return i=i.status,i==="fulfilled"||i==="rejected"}function ed(){}function xw(i,l,d){switch(d=i[d],d===void 0?i.push(l):d!==l&&(l.then(ed,ed),l=d),l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,Sw(i),i;default:if(typeof l.status=="string")l.then(ed,ed);else{if(i=Ue,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=l,i.status="pending",i.then(function(m){if(l.status==="pending"){var b=l;b.status="fulfilled",b.value=m}},function(m){if(l.status==="pending"){var b=l;b.status="rejected",b.reason=m}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,Sw(i),i}throw Nl=l,Ml}}var Nl=null;function ww(){if(Nl===null)throw Error(r(459));var i=Nl;return Nl=null,i}function Sw(i){if(i===Ml||i===td)throw Error(r(483))}var Wa=!1;function Xm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ym(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ha(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ga(i,l,d){var m=i.updateQueue;if(m===null)return null;if(m=m.shared,(ke&2)!==0){var b=m.pending;return b===null?l.next=l:(l.next=b.next,b.next=l),m.pending=l,l=qf(i),uw(i,null,d),l}return $f(i,m,l,d),qf(i)}function Ol(i,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194048)!==0)){var m=l.lanes;m&=i.pendingLanes,d|=m,l.lanes=d,m1(i,d)}}function Qm(i,l){var d=i.updateQueue,m=i.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var b=null,C=null;if(d=d.firstBaseUpdate,d!==null){do{var P={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};C===null?b=C=P:C=C.next=P,d=d.next}while(d!==null);C===null?b=C=l:C=C.next=l}else b=C=l;d={baseState:m.baseState,firstBaseUpdate:b,lastBaseUpdate:C,shared:m.shared,callbacks:m.callbacks},i.updateQueue=d;return}i=d.lastBaseUpdate,i===null?d.firstBaseUpdate=l:i.next=l,d.lastBaseUpdate=l}var Zm=!1;function Pl(){if(Zm){var i=Ws;if(i!==null)throw i}}function Il(i,l,d,m){Zm=!1;var b=i.updateQueue;Wa=!1;var C=b.firstBaseUpdate,P=b.lastBaseUpdate,L=b.shared.pending;if(L!==null){b.shared.pending=null;var K=L,ot=K.next;K.next=null,P===null?C=ot:P.next=ot,P=K;var dt=i.alternate;dt!==null&&(dt=dt.updateQueue,L=dt.lastBaseUpdate,L!==P&&(L===null?dt.firstBaseUpdate=ot:L.next=ot,dt.lastBaseUpdate=K))}if(C!==null){var mt=b.baseState;P=0,dt=ot=K=null,L=C;do{var at=L.lane&-536870913,it=at!==L.lane;if(it?(ve&at)===at:(m&at)===at){at!==0&&at===js&&(Zm=!0),dt!==null&&(dt=dt.next={lane:0,tag:L.tag,payload:L.payload,callback:null,next:null});t:{var Gt=i,jt=L;at=l;var Be=d;switch(jt.tag){case 1:if(Gt=jt.payload,typeof Gt=="function"){mt=Gt.call(Be,mt,at);break t}mt=Gt;break t;case 3:Gt.flags=Gt.flags&-65537|128;case 0:if(Gt=jt.payload,at=typeof Gt=="function"?Gt.call(Be,mt,at):Gt,at==null)break t;mt=h({},mt,at);break t;case 2:Wa=!0}}at=L.callback,at!==null&&(i.flags|=64,it&&(i.flags|=8192),it=b.callbacks,it===null?b.callbacks=[at]:it.push(at))}else it={lane:at,tag:L.tag,payload:L.payload,callback:L.callback,next:null},dt===null?(ot=dt=it,K=mt):dt=dt.next=it,P|=at;if(L=L.next,L===null){if(L=b.shared.pending,L===null)break;it=L,L=it.next,it.next=null,b.lastBaseUpdate=it,b.shared.pending=null}}while(!0);dt===null&&(K=mt),b.baseState=K,b.firstBaseUpdate=ot,b.lastBaseUpdate=dt,C===null&&(b.shared.lanes=0),Ja|=P,i.lanes=P,i.memoizedState=mt}}function Cw(i,l){if(typeof i!="function")throw Error(r(191,i));i.call(l)}function Ew(i,l){var d=i.callbacks;if(d!==null)for(i.callbacks=null,i=0;i<d.length;i++)Cw(d[i],l)}var Hs=Q(null),nd=Q(0);function Tw(i,l){i=va,nt(nd,i),nt(Hs,l),va=i|l.baseLanes}function Jm(){nt(nd,va),nt(Hs,Hs.current)}function tv(){va=nd.current,et(Hs),et(nd)}var $a=0,re=null,Pe=null,hn=null,rd=!1,Gs=!1,ji=!1,od=0,Bl=0,$s=null,OO=0;function un(){throw Error(r(321))}function ev(i,l){if(l===null)return!1;for(var d=0;d<l.length&&d<i.length;d++)if(!wr(i[d],l[d]))return!1;return!0}function nv(i,l,d,m,b,C){return $a=C,re=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,B.H=i===null||i.memoizedState===null?u2:l2,ji=!1,C=d(m,b),ji=!1,Gs&&(C=Aw(l,d,m,b)),Rw(i),C}function Rw(i){B.H=cd;var l=Pe!==null&&Pe.next!==null;if($a=0,hn=Pe=re=null,rd=!1,Bl=0,$s=null,l)throw Error(r(300));i===null||An||(i=i.dependencies,i!==null&&Qf(i)&&(An=!0))}function Aw(i,l,d,m){re=i;var b=0;do{if(Gs&&($s=null),Bl=0,Gs=!1,25<=b)throw Error(r(301));if(b+=1,hn=Pe=null,i.updateQueue!=null){var C=i.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}B.H=VO,C=l(d,m)}while(Gs);return C}function PO(){var i=B.H,l=i.useState()[0];return l=typeof l.then=="function"?Fl(l):l,i=i.useState()[0],(Pe!==null?Pe.memoizedState:null)!==i&&(re.flags|=1024),l}function rv(){var i=od!==0;return od=0,i}function ov(i,l,d){l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~d}function av(i){if(rd){for(i=i.memoizedState;i!==null;){var l=i.queue;l!==null&&(l.pending=null),i=i.next}rd=!1}$a=0,hn=Pe=re=null,Gs=!1,Bl=od=0,$s=null}function ur(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hn===null?re.memoizedState=hn=i:hn=hn.next=i,hn}function pn(){if(Pe===null){var i=re.alternate;i=i!==null?i.memoizedState:null}else i=Pe.next;var l=hn===null?re.memoizedState:hn.next;if(l!==null)hn=l,Pe=i;else{if(i===null)throw re.alternate===null?Error(r(467)):Error(r(310));Pe=i,i={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},hn===null?re.memoizedState=hn=i:hn=hn.next=i}return hn}function iv(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fl(i){var l=Bl;return Bl+=1,$s===null&&($s=[]),i=xw($s,i,l),l=re,(hn===null?l.memoizedState:hn.next)===null&&(l=l.alternate,B.H=l===null||l.memoizedState===null?u2:l2),i}function ad(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Fl(i);if(i.$$typeof===E)return Hn(i)}throw Error(r(438,String(i)))}function sv(i){var l=null,d=re.updateQueue;if(d!==null&&(l=d.memoCache),l==null){var m=re.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(l={data:m.data.map(function(b){return b.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),d===null&&(d=iv(),re.updateQueue=d),d.memoCache=l,d=l.data[l.index],d===void 0)for(d=l.data[l.index]=Array(i),m=0;m<i;m++)d[m]=I;return l.index++,d}function ca(i,l){return typeof l=="function"?l(i):l}function id(i){var l=pn();return uv(l,Pe,i)}function uv(i,l,d){var m=i.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=d;var b=i.baseQueue,C=m.pending;if(C!==null){if(b!==null){var P=b.next;b.next=C.next,C.next=P}l.baseQueue=b=C,m.pending=null}if(C=i.baseState,b===null)i.memoizedState=C;else{l=b.next;var L=P=null,K=null,ot=l,dt=!1;do{var mt=ot.lane&-536870913;if(mt!==ot.lane?(ve&mt)===mt:($a&mt)===mt){var at=ot.revertLane;if(at===0)K!==null&&(K=K.next={lane:0,revertLane:0,action:ot.action,hasEagerState:ot.hasEagerState,eagerState:ot.eagerState,next:null}),mt===js&&(dt=!0);else if(($a&at)===at){ot=ot.next,at===js&&(dt=!0);continue}else mt={lane:0,revertLane:ot.revertLane,action:ot.action,hasEagerState:ot.hasEagerState,eagerState:ot.eagerState,next:null},K===null?(L=K=mt,P=C):K=K.next=mt,re.lanes|=at,Ja|=at;mt=ot.action,ji&&d(C,mt),C=ot.hasEagerState?ot.eagerState:d(C,mt)}else at={lane:mt,revertLane:ot.revertLane,action:ot.action,hasEagerState:ot.hasEagerState,eagerState:ot.eagerState,next:null},K===null?(L=K=at,P=C):K=K.next=at,re.lanes|=mt,Ja|=mt;ot=ot.next}while(ot!==null&&ot!==l);if(K===null?P=C:K.next=L,!wr(C,i.memoizedState)&&(An=!0,dt&&(d=Ws,d!==null)))throw d;i.memoizedState=C,i.baseState=P,i.baseQueue=K,m.lastRenderedState=C}return b===null&&(m.lanes=0),[i.memoizedState,m.dispatch]}function lv(i){var l=pn(),d=l.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=i;var m=d.dispatch,b=d.pending,C=l.memoizedState;if(b!==null){d.pending=null;var P=b=b.next;do C=i(C,P.action),P=P.next;while(P!==b);wr(C,l.memoizedState)||(An=!0),l.memoizedState=C,l.baseQueue===null&&(l.baseState=C),d.lastRenderedState=C}return[C,m]}function _w(i,l,d){var m=re,b=pn(),C=Se;if(C){if(d===void 0)throw Error(r(407));d=d()}else d=l();var P=!wr((Pe||b).memoizedState,d);P&&(b.memoizedState=d,An=!0),b=b.queue;var L=Mw.bind(null,m,b,i);if(Ll(2048,8,L,[i]),b.getSnapshot!==l||P||hn!==null&&hn.memoizedState.tag&1){if(m.flags|=2048,qs(9,sd(),kw.bind(null,m,b,d,l),null),Ue===null)throw Error(r(349));C||($a&124)!==0||Dw(m,l,d)}return d}function Dw(i,l,d){i.flags|=16384,i={getSnapshot:l,value:d},l=re.updateQueue,l===null?(l=iv(),re.updateQueue=l,l.stores=[i]):(d=l.stores,d===null?l.stores=[i]:d.push(i))}function kw(i,l,d,m){l.value=d,l.getSnapshot=m,Nw(l)&&Ow(i)}function Mw(i,l,d){return d(function(){Nw(l)&&Ow(i)})}function Nw(i){var l=i.getSnapshot;i=i.value;try{var d=l();return!wr(i,d)}catch{return!0}}function Ow(i){var l=Ls(i,2);l!==null&&Ar(l,i,2)}function cv(i){var l=ur();if(typeof i=="function"){var d=i;if(i=d(),ji){Jt(!0);try{d()}finally{Jt(!1)}}}return l.memoizedState=l.baseState=i,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ca,lastRenderedState:i},l}function Pw(i,l,d,m){return i.baseState=d,uv(i,Pe,typeof m=="function"?m:ca)}function IO(i,l,d,m,b){if(ld(i))throw Error(r(485));if(i=l.action,i!==null){var C={payload:b,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(P){C.listeners.push(P)}};B.T!==null?d(!0):C.isTransition=!1,m(C),d=l.pending,d===null?(C.next=l.pending=C,Iw(l,C)):(C.next=d.next,l.pending=d.next=C)}}function Iw(i,l){var d=l.action,m=l.payload,b=i.state;if(l.isTransition){var C=B.T,P={};B.T=P;try{var L=d(b,m),K=B.S;K!==null&&K(P,L),Bw(i,l,L)}catch(ot){fv(i,l,ot)}finally{B.T=C}}else try{C=d(b,m),Bw(i,l,C)}catch(ot){fv(i,l,ot)}}function Bw(i,l,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(m){Fw(i,l,m)},function(m){return fv(i,l,m)}):Fw(i,l,d)}function Fw(i,l,d){l.status="fulfilled",l.value=d,Lw(l),i.state=d,l=i.pending,l!==null&&(d=l.next,d===l?i.pending=null:(d=d.next,l.next=d,Iw(i,d)))}function fv(i,l,d){var m=i.pending;if(i.pending=null,m!==null){m=m.next;do l.status="rejected",l.reason=d,Lw(l),l=l.next;while(l!==m)}i.action=null}function Lw(i){i=i.listeners;for(var l=0;l<i.length;l++)(0,i[l])()}function zw(i,l){return l}function Vw(i,l){if(Se){var d=Ue.formState;if(d!==null){t:{var m=re;if(Se){if(en){e:{for(var b=en,C=wo;b.nodeType!==8;){if(!C){b=null;break e}if(b=fo(b.nextSibling),b===null){b=null;break e}}C=b.data,b=C==="F!"||C==="F"?b:null}if(b){en=fo(b.nextSibling),m=b.data==="F!";break t}}Li(m)}m=!1}m&&(l=d[0])}}return d=ur(),d.memoizedState=d.baseState=l,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zw,lastRenderedState:l},d.queue=m,d=a2.bind(null,re,m),m.dispatch=d,m=cv(!1),C=vv.bind(null,re,!1,m.queue),m=ur(),b={state:l,dispatch:null,action:i,pending:null},m.queue=b,d=IO.bind(null,re,b,C,d),b.dispatch=d,m.memoizedState=i,[l,d,!1]}function Uw(i){var l=pn();return jw(l,Pe,i)}function jw(i,l,d){if(l=uv(i,l,zw)[0],i=id(ca)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var m=Fl(l)}catch(P){throw P===Ml?td:P}else m=l;l=pn();var b=l.queue,C=b.dispatch;return d!==l.memoizedState&&(re.flags|=2048,qs(9,sd(),BO.bind(null,b,d),null)),[m,C,i]}function BO(i,l){i.action=l}function Ww(i){var l=pn(),d=Pe;if(d!==null)return jw(l,d,i);pn(),l=l.memoizedState,d=pn();var m=d.queue.dispatch;return d.memoizedState=i,[l,m,!1]}function qs(i,l,d,m){return i={tag:i,create:d,deps:m,inst:l,next:null},l=re.updateQueue,l===null&&(l=iv(),re.updateQueue=l),d=l.lastEffect,d===null?l.lastEffect=i.next=i:(m=d.next,d.next=i,i.next=m,l.lastEffect=i),i}function sd(){return{destroy:void 0,resource:void 0}}function Hw(){return pn().memoizedState}function ud(i,l,d,m){var b=ur();m=m===void 0?null:m,re.flags|=i,b.memoizedState=qs(1|l,sd(),d,m)}function Ll(i,l,d,m){var b=pn();m=m===void 0?null:m;var C=b.memoizedState.inst;Pe!==null&&m!==null&&ev(m,Pe.memoizedState.deps)?b.memoizedState=qs(l,C,d,m):(re.flags|=i,b.memoizedState=qs(1|l,C,d,m))}function Gw(i,l){ud(8390656,8,i,l)}function $w(i,l){Ll(2048,8,i,l)}function qw(i,l){return Ll(4,2,i,l)}function Kw(i,l){return Ll(4,4,i,l)}function Xw(i,l){if(typeof l=="function"){i=i();var d=l(i);return function(){typeof d=="function"?d():l(null)}}if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function Yw(i,l,d){d=d!=null?d.concat([i]):null,Ll(4,4,Xw.bind(null,l,i),d)}function dv(){}function Qw(i,l){var d=pn();l=l===void 0?null:l;var m=d.memoizedState;return l!==null&&ev(l,m[1])?m[0]:(d.memoizedState=[i,l],i)}function Zw(i,l){var d=pn();l=l===void 0?null:l;var m=d.memoizedState;if(l!==null&&ev(l,m[1]))return m[0];if(m=i(),ji){Jt(!0);try{i()}finally{Jt(!1)}}return d.memoizedState=[m,l],m}function hv(i,l,d){return d===void 0||($a&1073741824)!==0?i.memoizedState=l:(i.memoizedState=d,i=eS(),re.lanes|=i,Ja|=i,d)}function Jw(i,l,d,m){return wr(d,l)?d:Hs.current!==null?(i=hv(i,d,m),wr(i,l)||(An=!0),i):($a&42)===0?(An=!0,i.memoizedState=d):(i=eS(),re.lanes|=i,Ja|=i,l)}function t2(i,l,d,m,b){var C=H.p;H.p=C!==0&&8>C?C:8;var P=B.T,L={};B.T=L,vv(i,!1,l,d);try{var K=b(),ot=B.S;if(ot!==null&&ot(L,K),K!==null&&typeof K=="object"&&typeof K.then=="function"){var dt=NO(K,m);zl(i,l,dt,Rr(i))}else zl(i,l,m,Rr(i))}catch(mt){zl(i,l,{then:function(){},status:"rejected",reason:mt},Rr())}finally{H.p=C,B.T=P}}function FO(){}function pv(i,l,d,m){if(i.tag!==5)throw Error(r(476));var b=e2(i).queue;t2(i,b,l,q,d===null?FO:function(){return n2(i),d(m)})}function e2(i){var l=i.memoizedState;if(l!==null)return l;l={memoizedState:q,baseState:q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ca,lastRenderedState:q},next:null};var d={};return l.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ca,lastRenderedState:d},next:null},i.memoizedState=l,i=i.alternate,i!==null&&(i.memoizedState=l),l}function n2(i){var l=e2(i).next.queue;zl(i,l,{},Rr())}function mv(){return Hn(rc)}function r2(){return pn().memoizedState}function o2(){return pn().memoizedState}function LO(i){for(var l=i.return;l!==null;){switch(l.tag){case 24:case 3:var d=Rr();i=Ha(d);var m=Ga(l,i,d);m!==null&&(Ar(m,l,d),Ol(m,l,d)),l={cache:Gm()},i.payload=l;return}l=l.return}}function zO(i,l,d){var m=Rr();d={lane:m,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null},ld(i)?i2(l,d):(d=Im(i,l,d,m),d!==null&&(Ar(d,i,m),s2(d,l,m)))}function a2(i,l,d){var m=Rr();zl(i,l,d,m)}function zl(i,l,d,m){var b={lane:m,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null};if(ld(i))i2(l,b);else{var C=i.alternate;if(i.lanes===0&&(C===null||C.lanes===0)&&(C=l.lastRenderedReducer,C!==null))try{var P=l.lastRenderedState,L=C(P,d);if(b.hasEagerState=!0,b.eagerState=L,wr(L,P))return $f(i,l,b,0),Ue===null&&Gf(),!1}catch{}finally{}if(d=Im(i,l,b,m),d!==null)return Ar(d,i,m),s2(d,l,m),!0}return!1}function vv(i,l,d,m){if(m={lane:2,revertLane:Kv(),action:m,hasEagerState:!1,eagerState:null,next:null},ld(i)){if(l)throw Error(r(479))}else l=Im(i,d,m,2),l!==null&&Ar(l,i,2)}function ld(i){var l=i.alternate;return i===re||l!==null&&l===re}function i2(i,l){Gs=rd=!0;var d=i.pending;d===null?l.next=l:(l.next=d.next,d.next=l),i.pending=l}function s2(i,l,d){if((d&4194048)!==0){var m=l.lanes;m&=i.pendingLanes,d|=m,l.lanes=d,m1(i,d)}}var cd={readContext:Hn,use:ad,useCallback:un,useContext:un,useEffect:un,useImperativeHandle:un,useLayoutEffect:un,useInsertionEffect:un,useMemo:un,useReducer:un,useRef:un,useState:un,useDebugValue:un,useDeferredValue:un,useTransition:un,useSyncExternalStore:un,useId:un,useHostTransitionStatus:un,useFormState:un,useActionState:un,useOptimistic:un,useMemoCache:un,useCacheRefresh:un},u2={readContext:Hn,use:ad,useCallback:function(i,l){return ur().memoizedState=[i,l===void 0?null:l],i},useContext:Hn,useEffect:Gw,useImperativeHandle:function(i,l,d){d=d!=null?d.concat([i]):null,ud(4194308,4,Xw.bind(null,l,i),d)},useLayoutEffect:function(i,l){return ud(4194308,4,i,l)},useInsertionEffect:function(i,l){ud(4,2,i,l)},useMemo:function(i,l){var d=ur();l=l===void 0?null:l;var m=i();if(ji){Jt(!0);try{i()}finally{Jt(!1)}}return d.memoizedState=[m,l],m},useReducer:function(i,l,d){var m=ur();if(d!==void 0){var b=d(l);if(ji){Jt(!0);try{d(l)}finally{Jt(!1)}}}else b=l;return m.memoizedState=m.baseState=b,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:b},m.queue=i,i=i.dispatch=zO.bind(null,re,i),[m.memoizedState,i]},useRef:function(i){var l=ur();return i={current:i},l.memoizedState=i},useState:function(i){i=cv(i);var l=i.queue,d=a2.bind(null,re,l);return l.dispatch=d,[i.memoizedState,d]},useDebugValue:dv,useDeferredValue:function(i,l){var d=ur();return hv(d,i,l)},useTransition:function(){var i=cv(!1);return i=t2.bind(null,re,i.queue,!0,!1),ur().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,l,d){var m=re,b=ur();if(Se){if(d===void 0)throw Error(r(407));d=d()}else{if(d=l(),Ue===null)throw Error(r(349));(ve&124)!==0||Dw(m,l,d)}b.memoizedState=d;var C={value:d,getSnapshot:l};return b.queue=C,Gw(Mw.bind(null,m,C,i),[i]),m.flags|=2048,qs(9,sd(),kw.bind(null,m,C,d,l),null),d},useId:function(){var i=ur(),l=Ue.identifierPrefix;if(Se){var d=sa,m=ia;d=(m&~(1<<32-pe(m)-1)).toString(32)+d,l="«"+l+"R"+d,d=od++,0<d&&(l+="H"+d.toString(32)),l+="»"}else d=OO++,l="«"+l+"r"+d.toString(32)+"»";return i.memoizedState=l},useHostTransitionStatus:mv,useFormState:Vw,useActionState:Vw,useOptimistic:function(i){var l=ur();l.memoizedState=l.baseState=i;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=d,l=vv.bind(null,re,!0,d),d.dispatch=l,[i,l]},useMemoCache:sv,useCacheRefresh:function(){return ur().memoizedState=LO.bind(null,re)}},l2={readContext:Hn,use:ad,useCallback:Qw,useContext:Hn,useEffect:$w,useImperativeHandle:Yw,useInsertionEffect:qw,useLayoutEffect:Kw,useMemo:Zw,useReducer:id,useRef:Hw,useState:function(){return id(ca)},useDebugValue:dv,useDeferredValue:function(i,l){var d=pn();return Jw(d,Pe.memoizedState,i,l)},useTransition:function(){var i=id(ca)[0],l=pn().memoizedState;return[typeof i=="boolean"?i:Fl(i),l]},useSyncExternalStore:_w,useId:r2,useHostTransitionStatus:mv,useFormState:Uw,useActionState:Uw,useOptimistic:function(i,l){var d=pn();return Pw(d,Pe,i,l)},useMemoCache:sv,useCacheRefresh:o2},VO={readContext:Hn,use:ad,useCallback:Qw,useContext:Hn,useEffect:$w,useImperativeHandle:Yw,useInsertionEffect:qw,useLayoutEffect:Kw,useMemo:Zw,useReducer:lv,useRef:Hw,useState:function(){return lv(ca)},useDebugValue:dv,useDeferredValue:function(i,l){var d=pn();return Pe===null?hv(d,i,l):Jw(d,Pe.memoizedState,i,l)},useTransition:function(){var i=lv(ca)[0],l=pn().memoizedState;return[typeof i=="boolean"?i:Fl(i),l]},useSyncExternalStore:_w,useId:r2,useHostTransitionStatus:mv,useFormState:Ww,useActionState:Ww,useOptimistic:function(i,l){var d=pn();return Pe!==null?Pw(d,Pe,i,l):(d.baseState=i,[i,d.queue.dispatch])},useMemoCache:sv,useCacheRefresh:o2},Ks=null,Vl=0;function fd(i){var l=Vl;return Vl+=1,Ks===null&&(Ks=[]),xw(Ks,i,l)}function Ul(i,l){l=l.props.ref,i.ref=l!==void 0?l:null}function dd(i,l){throw l.$$typeof===p?Error(r(525)):(i=Object.prototype.toString.call(l),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i)))}function c2(i){var l=i._init;return l(i._payload)}function f2(i){function l(tt,Z){if(i){var rt=tt.deletions;rt===null?(tt.deletions=[Z],tt.flags|=16):rt.push(Z)}}function d(tt,Z){if(!i)return null;for(;Z!==null;)l(tt,Z),Z=Z.sibling;return null}function m(tt){for(var Z=new Map;tt!==null;)tt.key!==null?Z.set(tt.key,tt):Z.set(tt.index,tt),tt=tt.sibling;return Z}function b(tt,Z){return tt=aa(tt,Z),tt.index=0,tt.sibling=null,tt}function C(tt,Z,rt){return tt.index=rt,i?(rt=tt.alternate,rt!==null?(rt=rt.index,rt<Z?(tt.flags|=67108866,Z):rt):(tt.flags|=67108866,Z)):(tt.flags|=1048576,Z)}function P(tt){return i&&tt.alternate===null&&(tt.flags|=67108866),tt}function L(tt,Z,rt,ht){return Z===null||Z.tag!==6?(Z=Fm(rt,tt.mode,ht),Z.return=tt,Z):(Z=b(Z,rt),Z.return=tt,Z)}function K(tt,Z,rt,ht){var kt=rt.type;return kt===y?dt(tt,Z,rt.props.children,ht,rt.key):Z!==null&&(Z.elementType===kt||typeof kt=="object"&&kt!==null&&kt.$$typeof===k&&c2(kt)===Z.type)?(Z=b(Z,rt.props),Ul(Z,rt),Z.return=tt,Z):(Z=Kf(rt.type,rt.key,rt.props,null,tt.mode,ht),Ul(Z,rt),Z.return=tt,Z)}function ot(tt,Z,rt,ht){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==rt.containerInfo||Z.stateNode.implementation!==rt.implementation?(Z=Lm(rt,tt.mode,ht),Z.return=tt,Z):(Z=b(Z,rt.children||[]),Z.return=tt,Z)}function dt(tt,Z,rt,ht,kt){return Z===null||Z.tag!==7?(Z=Pi(rt,tt.mode,ht,kt),Z.return=tt,Z):(Z=b(Z,rt),Z.return=tt,Z)}function mt(tt,Z,rt){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Z=Fm(""+Z,tt.mode,rt),Z.return=tt,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case v:return rt=Kf(Z.type,Z.key,Z.props,null,tt.mode,rt),Ul(rt,Z),rt.return=tt,rt;case g:return Z=Lm(Z,tt.mode,rt),Z.return=tt,Z;case k:var ht=Z._init;return Z=ht(Z._payload),mt(tt,Z,rt)}if(W(Z)||D(Z))return Z=Pi(Z,tt.mode,rt,null),Z.return=tt,Z;if(typeof Z.then=="function")return mt(tt,fd(Z),rt);if(Z.$$typeof===E)return mt(tt,Zf(tt,Z),rt);dd(tt,Z)}return null}function at(tt,Z,rt,ht){var kt=Z!==null?Z.key:null;if(typeof rt=="string"&&rt!==""||typeof rt=="number"||typeof rt=="bigint")return kt!==null?null:L(tt,Z,""+rt,ht);if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case v:return rt.key===kt?K(tt,Z,rt,ht):null;case g:return rt.key===kt?ot(tt,Z,rt,ht):null;case k:return kt=rt._init,rt=kt(rt._payload),at(tt,Z,rt,ht)}if(W(rt)||D(rt))return kt!==null?null:dt(tt,Z,rt,ht,null);if(typeof rt.then=="function")return at(tt,Z,fd(rt),ht);if(rt.$$typeof===E)return at(tt,Z,Zf(tt,rt),ht);dd(tt,rt)}return null}function it(tt,Z,rt,ht,kt){if(typeof ht=="string"&&ht!==""||typeof ht=="number"||typeof ht=="bigint")return tt=tt.get(rt)||null,L(Z,tt,""+ht,kt);if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case v:return tt=tt.get(ht.key===null?rt:ht.key)||null,K(Z,tt,ht,kt);case g:return tt=tt.get(ht.key===null?rt:ht.key)||null,ot(Z,tt,ht,kt);case k:var ae=ht._init;return ht=ae(ht._payload),it(tt,Z,rt,ht,kt)}if(W(ht)||D(ht))return tt=tt.get(rt)||null,dt(Z,tt,ht,kt,null);if(typeof ht.then=="function")return it(tt,Z,rt,fd(ht),kt);if(ht.$$typeof===E)return it(tt,Z,rt,Zf(Z,ht),kt);dd(Z,ht)}return null}function Gt(tt,Z,rt,ht){for(var kt=null,ae=null,Vt=Z,Wt=Z=0,Dn=null;Vt!==null&&Wt<rt.length;Wt++){Vt.index>Wt?(Dn=Vt,Vt=null):Dn=Vt.sibling;var xe=at(tt,Vt,rt[Wt],ht);if(xe===null){Vt===null&&(Vt=Dn);break}i&&Vt&&xe.alternate===null&&l(tt,Vt),Z=C(xe,Z,Wt),ae===null?kt=xe:ae.sibling=xe,ae=xe,Vt=Dn}if(Wt===rt.length)return d(tt,Vt),Se&&Bi(tt,Wt),kt;if(Vt===null){for(;Wt<rt.length;Wt++)Vt=mt(tt,rt[Wt],ht),Vt!==null&&(Z=C(Vt,Z,Wt),ae===null?kt=Vt:ae.sibling=Vt,ae=Vt);return Se&&Bi(tt,Wt),kt}for(Vt=m(Vt);Wt<rt.length;Wt++)Dn=it(Vt,tt,Wt,rt[Wt],ht),Dn!==null&&(i&&Dn.alternate!==null&&Vt.delete(Dn.key===null?Wt:Dn.key),Z=C(Dn,Z,Wt),ae===null?kt=Dn:ae.sibling=Dn,ae=Dn);return i&&Vt.forEach(function(ui){return l(tt,ui)}),Se&&Bi(tt,Wt),kt}function jt(tt,Z,rt,ht){if(rt==null)throw Error(r(151));for(var kt=null,ae=null,Vt=Z,Wt=Z=0,Dn=null,xe=rt.next();Vt!==null&&!xe.done;Wt++,xe=rt.next()){Vt.index>Wt?(Dn=Vt,Vt=null):Dn=Vt.sibling;var ui=at(tt,Vt,xe.value,ht);if(ui===null){Vt===null&&(Vt=Dn);break}i&&Vt&&ui.alternate===null&&l(tt,Vt),Z=C(ui,Z,Wt),ae===null?kt=ui:ae.sibling=ui,ae=ui,Vt=Dn}if(xe.done)return d(tt,Vt),Se&&Bi(tt,Wt),kt;if(Vt===null){for(;!xe.done;Wt++,xe=rt.next())xe=mt(tt,xe.value,ht),xe!==null&&(Z=C(xe,Z,Wt),ae===null?kt=xe:ae.sibling=xe,ae=xe);return Se&&Bi(tt,Wt),kt}for(Vt=m(Vt);!xe.done;Wt++,xe=rt.next())xe=it(Vt,tt,Wt,xe.value,ht),xe!==null&&(i&&xe.alternate!==null&&Vt.delete(xe.key===null?Wt:xe.key),Z=C(xe,Z,Wt),ae===null?kt=xe:ae.sibling=xe,ae=xe);return i&&Vt.forEach(function(U3){return l(tt,U3)}),Se&&Bi(tt,Wt),kt}function Be(tt,Z,rt,ht){if(typeof rt=="object"&&rt!==null&&rt.type===y&&rt.key===null&&(rt=rt.props.children),typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case v:t:{for(var kt=rt.key;Z!==null;){if(Z.key===kt){if(kt=rt.type,kt===y){if(Z.tag===7){d(tt,Z.sibling),ht=b(Z,rt.props.children),ht.return=tt,tt=ht;break t}}else if(Z.elementType===kt||typeof kt=="object"&&kt!==null&&kt.$$typeof===k&&c2(kt)===Z.type){d(tt,Z.sibling),ht=b(Z,rt.props),Ul(ht,rt),ht.return=tt,tt=ht;break t}d(tt,Z);break}else l(tt,Z);Z=Z.sibling}rt.type===y?(ht=Pi(rt.props.children,tt.mode,ht,rt.key),ht.return=tt,tt=ht):(ht=Kf(rt.type,rt.key,rt.props,null,tt.mode,ht),Ul(ht,rt),ht.return=tt,tt=ht)}return P(tt);case g:t:{for(kt=rt.key;Z!==null;){if(Z.key===kt)if(Z.tag===4&&Z.stateNode.containerInfo===rt.containerInfo&&Z.stateNode.implementation===rt.implementation){d(tt,Z.sibling),ht=b(Z,rt.children||[]),ht.return=tt,tt=ht;break t}else{d(tt,Z);break}else l(tt,Z);Z=Z.sibling}ht=Lm(rt,tt.mode,ht),ht.return=tt,tt=ht}return P(tt);case k:return kt=rt._init,rt=kt(rt._payload),Be(tt,Z,rt,ht)}if(W(rt))return Gt(tt,Z,rt,ht);if(D(rt)){if(kt=D(rt),typeof kt!="function")throw Error(r(150));return rt=kt.call(rt),jt(tt,Z,rt,ht)}if(typeof rt.then=="function")return Be(tt,Z,fd(rt),ht);if(rt.$$typeof===E)return Be(tt,Z,Zf(tt,rt),ht);dd(tt,rt)}return typeof rt=="string"&&rt!==""||typeof rt=="number"||typeof rt=="bigint"?(rt=""+rt,Z!==null&&Z.tag===6?(d(tt,Z.sibling),ht=b(Z,rt),ht.return=tt,tt=ht):(d(tt,Z),ht=Fm(rt,tt.mode,ht),ht.return=tt,tt=ht),P(tt)):d(tt,Z)}return function(tt,Z,rt,ht){try{Vl=0;var kt=Be(tt,Z,rt,ht);return Ks=null,kt}catch(Vt){if(Vt===Ml||Vt===td)throw Vt;var ae=Sr(29,Vt,null,tt.mode);return ae.lanes=ht,ae.return=tt,ae}finally{}}}var Xs=f2(!0),d2=f2(!1),Wr=Q(null),So=null;function qa(i){var l=i.alternate;nt(bn,bn.current&1),nt(Wr,i),So===null&&(l===null||Hs.current!==null||l.memoizedState!==null)&&(So=i)}function h2(i){if(i.tag===22){if(nt(bn,bn.current),nt(Wr,i),So===null){var l=i.alternate;l!==null&&l.memoizedState!==null&&(So=i)}}else Ka()}function Ka(){nt(bn,bn.current),nt(Wr,Wr.current)}function fa(i){et(Wr),So===i&&(So=null),et(bn)}var bn=Q(0);function hd(i){for(var l=i;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||ig(d)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function gv(i,l,d,m){l=i.memoizedState,d=d(m,l),d=d==null?l:h({},l,d),i.memoizedState=d,i.lanes===0&&(i.updateQueue.baseState=d)}var yv={enqueueSetState:function(i,l,d){i=i._reactInternals;var m=Rr(),b=Ha(m);b.payload=l,d!=null&&(b.callback=d),l=Ga(i,b,m),l!==null&&(Ar(l,i,m),Ol(l,i,m))},enqueueReplaceState:function(i,l,d){i=i._reactInternals;var m=Rr(),b=Ha(m);b.tag=1,b.payload=l,d!=null&&(b.callback=d),l=Ga(i,b,m),l!==null&&(Ar(l,i,m),Ol(l,i,m))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var d=Rr(),m=Ha(d);m.tag=2,l!=null&&(m.callback=l),l=Ga(i,m,d),l!==null&&(Ar(l,i,d),Ol(l,i,d))}};function p2(i,l,d,m,b,C,P){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(m,C,P):l.prototype&&l.prototype.isPureReactComponent?!Cl(d,m)||!Cl(b,C):!0}function m2(i,l,d,m){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,m),l.state!==i&&yv.enqueueReplaceState(l,l.state,null)}function Wi(i,l){var d=l;if("ref"in l){d={};for(var m in l)m!=="ref"&&(d[m]=l[m])}if(i=i.defaultProps){d===l&&(d=h({},d));for(var b in i)d[b]===void 0&&(d[b]=i[b])}return d}var pd=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function v2(i){pd(i)}function g2(i){console.error(i)}function y2(i){pd(i)}function md(i,l){try{var d=i.onUncaughtError;d(l.value,{componentStack:l.stack})}catch(m){setTimeout(function(){throw m})}}function b2(i,l,d){try{var m=i.onCaughtError;m(d.value,{componentStack:d.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function bv(i,l,d){return d=Ha(d),d.tag=3,d.payload={element:null},d.callback=function(){md(i,l)},d}function x2(i){return i=Ha(i),i.tag=3,i}function w2(i,l,d,m){var b=d.type.getDerivedStateFromError;if(typeof b=="function"){var C=m.value;i.payload=function(){return b(C)},i.callback=function(){b2(l,d,m)}}var P=d.stateNode;P!==null&&typeof P.componentDidCatch=="function"&&(i.callback=function(){b2(l,d,m),typeof b!="function"&&(ti===null?ti=new Set([this]):ti.add(this));var L=m.stack;this.componentDidCatch(m.value,{componentStack:L!==null?L:""})})}function UO(i,l,d,m,b){if(d.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(l=d.alternate,l!==null&&_l(l,d,b,!0),d=Wr.current,d!==null){switch(d.tag){case 13:return So===null?Wv():d.alternate===null&&nn===0&&(nn=3),d.flags&=-257,d.flags|=65536,d.lanes=b,m===Km?d.flags|=16384:(l=d.updateQueue,l===null?d.updateQueue=new Set([m]):l.add(m),Gv(i,m,b)),!1;case 22:return d.flags|=65536,m===Km?d.flags|=16384:(l=d.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([m])},d.updateQueue=l):(d=l.retryQueue,d===null?l.retryQueue=new Set([m]):d.add(m)),Gv(i,m,b)),!1}throw Error(r(435,d.tag))}return Gv(i,m,b),Wv(),!1}if(Se)return l=Wr.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=b,m!==Um&&(i=Error(r(422),{cause:m}),Al(zr(i,d)))):(m!==Um&&(l=Error(r(423),{cause:m}),Al(zr(l,d))),i=i.current.alternate,i.flags|=65536,b&=-b,i.lanes|=b,m=zr(m,d),b=bv(i.stateNode,m,b),Qm(i,b),nn!==4&&(nn=2)),!1;var C=Error(r(520),{cause:m});if(C=zr(C,d),Kl===null?Kl=[C]:Kl.push(C),nn!==4&&(nn=2),l===null)return!0;m=zr(m,d),d=l;do{switch(d.tag){case 3:return d.flags|=65536,i=b&-b,d.lanes|=i,i=bv(d.stateNode,m,i),Qm(d,i),!1;case 1:if(l=d.type,C=d.stateNode,(d.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(ti===null||!ti.has(C))))return d.flags|=65536,b&=-b,d.lanes|=b,b=x2(b),w2(b,i,d,m),Qm(d,b),!1}d=d.return}while(d!==null);return!1}var S2=Error(r(461)),An=!1;function Pn(i,l,d,m){l.child=i===null?d2(l,null,d,m):Xs(l,i.child,d,m)}function C2(i,l,d,m,b){d=d.render;var C=l.ref;if("ref"in m){var P={};for(var L in m)L!=="ref"&&(P[L]=m[L])}else P=m;return Vi(l),m=nv(i,l,d,P,C,b),L=rv(),i!==null&&!An?(ov(i,l,b),da(i,l,b)):(Se&&L&&zm(l),l.flags|=1,Pn(i,l,m,b),l.child)}function E2(i,l,d,m,b){if(i===null){var C=d.type;return typeof C=="function"&&!Bm(C)&&C.defaultProps===void 0&&d.compare===null?(l.tag=15,l.type=C,T2(i,l,C,m,b)):(i=Kf(d.type,null,m,l,l.mode,b),i.ref=l.ref,i.return=l,l.child=i)}if(C=i.child,!Av(i,b)){var P=C.memoizedProps;if(d=d.compare,d=d!==null?d:Cl,d(P,m)&&i.ref===l.ref)return da(i,l,b)}return l.flags|=1,i=aa(C,m),i.ref=l.ref,i.return=l,l.child=i}function T2(i,l,d,m,b){if(i!==null){var C=i.memoizedProps;if(Cl(C,m)&&i.ref===l.ref)if(An=!1,l.pendingProps=m=C,Av(i,b))(i.flags&131072)!==0&&(An=!0);else return l.lanes=i.lanes,da(i,l,b)}return xv(i,l,d,m,b)}function R2(i,l,d){var m=l.pendingProps,b=m.children,C=i!==null?i.memoizedState:null;if(m.mode==="hidden"){if((l.flags&128)!==0){if(m=C!==null?C.baseLanes|d:d,i!==null){for(b=l.child=i.child,C=0;b!==null;)C=C|b.lanes|b.childLanes,b=b.sibling;l.childLanes=C&~m}else l.childLanes=0,l.child=null;return A2(i,l,m,d)}if((d&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},i!==null&&Jf(l,C!==null?C.cachePool:null),C!==null?Tw(l,C):Jm(),h2(l);else return l.lanes=l.childLanes=536870912,A2(i,l,C!==null?C.baseLanes|d:d,d)}else C!==null?(Jf(l,C.cachePool),Tw(l,C),Ka(),l.memoizedState=null):(i!==null&&Jf(l,null),Jm(),Ka());return Pn(i,l,b,d),l.child}function A2(i,l,d,m){var b=qm();return b=b===null?null:{parent:yn._currentValue,pool:b},l.memoizedState={baseLanes:d,cachePool:b},i!==null&&Jf(l,null),Jm(),h2(l),i!==null&&_l(i,l,m,!0),null}function vd(i,l){var d=l.ref;if(d===null)i!==null&&i.ref!==null&&(l.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(i===null||i.ref!==d)&&(l.flags|=4194816)}}function xv(i,l,d,m,b){return Vi(l),d=nv(i,l,d,m,void 0,b),m=rv(),i!==null&&!An?(ov(i,l,b),da(i,l,b)):(Se&&m&&zm(l),l.flags|=1,Pn(i,l,d,b),l.child)}function _2(i,l,d,m,b,C){return Vi(l),l.updateQueue=null,d=Aw(l,m,d,b),Rw(i),m=rv(),i!==null&&!An?(ov(i,l,C),da(i,l,C)):(Se&&m&&zm(l),l.flags|=1,Pn(i,l,d,C),l.child)}function D2(i,l,d,m,b){if(Vi(l),l.stateNode===null){var C=zs,P=d.contextType;typeof P=="object"&&P!==null&&(C=Hn(P)),C=new d(m,C),l.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=yv,l.stateNode=C,C._reactInternals=l,C=l.stateNode,C.props=m,C.state=l.memoizedState,C.refs={},Xm(l),P=d.contextType,C.context=typeof P=="object"&&P!==null?Hn(P):zs,C.state=l.memoizedState,P=d.getDerivedStateFromProps,typeof P=="function"&&(gv(l,d,P,m),C.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(P=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),P!==C.state&&yv.enqueueReplaceState(C,C.state,null),Il(l,m,C,b),Pl(),C.state=l.memoizedState),typeof C.componentDidMount=="function"&&(l.flags|=4194308),m=!0}else if(i===null){C=l.stateNode;var L=l.memoizedProps,K=Wi(d,L);C.props=K;var ot=C.context,dt=d.contextType;P=zs,typeof dt=="object"&&dt!==null&&(P=Hn(dt));var mt=d.getDerivedStateFromProps;dt=typeof mt=="function"||typeof C.getSnapshotBeforeUpdate=="function",L=l.pendingProps!==L,dt||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(L||ot!==P)&&m2(l,C,m,P),Wa=!1;var at=l.memoizedState;C.state=at,Il(l,m,C,b),Pl(),ot=l.memoizedState,L||at!==ot||Wa?(typeof mt=="function"&&(gv(l,d,mt,m),ot=l.memoizedState),(K=Wa||p2(l,d,K,m,at,ot,P))?(dt||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(l.flags|=4194308)):(typeof C.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=ot),C.props=m,C.state=ot,C.context=P,m=K):(typeof C.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{C=l.stateNode,Ym(i,l),P=l.memoizedProps,dt=Wi(d,P),C.props=dt,mt=l.pendingProps,at=C.context,ot=d.contextType,K=zs,typeof ot=="object"&&ot!==null&&(K=Hn(ot)),L=d.getDerivedStateFromProps,(ot=typeof L=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(P!==mt||at!==K)&&m2(l,C,m,K),Wa=!1,at=l.memoizedState,C.state=at,Il(l,m,C,b),Pl();var it=l.memoizedState;P!==mt||at!==it||Wa||i!==null&&i.dependencies!==null&&Qf(i.dependencies)?(typeof L=="function"&&(gv(l,d,L,m),it=l.memoizedState),(dt=Wa||p2(l,d,dt,m,at,it,K)||i!==null&&i.dependencies!==null&&Qf(i.dependencies))?(ot||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(m,it,K),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(m,it,K)),typeof C.componentDidUpdate=="function"&&(l.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof C.componentDidUpdate!="function"||P===i.memoizedProps&&at===i.memoizedState||(l.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||P===i.memoizedProps&&at===i.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=it),C.props=m,C.state=it,C.context=K,m=dt):(typeof C.componentDidUpdate!="function"||P===i.memoizedProps&&at===i.memoizedState||(l.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||P===i.memoizedProps&&at===i.memoizedState||(l.flags|=1024),m=!1)}return C=m,vd(i,l),m=(l.flags&128)!==0,C||m?(C=l.stateNode,d=m&&typeof d.getDerivedStateFromError!="function"?null:C.render(),l.flags|=1,i!==null&&m?(l.child=Xs(l,i.child,null,b),l.child=Xs(l,null,d,b)):Pn(i,l,d,b),l.memoizedState=C.state,i=l.child):i=da(i,l,b),i}function k2(i,l,d,m){return Rl(),l.flags|=256,Pn(i,l,d,m),l.child}var wv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sv(i){return{baseLanes:i,cachePool:gw()}}function Cv(i,l,d){return i=i!==null?i.childLanes&~d:0,l&&(i|=Hr),i}function M2(i,l,d){var m=l.pendingProps,b=!1,C=(l.flags&128)!==0,P;if((P=C)||(P=i!==null&&i.memoizedState===null?!1:(bn.current&2)!==0),P&&(b=!0,l.flags&=-129),P=(l.flags&32)!==0,l.flags&=-33,i===null){if(Se){if(b?qa(l):Ka(),Se){var L=en,K;if(K=L){t:{for(K=L,L=wo;K.nodeType!==8;){if(!L){L=null;break t}if(K=fo(K.nextSibling),K===null){L=null;break t}}L=K}L!==null?(l.memoizedState={dehydrated:L,treeContext:Ii!==null?{id:ia,overflow:sa}:null,retryLane:536870912,hydrationErrors:null},K=Sr(18,null,null,0),K.stateNode=L,K.return=l,l.child=K,rr=l,en=null,K=!0):K=!1}K||Li(l)}if(L=l.memoizedState,L!==null&&(L=L.dehydrated,L!==null))return ig(L)?l.lanes=32:l.lanes=536870912,null;fa(l)}return L=m.children,m=m.fallback,b?(Ka(),b=l.mode,L=gd({mode:"hidden",children:L},b),m=Pi(m,b,d,null),L.return=l,m.return=l,L.sibling=m,l.child=L,b=l.child,b.memoizedState=Sv(d),b.childLanes=Cv(i,P,d),l.memoizedState=wv,m):(qa(l),Ev(l,L))}if(K=i.memoizedState,K!==null&&(L=K.dehydrated,L!==null)){if(C)l.flags&256?(qa(l),l.flags&=-257,l=Tv(i,l,d)):l.memoizedState!==null?(Ka(),l.child=i.child,l.flags|=128,l=null):(Ka(),b=m.fallback,L=l.mode,m=gd({mode:"visible",children:m.children},L),b=Pi(b,L,d,null),b.flags|=2,m.return=l,b.return=l,m.sibling=b,l.child=m,Xs(l,i.child,null,d),m=l.child,m.memoizedState=Sv(d),m.childLanes=Cv(i,P,d),l.memoizedState=wv,l=b);else if(qa(l),ig(L)){if(P=L.nextSibling&&L.nextSibling.dataset,P)var ot=P.dgst;P=ot,m=Error(r(419)),m.stack="",m.digest=P,Al({value:m,source:null,stack:null}),l=Tv(i,l,d)}else if(An||_l(i,l,d,!1),P=(d&i.childLanes)!==0,An||P){if(P=Ue,P!==null&&(m=d&-d,m=(m&42)!==0?1:sm(m),m=(m&(P.suspendedLanes|d))!==0?0:m,m!==0&&m!==K.retryLane))throw K.retryLane=m,Ls(i,m),Ar(P,i,m),S2;L.data==="$?"||Wv(),l=Tv(i,l,d)}else L.data==="$?"?(l.flags|=192,l.child=i.child,l=null):(i=K.treeContext,en=fo(L.nextSibling),rr=l,Se=!0,Fi=null,wo=!1,i!==null&&(Ur[jr++]=ia,Ur[jr++]=sa,Ur[jr++]=Ii,ia=i.id,sa=i.overflow,Ii=l),l=Ev(l,m.children),l.flags|=4096);return l}return b?(Ka(),b=m.fallback,L=l.mode,K=i.child,ot=K.sibling,m=aa(K,{mode:"hidden",children:m.children}),m.subtreeFlags=K.subtreeFlags&65011712,ot!==null?b=aa(ot,b):(b=Pi(b,L,d,null),b.flags|=2),b.return=l,m.return=l,m.sibling=b,l.child=m,m=b,b=l.child,L=i.child.memoizedState,L===null?L=Sv(d):(K=L.cachePool,K!==null?(ot=yn._currentValue,K=K.parent!==ot?{parent:ot,pool:ot}:K):K=gw(),L={baseLanes:L.baseLanes|d,cachePool:K}),b.memoizedState=L,b.childLanes=Cv(i,P,d),l.memoizedState=wv,m):(qa(l),d=i.child,i=d.sibling,d=aa(d,{mode:"visible",children:m.children}),d.return=l,d.sibling=null,i!==null&&(P=l.deletions,P===null?(l.deletions=[i],l.flags|=16):P.push(i)),l.child=d,l.memoizedState=null,d)}function Ev(i,l){return l=gd({mode:"visible",children:l},i.mode),l.return=i,i.child=l}function gd(i,l){return i=Sr(22,i,null,l),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Tv(i,l,d){return Xs(l,i.child,null,d),i=Ev(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function N2(i,l,d){i.lanes|=l;var m=i.alternate;m!==null&&(m.lanes|=l),Wm(i.return,l,d)}function Rv(i,l,d,m,b){var C=i.memoizedState;C===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:b}:(C.isBackwards=l,C.rendering=null,C.renderingStartTime=0,C.last=m,C.tail=d,C.tailMode=b)}function O2(i,l,d){var m=l.pendingProps,b=m.revealOrder,C=m.tail;if(Pn(i,l,m.children,d),m=bn.current,(m&2)!==0)m=m&1|2,l.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&N2(i,d,l);else if(i.tag===19)N2(i,d,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break t;for(;i.sibling===null;){if(i.return===null||i.return===l)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}m&=1}switch(nt(bn,m),b){case"forwards":for(d=l.child,b=null;d!==null;)i=d.alternate,i!==null&&hd(i)===null&&(b=d),d=d.sibling;d=b,d===null?(b=l.child,l.child=null):(b=d.sibling,d.sibling=null),Rv(l,!1,b,d,C);break;case"backwards":for(d=null,b=l.child,l.child=null;b!==null;){if(i=b.alternate,i!==null&&hd(i)===null){l.child=b;break}i=b.sibling,b.sibling=d,d=b,b=i}Rv(l,!0,d,null,C);break;case"together":Rv(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function da(i,l,d){if(i!==null&&(l.dependencies=i.dependencies),Ja|=l.lanes,(d&l.childLanes)===0)if(i!==null){if(_l(i,l,d,!1),(d&l.childLanes)===0)return null}else return null;if(i!==null&&l.child!==i.child)throw Error(r(153));if(l.child!==null){for(i=l.child,d=aa(i,i.pendingProps),l.child=d,d.return=l;i.sibling!==null;)i=i.sibling,d=d.sibling=aa(i,i.pendingProps),d.return=l;d.sibling=null}return l.child}function Av(i,l){return(i.lanes&l)!==0?!0:(i=i.dependencies,!!(i!==null&&Qf(i)))}function jO(i,l,d){switch(l.tag){case 3:yt(l,l.stateNode.containerInfo),ja(l,yn,i.memoizedState.cache),Rl();break;case 27:case 5:Et(l);break;case 4:yt(l,l.stateNode.containerInfo);break;case 10:ja(l,l.type,l.memoizedProps.value);break;case 13:var m=l.memoizedState;if(m!==null)return m.dehydrated!==null?(qa(l),l.flags|=128,null):(d&l.child.childLanes)!==0?M2(i,l,d):(qa(l),i=da(i,l,d),i!==null?i.sibling:null);qa(l);break;case 19:var b=(i.flags&128)!==0;if(m=(d&l.childLanes)!==0,m||(_l(i,l,d,!1),m=(d&l.childLanes)!==0),b){if(m)return O2(i,l,d);l.flags|=128}if(b=l.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),nt(bn,bn.current),m)break;return null;case 22:case 23:return l.lanes=0,R2(i,l,d);case 24:ja(l,yn,i.memoizedState.cache)}return da(i,l,d)}function P2(i,l,d){if(i!==null)if(i.memoizedProps!==l.pendingProps)An=!0;else{if(!Av(i,d)&&(l.flags&128)===0)return An=!1,jO(i,l,d);An=(i.flags&131072)!==0}else An=!1,Se&&(l.flags&1048576)!==0&&cw(l,Yf,l.index);switch(l.lanes=0,l.tag){case 16:t:{i=l.pendingProps;var m=l.elementType,b=m._init;if(m=b(m._payload),l.type=m,typeof m=="function")Bm(m)?(i=Wi(m,i),l.tag=1,l=D2(null,l,m,i,d)):(l.tag=0,l=xv(null,l,m,i,d));else{if(m!=null){if(b=m.$$typeof,b===T){l.tag=11,l=C2(null,l,m,i,d);break t}else if(b===M){l.tag=14,l=E2(null,l,m,i,d);break t}}throw l=j(m)||m,Error(r(306,l,""))}}return l;case 0:return xv(i,l,l.type,l.pendingProps,d);case 1:return m=l.type,b=Wi(m,l.pendingProps),D2(i,l,m,b,d);case 3:t:{if(yt(l,l.stateNode.containerInfo),i===null)throw Error(r(387));m=l.pendingProps;var C=l.memoizedState;b=C.element,Ym(i,l),Il(l,m,null,d);var P=l.memoizedState;if(m=P.cache,ja(l,yn,m),m!==C.cache&&Hm(l,[yn],d,!0),Pl(),m=P.element,C.isDehydrated)if(C={element:m,isDehydrated:!1,cache:P.cache},l.updateQueue.baseState=C,l.memoizedState=C,l.flags&256){l=k2(i,l,m,d);break t}else if(m!==b){b=zr(Error(r(424)),l),Al(b),l=k2(i,l,m,d);break t}else{switch(i=l.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(en=fo(i.firstChild),rr=l,Se=!0,Fi=null,wo=!0,d=d2(l,null,m,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(Rl(),m===b){l=da(i,l,d);break t}Pn(i,l,m,d)}l=l.child}return l;case 26:return vd(i,l),i===null?(d=LS(l.type,null,l.pendingProps,null))?l.memoizedState=d:Se||(d=l.type,i=l.pendingProps,m=Md(vt.current).createElement(d),m[Wn]=l,m[ir]=i,Bn(m,d,i),Rn(m),l.stateNode=m):l.memoizedState=LS(l.type,i.memoizedProps,l.pendingProps,i.memoizedState),null;case 27:return Et(l),i===null&&Se&&(m=l.stateNode=IS(l.type,l.pendingProps,vt.current),rr=l,wo=!0,b=en,ri(l.type)?(sg=b,en=fo(m.firstChild)):en=b),Pn(i,l,l.pendingProps.children,d),vd(i,l),i===null&&(l.flags|=4194304),l.child;case 5:return i===null&&Se&&((b=m=en)&&(m=v3(m,l.type,l.pendingProps,wo),m!==null?(l.stateNode=m,rr=l,en=fo(m.firstChild),wo=!1,b=!0):b=!1),b||Li(l)),Et(l),b=l.type,C=l.pendingProps,P=i!==null?i.memoizedProps:null,m=C.children,rg(b,C)?m=null:P!==null&&rg(b,P)&&(l.flags|=32),l.memoizedState!==null&&(b=nv(i,l,PO,null,null,d),rc._currentValue=b),vd(i,l),Pn(i,l,m,d),l.child;case 6:return i===null&&Se&&((i=d=en)&&(d=g3(d,l.pendingProps,wo),d!==null?(l.stateNode=d,rr=l,en=null,i=!0):i=!1),i||Li(l)),null;case 13:return M2(i,l,d);case 4:return yt(l,l.stateNode.containerInfo),m=l.pendingProps,i===null?l.child=Xs(l,null,m,d):Pn(i,l,m,d),l.child;case 11:return C2(i,l,l.type,l.pendingProps,d);case 7:return Pn(i,l,l.pendingProps,d),l.child;case 8:return Pn(i,l,l.pendingProps.children,d),l.child;case 12:return Pn(i,l,l.pendingProps.children,d),l.child;case 10:return m=l.pendingProps,ja(l,l.type,m.value),Pn(i,l,m.children,d),l.child;case 9:return b=l.type._context,m=l.pendingProps.children,Vi(l),b=Hn(b),m=m(b),l.flags|=1,Pn(i,l,m,d),l.child;case 14:return E2(i,l,l.type,l.pendingProps,d);case 15:return T2(i,l,l.type,l.pendingProps,d);case 19:return O2(i,l,d);case 31:return m=l.pendingProps,d=l.mode,m={mode:m.mode,children:m.children},i===null?(d=gd(m,d),d.ref=l.ref,l.child=d,d.return=l,l=d):(d=aa(i.child,m),d.ref=l.ref,l.child=d,d.return=l,l=d),l;case 22:return R2(i,l,d);case 24:return Vi(l),m=Hn(yn),i===null?(b=qm(),b===null&&(b=Ue,C=Gm(),b.pooledCache=C,C.refCount++,C!==null&&(b.pooledCacheLanes|=d),b=C),l.memoizedState={parent:m,cache:b},Xm(l),ja(l,yn,b)):((i.lanes&d)!==0&&(Ym(i,l),Il(l,null,null,d),Pl()),b=i.memoizedState,C=l.memoizedState,b.parent!==m?(b={parent:m,cache:m},l.memoizedState=b,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=b),ja(l,yn,m)):(m=C.cache,ja(l,yn,m),m!==b.cache&&Hm(l,[yn],d,!0))),Pn(i,l,l.pendingProps.children,d),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function ha(i){i.flags|=4}function I2(i,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!WS(l)){if(l=Wr.current,l!==null&&((ve&4194048)===ve?So!==null:(ve&62914560)!==ve&&(ve&536870912)===0||l!==So))throw Nl=Km,yw;i.flags|=8192}}function yd(i,l){l!==null&&(i.flags|=4),i.flags&16384&&(l=i.tag!==22?h1():536870912,i.lanes|=l,Js|=l)}function jl(i,l){if(!Se)switch(i.tailMode){case"hidden":l=i.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?i.tail=null:d.sibling=null;break;case"collapsed":d=i.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:m.sibling=null}}function Xe(i){var l=i.alternate!==null&&i.alternate.child===i.child,d=0,m=0;if(l)for(var b=i.child;b!==null;)d|=b.lanes|b.childLanes,m|=b.subtreeFlags&65011712,m|=b.flags&65011712,b.return=i,b=b.sibling;else for(b=i.child;b!==null;)d|=b.lanes|b.childLanes,m|=b.subtreeFlags,m|=b.flags,b.return=i,b=b.sibling;return i.subtreeFlags|=m,i.childLanes=d,l}function WO(i,l,d){var m=l.pendingProps;switch(Vm(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(l),null;case 1:return Xe(l),null;case 3:return d=l.stateNode,m=null,i!==null&&(m=i.memoizedState.cache),l.memoizedState.cache!==m&&(l.flags|=2048),la(yn),wt(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(i===null||i.child===null)&&(Tl(l)?ha(l):i===null||i.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,hw())),Xe(l),null;case 26:return d=l.memoizedState,i===null?(ha(l),d!==null?(Xe(l),I2(l,d)):(Xe(l),l.flags&=-16777217)):d?d!==i.memoizedState?(ha(l),Xe(l),I2(l,d)):(Xe(l),l.flags&=-16777217):(i.memoizedProps!==m&&ha(l),Xe(l),l.flags&=-16777217),null;case 27:xt(l),d=vt.current;var b=l.type;if(i!==null&&l.stateNode!=null)i.memoizedProps!==m&&ha(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return Xe(l),null}i=lt.current,Tl(l)?fw(l):(i=IS(b,m,d),l.stateNode=i,ha(l))}return Xe(l),null;case 5:if(xt(l),d=l.type,i!==null&&l.stateNode!=null)i.memoizedProps!==m&&ha(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return Xe(l),null}if(i=lt.current,Tl(l))fw(l);else{switch(b=Md(vt.current),i){case 1:i=b.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:i=b.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":i=b.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":i=b.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":i=b.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof m.is=="string"?b.createElement("select",{is:m.is}):b.createElement("select"),m.multiple?i.multiple=!0:m.size&&(i.size=m.size);break;default:i=typeof m.is=="string"?b.createElement(d,{is:m.is}):b.createElement(d)}}i[Wn]=l,i[ir]=m;t:for(b=l.child;b!==null;){if(b.tag===5||b.tag===6)i.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===l)break t;for(;b.sibling===null;){if(b.return===null||b.return===l)break t;b=b.return}b.sibling.return=b.return,b=b.sibling}l.stateNode=i;t:switch(Bn(i,d,m),d){case"button":case"input":case"select":case"textarea":i=!!m.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&ha(l)}}return Xe(l),l.flags&=-16777217,null;case 6:if(i&&l.stateNode!=null)i.memoizedProps!==m&&ha(l);else{if(typeof m!="string"&&l.stateNode===null)throw Error(r(166));if(i=vt.current,Tl(l)){if(i=l.stateNode,d=l.memoizedProps,m=null,b=rr,b!==null)switch(b.tag){case 27:case 5:m=b.memoizedProps}i[Wn]=l,i=!!(i.nodeValue===d||m!==null&&m.suppressHydrationWarning===!0||_S(i.nodeValue,d)),i||Li(l)}else i=Md(i).createTextNode(m),i[Wn]=l,l.stateNode=i}return Xe(l),null;case 13:if(m=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(b=Tl(l),m!==null&&m.dehydrated!==null){if(i===null){if(!b)throw Error(r(318));if(b=l.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(r(317));b[Wn]=l}else Rl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Xe(l),b=!1}else b=hw(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=b),b=!0;if(!b)return l.flags&256?(fa(l),l):(fa(l),null)}if(fa(l),(l.flags&128)!==0)return l.lanes=d,l;if(d=m!==null,i=i!==null&&i.memoizedState!==null,d){m=l.child,b=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(b=m.alternate.memoizedState.cachePool.pool);var C=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(C=m.memoizedState.cachePool.pool),C!==b&&(m.flags|=2048)}return d!==i&&d&&(l.child.flags|=8192),yd(l,l.updateQueue),Xe(l),null;case 4:return wt(),i===null&&Zv(l.stateNode.containerInfo),Xe(l),null;case 10:return la(l.type),Xe(l),null;case 19:if(et(bn),b=l.memoizedState,b===null)return Xe(l),null;if(m=(l.flags&128)!==0,C=b.rendering,C===null)if(m)jl(b,!1);else{if(nn!==0||i!==null&&(i.flags&128)!==0)for(i=l.child;i!==null;){if(C=hd(i),C!==null){for(l.flags|=128,jl(b,!1),i=C.updateQueue,l.updateQueue=i,yd(l,i),l.subtreeFlags=0,i=d,d=l.child;d!==null;)lw(d,i),d=d.sibling;return nt(bn,bn.current&1|2),l.child}i=i.sibling}b.tail!==null&&Qt()>wd&&(l.flags|=128,m=!0,jl(b,!1),l.lanes=4194304)}else{if(!m)if(i=hd(C),i!==null){if(l.flags|=128,m=!0,i=i.updateQueue,l.updateQueue=i,yd(l,i),jl(b,!0),b.tail===null&&b.tailMode==="hidden"&&!C.alternate&&!Se)return Xe(l),null}else 2*Qt()-b.renderingStartTime>wd&&d!==536870912&&(l.flags|=128,m=!0,jl(b,!1),l.lanes=4194304);b.isBackwards?(C.sibling=l.child,l.child=C):(i=b.last,i!==null?i.sibling=C:l.child=C,b.last=C)}return b.tail!==null?(l=b.tail,b.rendering=l,b.tail=l.sibling,b.renderingStartTime=Qt(),l.sibling=null,i=bn.current,nt(bn,m?i&1|2:i&1),l):(Xe(l),null);case 22:case 23:return fa(l),tv(),m=l.memoizedState!==null,i!==null?i.memoizedState!==null!==m&&(l.flags|=8192):m&&(l.flags|=8192),m?(d&536870912)!==0&&(l.flags&128)===0&&(Xe(l),l.subtreeFlags&6&&(l.flags|=8192)):Xe(l),d=l.updateQueue,d!==null&&yd(l,d.retryQueue),d=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==d&&(l.flags|=2048),i!==null&&et(Ui),null;case 24:return d=null,i!==null&&(d=i.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),la(yn),Xe(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function HO(i,l){switch(Vm(l),l.tag){case 1:return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return la(yn),wt(),i=l.flags,(i&65536)!==0&&(i&128)===0?(l.flags=i&-65537|128,l):null;case 26:case 27:case 5:return xt(l),null;case 13:if(fa(l),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Rl()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return et(bn),null;case 4:return wt(),null;case 10:return la(l.type),null;case 22:case 23:return fa(l),tv(),i!==null&&et(Ui),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 24:return la(yn),null;case 25:return null;default:return null}}function B2(i,l){switch(Vm(l),l.tag){case 3:la(yn),wt();break;case 26:case 27:case 5:xt(l);break;case 4:wt();break;case 13:fa(l);break;case 19:et(bn);break;case 10:la(l.type);break;case 22:case 23:fa(l),tv(),i!==null&&et(Ui);break;case 24:la(yn)}}function Wl(i,l){try{var d=l.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var b=m.next;d=b;do{if((d.tag&i)===i){m=void 0;var C=d.create,P=d.inst;m=C(),P.destroy=m}d=d.next}while(d!==b)}}catch(L){ze(l,l.return,L)}}function Xa(i,l,d){try{var m=l.updateQueue,b=m!==null?m.lastEffect:null;if(b!==null){var C=b.next;m=C;do{if((m.tag&i)===i){var P=m.inst,L=P.destroy;if(L!==void 0){P.destroy=void 0,b=l;var K=d,ot=L;try{ot()}catch(dt){ze(b,K,dt)}}}m=m.next}while(m!==C)}}catch(dt){ze(l,l.return,dt)}}function F2(i){var l=i.updateQueue;if(l!==null){var d=i.stateNode;try{Ew(l,d)}catch(m){ze(i,i.return,m)}}}function L2(i,l,d){d.props=Wi(i.type,i.memoizedProps),d.state=i.memoizedState;try{d.componentWillUnmount()}catch(m){ze(i,l,m)}}function Hl(i,l){try{var d=i.ref;if(d!==null){switch(i.tag){case 26:case 27:case 5:var m=i.stateNode;break;case 30:m=i.stateNode;break;default:m=i.stateNode}typeof d=="function"?i.refCleanup=d(m):d.current=m}}catch(b){ze(i,l,b)}}function Co(i,l){var d=i.ref,m=i.refCleanup;if(d!==null)if(typeof m=="function")try{m()}catch(b){ze(i,l,b)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(b){ze(i,l,b)}else d.current=null}function z2(i){var l=i.type,d=i.memoizedProps,m=i.stateNode;try{t:switch(l){case"button":case"input":case"select":case"textarea":d.autoFocus&&m.focus();break t;case"img":d.src?m.src=d.src:d.srcSet&&(m.srcset=d.srcSet)}}catch(b){ze(i,i.return,b)}}function _v(i,l,d){try{var m=i.stateNode;f3(m,i.type,d,l),m[ir]=l}catch(b){ze(i,i.return,b)}}function V2(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&ri(i.type)||i.tag===4}function Dv(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||V2(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&ri(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function kv(i,l,d){var m=i.tag;if(m===5||m===6)i=i.stateNode,l?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(i,l):(l=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,l.appendChild(i),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=kd));else if(m!==4&&(m===27&&ri(i.type)&&(d=i.stateNode,l=null),i=i.child,i!==null))for(kv(i,l,d),i=i.sibling;i!==null;)kv(i,l,d),i=i.sibling}function bd(i,l,d){var m=i.tag;if(m===5||m===6)i=i.stateNode,l?d.insertBefore(i,l):d.appendChild(i);else if(m!==4&&(m===27&&ri(i.type)&&(d=i.stateNode),i=i.child,i!==null))for(bd(i,l,d),i=i.sibling;i!==null;)bd(i,l,d),i=i.sibling}function U2(i){var l=i.stateNode,d=i.memoizedProps;try{for(var m=i.type,b=l.attributes;b.length;)l.removeAttributeNode(b[0]);Bn(l,m,d),l[Wn]=i,l[ir]=d}catch(C){ze(i,i.return,C)}}var pa=!1,ln=!1,Mv=!1,j2=typeof WeakSet=="function"?WeakSet:Set,_n=null;function GO(i,l){if(i=i.containerInfo,eg=Fd,i=J1(i),Dm(i)){if("selectionStart"in i)var d={start:i.selectionStart,end:i.selectionEnd};else t:{d=(d=i.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var b=m.anchorOffset,C=m.focusNode;m=m.focusOffset;try{d.nodeType,C.nodeType}catch{d=null;break t}var P=0,L=-1,K=-1,ot=0,dt=0,mt=i,at=null;e:for(;;){for(var it;mt!==d||b!==0&&mt.nodeType!==3||(L=P+b),mt!==C||m!==0&&mt.nodeType!==3||(K=P+m),mt.nodeType===3&&(P+=mt.nodeValue.length),(it=mt.firstChild)!==null;)at=mt,mt=it;for(;;){if(mt===i)break e;if(at===d&&++ot===b&&(L=P),at===C&&++dt===m&&(K=P),(it=mt.nextSibling)!==null)break;mt=at,at=mt.parentNode}mt=it}d=L===-1||K===-1?null:{start:L,end:K}}else d=null}d=d||{start:0,end:0}}else d=null;for(ng={focusedElem:i,selectionRange:d},Fd=!1,_n=l;_n!==null;)if(l=_n,i=l.child,(l.subtreeFlags&1024)!==0&&i!==null)i.return=l,_n=i;else for(;_n!==null;){switch(l=_n,C=l.alternate,i=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&C!==null){i=void 0,d=l,b=C.memoizedProps,C=C.memoizedState,m=d.stateNode;try{var Gt=Wi(d.type,b,d.elementType===d.type);i=m.getSnapshotBeforeUpdate(Gt,C),m.__reactInternalSnapshotBeforeUpdate=i}catch(jt){ze(d,d.return,jt)}}break;case 3:if((i&1024)!==0){if(i=l.stateNode.containerInfo,d=i.nodeType,d===9)ag(i);else if(d===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":ag(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=l.sibling,i!==null){i.return=l.return,_n=i;break}_n=l.return}}function W2(i,l,d){var m=d.flags;switch(d.tag){case 0:case 11:case 15:Ya(i,d),m&4&&Wl(5,d);break;case 1:if(Ya(i,d),m&4)if(i=d.stateNode,l===null)try{i.componentDidMount()}catch(P){ze(d,d.return,P)}else{var b=Wi(d.type,l.memoizedProps);l=l.memoizedState;try{i.componentDidUpdate(b,l,i.__reactInternalSnapshotBeforeUpdate)}catch(P){ze(d,d.return,P)}}m&64&&F2(d),m&512&&Hl(d,d.return);break;case 3:if(Ya(i,d),m&64&&(i=d.updateQueue,i!==null)){if(l=null,d.child!==null)switch(d.child.tag){case 27:case 5:l=d.child.stateNode;break;case 1:l=d.child.stateNode}try{Ew(i,l)}catch(P){ze(d,d.return,P)}}break;case 27:l===null&&m&4&&U2(d);case 26:case 5:Ya(i,d),l===null&&m&4&&z2(d),m&512&&Hl(d,d.return);break;case 12:Ya(i,d);break;case 13:Ya(i,d),m&4&&$2(i,d),m&64&&(i=d.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(d=t3.bind(null,d),y3(i,d))));break;case 22:if(m=d.memoizedState!==null||pa,!m){l=l!==null&&l.memoizedState!==null||ln,b=pa;var C=ln;pa=m,(ln=l)&&!C?Qa(i,d,(d.subtreeFlags&8772)!==0):Ya(i,d),pa=b,ln=C}break;case 30:break;default:Ya(i,d)}}function H2(i){var l=i.alternate;l!==null&&(i.alternate=null,H2(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&cm(l)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Ge=null,lr=!1;function ma(i,l,d){for(d=d.child;d!==null;)G2(i,l,d),d=d.sibling}function G2(i,l,d){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(we,d)}catch{}switch(d.tag){case 26:ln||Co(d,l),ma(i,l,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:ln||Co(d,l);var m=Ge,b=lr;ri(d.type)&&(Ge=d.stateNode,lr=!1),ma(i,l,d),Jl(d.stateNode),Ge=m,lr=b;break;case 5:ln||Co(d,l);case 6:if(m=Ge,b=lr,Ge=null,ma(i,l,d),Ge=m,lr=b,Ge!==null)if(lr)try{(Ge.nodeType===9?Ge.body:Ge.nodeName==="HTML"?Ge.ownerDocument.body:Ge).removeChild(d.stateNode)}catch(C){ze(d,l,C)}else try{Ge.removeChild(d.stateNode)}catch(C){ze(d,l,C)}break;case 18:Ge!==null&&(lr?(i=Ge,OS(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,d.stateNode),sc(i)):OS(Ge,d.stateNode));break;case 4:m=Ge,b=lr,Ge=d.stateNode.containerInfo,lr=!0,ma(i,l,d),Ge=m,lr=b;break;case 0:case 11:case 14:case 15:ln||Xa(2,d,l),ln||Xa(4,d,l),ma(i,l,d);break;case 1:ln||(Co(d,l),m=d.stateNode,typeof m.componentWillUnmount=="function"&&L2(d,l,m)),ma(i,l,d);break;case 21:ma(i,l,d);break;case 22:ln=(m=ln)||d.memoizedState!==null,ma(i,l,d),ln=m;break;default:ma(i,l,d)}}function $2(i,l){if(l.memoizedState===null&&(i=l.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{sc(i)}catch(d){ze(l,l.return,d)}}function $O(i){switch(i.tag){case 13:case 19:var l=i.stateNode;return l===null&&(l=i.stateNode=new j2),l;case 22:return i=i.stateNode,l=i._retryCache,l===null&&(l=i._retryCache=new j2),l;default:throw Error(r(435,i.tag))}}function Nv(i,l){var d=$O(i);l.forEach(function(m){var b=e3.bind(null,i,m);d.has(m)||(d.add(m),m.then(b,b))})}function Cr(i,l){var d=l.deletions;if(d!==null)for(var m=0;m<d.length;m++){var b=d[m],C=i,P=l,L=P;t:for(;L!==null;){switch(L.tag){case 27:if(ri(L.type)){Ge=L.stateNode,lr=!1;break t}break;case 5:Ge=L.stateNode,lr=!1;break t;case 3:case 4:Ge=L.stateNode.containerInfo,lr=!0;break t}L=L.return}if(Ge===null)throw Error(r(160));G2(C,P,b),Ge=null,lr=!1,C=b.alternate,C!==null&&(C.return=null),b.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)q2(l,i),l=l.sibling}var co=null;function q2(i,l){var d=i.alternate,m=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Cr(l,i),Er(i),m&4&&(Xa(3,i,i.return),Wl(3,i),Xa(5,i,i.return));break;case 1:Cr(l,i),Er(i),m&512&&(ln||d===null||Co(d,d.return)),m&64&&pa&&(i=i.updateQueue,i!==null&&(m=i.callbacks,m!==null&&(d=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=d===null?m:d.concat(m))));break;case 26:var b=co;if(Cr(l,i),Er(i),m&512&&(ln||d===null||Co(d,d.return)),m&4){var C=d!==null?d.memoizedState:null;if(m=i.memoizedState,d===null)if(m===null)if(i.stateNode===null){t:{m=i.type,d=i.memoizedProps,b=b.ownerDocument||b;e:switch(m){case"title":C=b.getElementsByTagName("title")[0],(!C||C[pl]||C[Wn]||C.namespaceURI==="http://www.w3.org/2000/svg"||C.hasAttribute("itemprop"))&&(C=b.createElement(m),b.head.insertBefore(C,b.querySelector("head > title"))),Bn(C,m,d),C[Wn]=i,Rn(C),m=C;break t;case"link":var P=US("link","href",b).get(m+(d.href||""));if(P){for(var L=0;L<P.length;L++)if(C=P[L],C.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&C.getAttribute("rel")===(d.rel==null?null:d.rel)&&C.getAttribute("title")===(d.title==null?null:d.title)&&C.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){P.splice(L,1);break e}}C=b.createElement(m),Bn(C,m,d),b.head.appendChild(C);break;case"meta":if(P=US("meta","content",b).get(m+(d.content||""))){for(L=0;L<P.length;L++)if(C=P[L],C.getAttribute("content")===(d.content==null?null:""+d.content)&&C.getAttribute("name")===(d.name==null?null:d.name)&&C.getAttribute("property")===(d.property==null?null:d.property)&&C.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&C.getAttribute("charset")===(d.charSet==null?null:d.charSet)){P.splice(L,1);break e}}C=b.createElement(m),Bn(C,m,d),b.head.appendChild(C);break;default:throw Error(r(468,m))}C[Wn]=i,Rn(C),m=C}i.stateNode=m}else jS(b,i.type,i.stateNode);else i.stateNode=VS(b,m,i.memoizedProps);else C!==m?(C===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):C.count--,m===null?jS(b,i.type,i.stateNode):VS(b,m,i.memoizedProps)):m===null&&i.stateNode!==null&&_v(i,i.memoizedProps,d.memoizedProps)}break;case 27:Cr(l,i),Er(i),m&512&&(ln||d===null||Co(d,d.return)),d!==null&&m&4&&_v(i,i.memoizedProps,d.memoizedProps);break;case 5:if(Cr(l,i),Er(i),m&512&&(ln||d===null||Co(d,d.return)),i.flags&32){b=i.stateNode;try{Ms(b,"")}catch(it){ze(i,i.return,it)}}m&4&&i.stateNode!=null&&(b=i.memoizedProps,_v(i,b,d!==null?d.memoizedProps:b)),m&1024&&(Mv=!0);break;case 6:if(Cr(l,i),Er(i),m&4){if(i.stateNode===null)throw Error(r(162));m=i.memoizedProps,d=i.stateNode;try{d.nodeValue=m}catch(it){ze(i,i.return,it)}}break;case 3:if(Pd=null,b=co,co=Nd(l.containerInfo),Cr(l,i),co=b,Er(i),m&4&&d!==null&&d.memoizedState.isDehydrated)try{sc(l.containerInfo)}catch(it){ze(i,i.return,it)}Mv&&(Mv=!1,K2(i));break;case 4:m=co,co=Nd(i.stateNode.containerInfo),Cr(l,i),Er(i),co=m;break;case 12:Cr(l,i),Er(i);break;case 13:Cr(l,i),Er(i),i.child.flags&8192&&i.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(Lv=Qt()),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,Nv(i,m)));break;case 22:b=i.memoizedState!==null;var K=d!==null&&d.memoizedState!==null,ot=pa,dt=ln;if(pa=ot||b,ln=dt||K,Cr(l,i),ln=dt,pa=ot,Er(i),m&8192)t:for(l=i.stateNode,l._visibility=b?l._visibility&-2:l._visibility|1,b&&(d===null||K||pa||ln||Hi(i)),d=null,l=i;;){if(l.tag===5||l.tag===26){if(d===null){K=d=l;try{if(C=K.stateNode,b)P=C.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none";else{L=K.stateNode;var mt=K.memoizedProps.style,at=mt!=null&&mt.hasOwnProperty("display")?mt.display:null;L.style.display=at==null||typeof at=="boolean"?"":(""+at).trim()}}catch(it){ze(K,K.return,it)}}}else if(l.tag===6){if(d===null){K=l;try{K.stateNode.nodeValue=b?"":K.memoizedProps}catch(it){ze(K,K.return,it)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===i)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break t;for(;l.sibling===null;){if(l.return===null||l.return===i)break t;d===l&&(d=null),l=l.return}d===l&&(d=null),l.sibling.return=l.return,l=l.sibling}m&4&&(m=i.updateQueue,m!==null&&(d=m.retryQueue,d!==null&&(m.retryQueue=null,Nv(i,d))));break;case 19:Cr(l,i),Er(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,Nv(i,m)));break;case 30:break;case 21:break;default:Cr(l,i),Er(i)}}function Er(i){var l=i.flags;if(l&2){try{for(var d,m=i.return;m!==null;){if(V2(m)){d=m;break}m=m.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var b=d.stateNode,C=Dv(i);bd(i,C,b);break;case 5:var P=d.stateNode;d.flags&32&&(Ms(P,""),d.flags&=-33);var L=Dv(i);bd(i,L,P);break;case 3:case 4:var K=d.stateNode.containerInfo,ot=Dv(i);kv(i,ot,K);break;default:throw Error(r(161))}}catch(dt){ze(i,i.return,dt)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function K2(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var l=i;K2(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),i=i.sibling}}function Ya(i,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)W2(i,l.alternate,l),l=l.sibling}function Hi(i){for(i=i.child;i!==null;){var l=i;switch(l.tag){case 0:case 11:case 14:case 15:Xa(4,l,l.return),Hi(l);break;case 1:Co(l,l.return);var d=l.stateNode;typeof d.componentWillUnmount=="function"&&L2(l,l.return,d),Hi(l);break;case 27:Jl(l.stateNode);case 26:case 5:Co(l,l.return),Hi(l);break;case 22:l.memoizedState===null&&Hi(l);break;case 30:Hi(l);break;default:Hi(l)}i=i.sibling}}function Qa(i,l,d){for(d=d&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var m=l.alternate,b=i,C=l,P=C.flags;switch(C.tag){case 0:case 11:case 15:Qa(b,C,d),Wl(4,C);break;case 1:if(Qa(b,C,d),m=C,b=m.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(ot){ze(m,m.return,ot)}if(m=C,b=m.updateQueue,b!==null){var L=m.stateNode;try{var K=b.shared.hiddenCallbacks;if(K!==null)for(b.shared.hiddenCallbacks=null,b=0;b<K.length;b++)Cw(K[b],L)}catch(ot){ze(m,m.return,ot)}}d&&P&64&&F2(C),Hl(C,C.return);break;case 27:U2(C);case 26:case 5:Qa(b,C,d),d&&m===null&&P&4&&z2(C),Hl(C,C.return);break;case 12:Qa(b,C,d);break;case 13:Qa(b,C,d),d&&P&4&&$2(b,C);break;case 22:C.memoizedState===null&&Qa(b,C,d),Hl(C,C.return);break;case 30:break;default:Qa(b,C,d)}l=l.sibling}}function Ov(i,l){var d=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),i=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(i=l.memoizedState.cachePool.pool),i!==d&&(i!=null&&i.refCount++,d!=null&&Dl(d))}function Pv(i,l){i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&Dl(i))}function Eo(i,l,d,m){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)X2(i,l,d,m),l=l.sibling}function X2(i,l,d,m){var b=l.flags;switch(l.tag){case 0:case 11:case 15:Eo(i,l,d,m),b&2048&&Wl(9,l);break;case 1:Eo(i,l,d,m);break;case 3:Eo(i,l,d,m),b&2048&&(i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&Dl(i)));break;case 12:if(b&2048){Eo(i,l,d,m),i=l.stateNode;try{var C=l.memoizedProps,P=C.id,L=C.onPostCommit;typeof L=="function"&&L(P,l.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(K){ze(l,l.return,K)}}else Eo(i,l,d,m);break;case 13:Eo(i,l,d,m);break;case 23:break;case 22:C=l.stateNode,P=l.alternate,l.memoizedState!==null?C._visibility&2?Eo(i,l,d,m):Gl(i,l):C._visibility&2?Eo(i,l,d,m):(C._visibility|=2,Ys(i,l,d,m,(l.subtreeFlags&10256)!==0)),b&2048&&Ov(P,l);break;case 24:Eo(i,l,d,m),b&2048&&Pv(l.alternate,l);break;default:Eo(i,l,d,m)}}function Ys(i,l,d,m,b){for(b=b&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var C=i,P=l,L=d,K=m,ot=P.flags;switch(P.tag){case 0:case 11:case 15:Ys(C,P,L,K,b),Wl(8,P);break;case 23:break;case 22:var dt=P.stateNode;P.memoizedState!==null?dt._visibility&2?Ys(C,P,L,K,b):Gl(C,P):(dt._visibility|=2,Ys(C,P,L,K,b)),b&&ot&2048&&Ov(P.alternate,P);break;case 24:Ys(C,P,L,K,b),b&&ot&2048&&Pv(P.alternate,P);break;default:Ys(C,P,L,K,b)}l=l.sibling}}function Gl(i,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var d=i,m=l,b=m.flags;switch(m.tag){case 22:Gl(d,m),b&2048&&Ov(m.alternate,m);break;case 24:Gl(d,m),b&2048&&Pv(m.alternate,m);break;default:Gl(d,m)}l=l.sibling}}var $l=8192;function Qs(i){if(i.subtreeFlags&$l)for(i=i.child;i!==null;)Y2(i),i=i.sibling}function Y2(i){switch(i.tag){case 26:Qs(i),i.flags&$l&&i.memoizedState!==null&&M3(co,i.memoizedState,i.memoizedProps);break;case 5:Qs(i);break;case 3:case 4:var l=co;co=Nd(i.stateNode.containerInfo),Qs(i),co=l;break;case 22:i.memoizedState===null&&(l=i.alternate,l!==null&&l.memoizedState!==null?(l=$l,$l=16777216,Qs(i),$l=l):Qs(i));break;default:Qs(i)}}function Q2(i){var l=i.alternate;if(l!==null&&(i=l.child,i!==null)){l.child=null;do l=i.sibling,i.sibling=null,i=l;while(i!==null)}}function ql(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];_n=m,J2(m,i)}Q2(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Z2(i),i=i.sibling}function Z2(i){switch(i.tag){case 0:case 11:case 15:ql(i),i.flags&2048&&Xa(9,i,i.return);break;case 3:ql(i);break;case 12:ql(i);break;case 22:var l=i.stateNode;i.memoizedState!==null&&l._visibility&2&&(i.return===null||i.return.tag!==13)?(l._visibility&=-3,xd(i)):ql(i);break;default:ql(i)}}function xd(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];_n=m,J2(m,i)}Q2(i)}for(i=i.child;i!==null;){switch(l=i,l.tag){case 0:case 11:case 15:Xa(8,l,l.return),xd(l);break;case 22:d=l.stateNode,d._visibility&2&&(d._visibility&=-3,xd(l));break;default:xd(l)}i=i.sibling}}function J2(i,l){for(;_n!==null;){var d=_n;switch(d.tag){case 0:case 11:case 15:Xa(8,d,l);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var m=d.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Dl(d.memoizedState.cache)}if(m=d.child,m!==null)m.return=d,_n=m;else t:for(d=i;_n!==null;){m=_n;var b=m.sibling,C=m.return;if(H2(m),m===d){_n=null;break t}if(b!==null){b.return=C,_n=b;break t}_n=C}}}var qO={getCacheForType:function(i){var l=Hn(yn),d=l.data.get(i);return d===void 0&&(d=i(),l.data.set(i,d)),d}},KO=typeof WeakMap=="function"?WeakMap:Map,ke=0,Ue=null,ue=null,ve=0,Me=0,Tr=null,Za=!1,Zs=!1,Iv=!1,va=0,nn=0,Ja=0,Gi=0,Bv=0,Hr=0,Js=0,Kl=null,cr=null,Fv=!1,Lv=0,wd=1/0,Sd=null,ti=null,In=0,ei=null,tu=null,eu=0,zv=0,Vv=null,tS=null,Xl=0,Uv=null;function Rr(){if((ke&2)!==0&&ve!==0)return ve&-ve;if(B.T!==null){var i=js;return i!==0?i:Kv()}return v1()}function eS(){Hr===0&&(Hr=(ve&536870912)===0||Se?dl():536870912);var i=Wr.current;return i!==null&&(i.flags|=32),Hr}function Ar(i,l,d){(i===Ue&&(Me===2||Me===9)||i.cancelPendingCommit!==null)&&(nu(i,0),ni(i,ve,Hr,!1)),hl(i,d),((ke&2)===0||i!==Ue)&&(i===Ue&&((ke&2)===0&&(Gi|=d),nn===4&&ni(i,ve,Hr,!1)),To(i))}function nS(i,l,d){if((ke&6)!==0)throw Error(r(327));var m=!d&&(l&124)===0&&(l&i.expiredLanes)===0||Ke(i,l),b=m?QO(i,l):Hv(i,l,!0),C=m;do{if(b===0){Zs&&!m&&ni(i,l,0,!1);break}else{if(d=i.current.alternate,C&&!XO(d)){b=Hv(i,l,!1),C=!1;continue}if(b===2){if(C=l,i.errorRecoveryDisabledLanes&C)var P=0;else P=i.pendingLanes&-536870913,P=P!==0?P:P&536870912?536870912:0;if(P!==0){l=P;t:{var L=i;b=Kl;var K=L.current.memoizedState.isDehydrated;if(K&&(nu(L,P).flags|=256),P=Hv(L,P,!1),P!==2){if(Iv&&!K){L.errorRecoveryDisabledLanes|=C,Gi|=C,b=4;break t}C=cr,cr=b,C!==null&&(cr===null?cr=C:cr.push.apply(cr,C))}b=P}if(C=!1,b!==2)continue}}if(b===1){nu(i,0),ni(i,l,0,!0);break}t:{switch(m=i,C=b,C){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:ni(m,l,Hr,!Za);break t;case 2:cr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(b=Lv+300-Qt(),10<b)){if(ni(m,l,Hr,!Za),Ae(m,0,!0)!==0)break t;m.timeoutHandle=MS(rS.bind(null,m,d,cr,Sd,Fv,l,Hr,Gi,Js,Za,C,2,-0,0),b);break t}rS(m,d,cr,Sd,Fv,l,Hr,Gi,Js,Za,C,0,-0,0)}}break}while(!0);To(i)}function rS(i,l,d,m,b,C,P,L,K,ot,dt,mt,at,it){if(i.timeoutHandle=-1,mt=l.subtreeFlags,(mt&8192||(mt&16785408)===16785408)&&(nc={stylesheets:null,count:0,unsuspend:k3},Y2(l),mt=N3(),mt!==null)){i.cancelPendingCommit=mt(cS.bind(null,i,l,C,d,m,b,P,L,K,dt,1,at,it)),ni(i,C,P,!ot);return}cS(i,l,C,d,m,b,P,L,K)}function XO(i){for(var l=i;;){var d=l.tag;if((d===0||d===11||d===15)&&l.flags&16384&&(d=l.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var m=0;m<d.length;m++){var b=d[m],C=b.getSnapshot;b=b.value;try{if(!wr(C(),b))return!1}catch{return!1}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function ni(i,l,d,m){l&=~Bv,l&=~Gi,i.suspendedLanes|=l,i.pingedLanes&=~l,m&&(i.warmLanes|=l),m=i.expirationTimes;for(var b=l;0<b;){var C=31-pe(b),P=1<<C;m[C]=-1,b&=~P}d!==0&&p1(i,d,l)}function Cd(){return(ke&6)===0?(Yl(0),!1):!0}function jv(){if(ue!==null){if(Me===0)var i=ue.return;else i=ue,ua=zi=null,av(i),Ks=null,Vl=0,i=ue;for(;i!==null;)B2(i.alternate,i),i=i.return;ue=null}}function nu(i,l){var d=i.timeoutHandle;d!==-1&&(i.timeoutHandle=-1,h3(d)),d=i.cancelPendingCommit,d!==null&&(i.cancelPendingCommit=null,d()),jv(),Ue=i,ue=d=aa(i.current,null),ve=l,Me=0,Tr=null,Za=!1,Zs=Ke(i,l),Iv=!1,Js=Hr=Bv=Gi=Ja=nn=0,cr=Kl=null,Fv=!1,(l&8)!==0&&(l|=l&32);var m=i.entangledLanes;if(m!==0)for(i=i.entanglements,m&=l;0<m;){var b=31-pe(m),C=1<<b;l|=i[b],m&=~C}return va=l,Gf(),d}function oS(i,l){re=null,B.H=cd,l===Ml||l===td?(l=ww(),Me=3):l===yw?(l=ww(),Me=4):Me=l===S2?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Tr=l,ue===null&&(nn=1,md(i,zr(l,i.current)))}function aS(){var i=B.H;return B.H=cd,i===null?cd:i}function iS(){var i=B.A;return B.A=qO,i}function Wv(){nn=4,Za||(ve&4194048)!==ve&&Wr.current!==null||(Zs=!0),(Ja&134217727)===0&&(Gi&134217727)===0||Ue===null||ni(Ue,ve,Hr,!1)}function Hv(i,l,d){var m=ke;ke|=2;var b=aS(),C=iS();(Ue!==i||ve!==l)&&(Sd=null,nu(i,l)),l=!1;var P=nn;t:do try{if(Me!==0&&ue!==null){var L=ue,K=Tr;switch(Me){case 8:jv(),P=6;break t;case 3:case 2:case 9:case 6:Wr.current===null&&(l=!0);var ot=Me;if(Me=0,Tr=null,ru(i,L,K,ot),d&&Zs){P=0;break t}break;default:ot=Me,Me=0,Tr=null,ru(i,L,K,ot)}}YO(),P=nn;break}catch(dt){oS(i,dt)}while(!0);return l&&i.shellSuspendCounter++,ua=zi=null,ke=m,B.H=b,B.A=C,ue===null&&(Ue=null,ve=0,Gf()),P}function YO(){for(;ue!==null;)sS(ue)}function QO(i,l){var d=ke;ke|=2;var m=aS(),b=iS();Ue!==i||ve!==l?(Sd=null,wd=Qt()+500,nu(i,l)):Zs=Ke(i,l);t:do try{if(Me!==0&&ue!==null){l=ue;var C=Tr;e:switch(Me){case 1:Me=0,Tr=null,ru(i,l,C,1);break;case 2:case 9:if(bw(C)){Me=0,Tr=null,uS(l);break}l=function(){Me!==2&&Me!==9||Ue!==i||(Me=7),To(i)},C.then(l,l);break t;case 3:Me=7;break t;case 4:Me=5;break t;case 7:bw(C)?(Me=0,Tr=null,uS(l)):(Me=0,Tr=null,ru(i,l,C,7));break;case 5:var P=null;switch(ue.tag){case 26:P=ue.memoizedState;case 5:case 27:var L=ue;if(!P||WS(P)){Me=0,Tr=null;var K=L.sibling;if(K!==null)ue=K;else{var ot=L.return;ot!==null?(ue=ot,Ed(ot)):ue=null}break e}}Me=0,Tr=null,ru(i,l,C,5);break;case 6:Me=0,Tr=null,ru(i,l,C,6);break;case 8:jv(),nn=6;break t;default:throw Error(r(462))}}ZO();break}catch(dt){oS(i,dt)}while(!0);return ua=zi=null,B.H=m,B.A=b,ke=d,ue!==null?0:(Ue=null,ve=0,Gf(),nn)}function ZO(){for(;ue!==null&&!zt();)sS(ue)}function sS(i){var l=P2(i.alternate,i,va);i.memoizedProps=i.pendingProps,l===null?Ed(i):ue=l}function uS(i){var l=i,d=l.alternate;switch(l.tag){case 15:case 0:l=_2(d,l,l.pendingProps,l.type,void 0,ve);break;case 11:l=_2(d,l,l.pendingProps,l.type.render,l.ref,ve);break;case 5:av(l);default:B2(d,l),l=ue=lw(l,va),l=P2(d,l,va)}i.memoizedProps=i.pendingProps,l===null?Ed(i):ue=l}function ru(i,l,d,m){ua=zi=null,av(l),Ks=null,Vl=0;var b=l.return;try{if(UO(i,b,l,d,ve)){nn=1,md(i,zr(d,i.current)),ue=null;return}}catch(C){if(b!==null)throw ue=b,C;nn=1,md(i,zr(d,i.current)),ue=null;return}l.flags&32768?(Se||m===1?i=!0:Zs||(ve&536870912)!==0?i=!1:(Za=i=!0,(m===2||m===9||m===3||m===6)&&(m=Wr.current,m!==null&&m.tag===13&&(m.flags|=16384))),lS(l,i)):Ed(l)}function Ed(i){var l=i;do{if((l.flags&32768)!==0){lS(l,Za);return}i=l.return;var d=WO(l.alternate,l,va);if(d!==null){ue=d;return}if(l=l.sibling,l!==null){ue=l;return}ue=l=i}while(l!==null);nn===0&&(nn=5)}function lS(i,l){do{var d=HO(i.alternate,i);if(d!==null){d.flags&=32767,ue=d;return}if(d=i.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!l&&(i=i.sibling,i!==null)){ue=i;return}ue=i=d}while(i!==null);nn=6,ue=null}function cS(i,l,d,m,b,C,P,L,K){i.cancelPendingCommit=null;do Td();while(In!==0);if((ke&6)!==0)throw Error(r(327));if(l!==null){if(l===i.current)throw Error(r(177));if(C=l.lanes|l.childLanes,C|=Pm,kN(i,d,C,P,L,K),i===Ue&&(ue=Ue=null,ve=0),tu=l,ei=i,eu=d,zv=C,Vv=b,tS=m,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,n3(Zt,function(){return mS(),null})):(i.callbackNode=null,i.callbackPriority=0),m=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||m){m=B.T,B.T=null,b=H.p,H.p=2,P=ke,ke|=4;try{GO(i,l,d)}finally{ke=P,H.p=b,B.T=m}}In=1,fS(),dS(),hS()}}function fS(){if(In===1){In=0;var i=ei,l=tu,d=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||d){d=B.T,B.T=null;var m=H.p;H.p=2;var b=ke;ke|=4;try{q2(l,i);var C=ng,P=J1(i.containerInfo),L=C.focusedElem,K=C.selectionRange;if(P!==L&&L&&L.ownerDocument&&Z1(L.ownerDocument.documentElement,L)){if(K!==null&&Dm(L)){var ot=K.start,dt=K.end;if(dt===void 0&&(dt=ot),"selectionStart"in L)L.selectionStart=ot,L.selectionEnd=Math.min(dt,L.value.length);else{var mt=L.ownerDocument||document,at=mt&&mt.defaultView||window;if(at.getSelection){var it=at.getSelection(),Gt=L.textContent.length,jt=Math.min(K.start,Gt),Be=K.end===void 0?jt:Math.min(K.end,Gt);!it.extend&&jt>Be&&(P=Be,Be=jt,jt=P);var tt=Q1(L,jt),Z=Q1(L,Be);if(tt&&Z&&(it.rangeCount!==1||it.anchorNode!==tt.node||it.anchorOffset!==tt.offset||it.focusNode!==Z.node||it.focusOffset!==Z.offset)){var rt=mt.createRange();rt.setStart(tt.node,tt.offset),it.removeAllRanges(),jt>Be?(it.addRange(rt),it.extend(Z.node,Z.offset)):(rt.setEnd(Z.node,Z.offset),it.addRange(rt))}}}}for(mt=[],it=L;it=it.parentNode;)it.nodeType===1&&mt.push({element:it,left:it.scrollLeft,top:it.scrollTop});for(typeof L.focus=="function"&&L.focus(),L=0;L<mt.length;L++){var ht=mt[L];ht.element.scrollLeft=ht.left,ht.element.scrollTop=ht.top}}Fd=!!eg,ng=eg=null}finally{ke=b,H.p=m,B.T=d}}i.current=l,In=2}}function dS(){if(In===2){In=0;var i=ei,l=tu,d=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||d){d=B.T,B.T=null;var m=H.p;H.p=2;var b=ke;ke|=4;try{W2(i,l.alternate,l)}finally{ke=b,H.p=m,B.T=d}}In=3}}function hS(){if(In===4||In===3){In=0,Xt();var i=ei,l=tu,d=eu,m=tS;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?In=5:(In=0,tu=ei=null,pS(i,i.pendingLanes));var b=i.pendingLanes;if(b===0&&(ti=null),um(d),l=l.stateNode,Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(we,l,void 0,(l.current.flags&128)===128)}catch{}if(m!==null){l=B.T,b=H.p,H.p=2,B.T=null;try{for(var C=i.onRecoverableError,P=0;P<m.length;P++){var L=m[P];C(L.value,{componentStack:L.stack})}}finally{B.T=l,H.p=b}}(eu&3)!==0&&Td(),To(i),b=i.pendingLanes,(d&4194090)!==0&&(b&42)!==0?i===Uv?Xl++:(Xl=0,Uv=i):Xl=0,Yl(0)}}function pS(i,l){(i.pooledCacheLanes&=l)===0&&(l=i.pooledCache,l!=null&&(i.pooledCache=null,Dl(l)))}function Td(i){return fS(),dS(),hS(),mS()}function mS(){if(In!==5)return!1;var i=ei,l=zv;zv=0;var d=um(eu),m=B.T,b=H.p;try{H.p=32>d?32:d,B.T=null,d=Vv,Vv=null;var C=ei,P=eu;if(In=0,tu=ei=null,eu=0,(ke&6)!==0)throw Error(r(331));var L=ke;if(ke|=4,Z2(C.current),X2(C,C.current,P,d),ke=L,Yl(0,!1),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(we,C)}catch{}return!0}finally{H.p=b,B.T=m,pS(i,l)}}function vS(i,l,d){l=zr(d,l),l=bv(i.stateNode,l,2),i=Ga(i,l,2),i!==null&&(hl(i,2),To(i))}function ze(i,l,d){if(i.tag===3)vS(i,i,d);else for(;l!==null;){if(l.tag===3){vS(l,i,d);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(ti===null||!ti.has(m))){i=zr(d,i),d=x2(2),m=Ga(l,d,2),m!==null&&(w2(d,m,l,i),hl(m,2),To(m));break}}l=l.return}}function Gv(i,l,d){var m=i.pingCache;if(m===null){m=i.pingCache=new KO;var b=new Set;m.set(l,b)}else b=m.get(l),b===void 0&&(b=new Set,m.set(l,b));b.has(d)||(Iv=!0,b.add(d),i=JO.bind(null,i,l,d),l.then(i,i))}function JO(i,l,d){var m=i.pingCache;m!==null&&m.delete(l),i.pingedLanes|=i.suspendedLanes&d,i.warmLanes&=~d,Ue===i&&(ve&d)===d&&(nn===4||nn===3&&(ve&62914560)===ve&&300>Qt()-Lv?(ke&2)===0&&nu(i,0):Bv|=d,Js===ve&&(Js=0)),To(i)}function gS(i,l){l===0&&(l=h1()),i=Ls(i,l),i!==null&&(hl(i,l),To(i))}function t3(i){var l=i.memoizedState,d=0;l!==null&&(d=l.retryLane),gS(i,d)}function e3(i,l){var d=0;switch(i.tag){case 13:var m=i.stateNode,b=i.memoizedState;b!==null&&(d=b.retryLane);break;case 19:m=i.stateNode;break;case 22:m=i.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(l),gS(i,d)}function n3(i,l){return Rt(i,l)}var Rd=null,ou=null,$v=!1,Ad=!1,qv=!1,$i=0;function To(i){i!==ou&&i.next===null&&(ou===null?Rd=ou=i:ou=ou.next=i),Ad=!0,$v||($v=!0,o3())}function Yl(i,l){if(!qv&&Ad){qv=!0;do for(var d=!1,m=Rd;m!==null;){if(i!==0){var b=m.pendingLanes;if(b===0)var C=0;else{var P=m.suspendedLanes,L=m.pingedLanes;C=(1<<31-pe(42|i)+1)-1,C&=b&~(P&~L),C=C&201326741?C&201326741|1:C?C|2:0}C!==0&&(d=!0,wS(m,C))}else C=ve,C=Ae(m,m===Ue?C:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(C&3)===0||Ke(m,C)||(d=!0,wS(m,C));m=m.next}while(d);qv=!1}}function r3(){yS()}function yS(){Ad=$v=!1;var i=0;$i!==0&&(d3()&&(i=$i),$i=0);for(var l=Qt(),d=null,m=Rd;m!==null;){var b=m.next,C=bS(m,l);C===0?(m.next=null,d===null?Rd=b:d.next=b,b===null&&(ou=d)):(d=m,(i!==0||(C&3)!==0)&&(Ad=!0)),m=b}Yl(i)}function bS(i,l){for(var d=i.suspendedLanes,m=i.pingedLanes,b=i.expirationTimes,C=i.pendingLanes&-62914561;0<C;){var P=31-pe(C),L=1<<P,K=b[P];K===-1?((L&d)===0||(L&m)!==0)&&(b[P]=za(L,l)):K<=l&&(i.expiredLanes|=L),C&=~L}if(l=Ue,d=ve,d=Ae(i,i===l?d:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m=i.callbackNode,d===0||i===l&&(Me===2||Me===9)||i.cancelPendingCommit!==null)return m!==null&&m!==null&&St(m),i.callbackNode=null,i.callbackPriority=0;if((d&3)===0||Ke(i,d)){if(l=d&-d,l===i.callbackPriority)return l;switch(m!==null&&St(m),um(d)){case 2:case 8:d=oe;break;case 32:d=Zt;break;case 268435456:d=Ve;break;default:d=Zt}return m=xS.bind(null,i),d=Rt(d,m),i.callbackPriority=l,i.callbackNode=d,l}return m!==null&&m!==null&&St(m),i.callbackPriority=2,i.callbackNode=null,2}function xS(i,l){if(In!==0&&In!==5)return i.callbackNode=null,i.callbackPriority=0,null;var d=i.callbackNode;if(Td()&&i.callbackNode!==d)return null;var m=ve;return m=Ae(i,i===Ue?m:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m===0?null:(nS(i,m,l),bS(i,Qt()),i.callbackNode!=null&&i.callbackNode===d?xS.bind(null,i):null)}function wS(i,l){if(Td())return null;nS(i,l,!0)}function o3(){p3(function(){(ke&6)!==0?Rt(te,r3):yS()})}function Kv(){return $i===0&&($i=dl()),$i}function SS(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Lf(""+i)}function CS(i,l){var d=l.ownerDocument.createElement("input");return d.name=l.name,d.value=l.value,i.id&&d.setAttribute("form",i.id),l.parentNode.insertBefore(d,l),i=new FormData(i),d.parentNode.removeChild(d),i}function a3(i,l,d,m,b){if(l==="submit"&&d&&d.stateNode===b){var C=SS((b[ir]||null).action),P=m.submitter;P&&(l=(l=P[ir]||null)?SS(l.formAction):P.getAttribute("formAction"),l!==null&&(C=l,P=null));var L=new jf("action","action",null,m,b);i.push({event:L,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if($i!==0){var K=P?CS(b,P):new FormData(b);pv(d,{pending:!0,data:K,method:b.method,action:C},null,K)}}else typeof C=="function"&&(L.preventDefault(),K=P?CS(b,P):new FormData(b),pv(d,{pending:!0,data:K,method:b.method,action:C},C,K))},currentTarget:b}]})}}for(var Xv=0;Xv<Om.length;Xv++){var Yv=Om[Xv],i3=Yv.toLowerCase(),s3=Yv[0].toUpperCase()+Yv.slice(1);lo(i3,"on"+s3)}lo(nw,"onAnimationEnd"),lo(rw,"onAnimationIteration"),lo(ow,"onAnimationStart"),lo("dblclick","onDoubleClick"),lo("focusin","onFocus"),lo("focusout","onBlur"),lo(EO,"onTransitionRun"),lo(TO,"onTransitionStart"),lo(RO,"onTransitionCancel"),lo(aw,"onTransitionEnd"),_s("onMouseEnter",["mouseout","mouseover"]),_s("onMouseLeave",["mouseout","mouseover"]),_s("onPointerEnter",["pointerout","pointerover"]),_s("onPointerLeave",["pointerout","pointerover"]),ki("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ki("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ki("onBeforeInput",["compositionend","keypress","textInput","paste"]),ki("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ki("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ki("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),u3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ql));function ES(i,l){l=(l&4)!==0;for(var d=0;d<i.length;d++){var m=i[d],b=m.event;m=m.listeners;t:{var C=void 0;if(l)for(var P=m.length-1;0<=P;P--){var L=m[P],K=L.instance,ot=L.currentTarget;if(L=L.listener,K!==C&&b.isPropagationStopped())break t;C=L,b.currentTarget=ot;try{C(b)}catch(dt){pd(dt)}b.currentTarget=null,C=K}else for(P=0;P<m.length;P++){if(L=m[P],K=L.instance,ot=L.currentTarget,L=L.listener,K!==C&&b.isPropagationStopped())break t;C=L,b.currentTarget=ot;try{C(b)}catch(dt){pd(dt)}b.currentTarget=null,C=K}}}}function le(i,l){var d=l[lm];d===void 0&&(d=l[lm]=new Set);var m=i+"__bubble";d.has(m)||(TS(l,i,2,!1),d.add(m))}function Qv(i,l,d){var m=0;l&&(m|=4),TS(d,i,m,l)}var _d="_reactListening"+Math.random().toString(36).slice(2);function Zv(i){if(!i[_d]){i[_d]=!0,y1.forEach(function(d){d!=="selectionchange"&&(u3.has(d)||Qv(d,!1,i),Qv(d,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[_d]||(l[_d]=!0,Qv("selectionchange",!1,l))}}function TS(i,l,d,m){switch(XS(l)){case 2:var b=I3;break;case 8:b=B3;break;default:b=dg}d=b.bind(null,l,d,i),b=void 0,!xm||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(b=!0),m?b!==void 0?i.addEventListener(l,d,{capture:!0,passive:b}):i.addEventListener(l,d,!0):b!==void 0?i.addEventListener(l,d,{passive:b}):i.addEventListener(l,d,!1)}function Jv(i,l,d,m,b){var C=m;if((l&1)===0&&(l&2)===0&&m!==null)t:for(;;){if(m===null)return;var P=m.tag;if(P===3||P===4){var L=m.stateNode.containerInfo;if(L===b)break;if(P===4)for(P=m.return;P!==null;){var K=P.tag;if((K===3||K===4)&&P.stateNode.containerInfo===b)return;P=P.return}for(;L!==null;){if(P=Ts(L),P===null)return;if(K=P.tag,K===5||K===6||K===26||K===27){m=C=P;continue t}L=L.parentNode}}m=m.return}N1(function(){var ot=C,dt=ym(d),mt=[];t:{var at=iw.get(i);if(at!==void 0){var it=jf,Gt=i;switch(i){case"keypress":if(Vf(d)===0)break t;case"keydown":case"keyup":it=nO;break;case"focusin":Gt="focus",it=Em;break;case"focusout":Gt="blur",it=Em;break;case"beforeblur":case"afterblur":it=Em;break;case"click":if(d.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":it=I1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":it=HN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":it=aO;break;case nw:case rw:case ow:it=qN;break;case aw:it=sO;break;case"scroll":case"scrollend":it=jN;break;case"wheel":it=lO;break;case"copy":case"cut":case"paste":it=XN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":it=F1;break;case"toggle":case"beforetoggle":it=fO}var jt=(l&4)!==0,Be=!jt&&(i==="scroll"||i==="scrollend"),tt=jt?at!==null?at+"Capture":null:at;jt=[];for(var Z=ot,rt;Z!==null;){var ht=Z;if(rt=ht.stateNode,ht=ht.tag,ht!==5&&ht!==26&&ht!==27||rt===null||tt===null||(ht=vl(Z,tt),ht!=null&&jt.push(Zl(Z,ht,rt))),Be)break;Z=Z.return}0<jt.length&&(at=new it(at,Gt,null,d,dt),mt.push({event:at,listeners:jt}))}}if((l&7)===0){t:{if(at=i==="mouseover"||i==="pointerover",it=i==="mouseout"||i==="pointerout",at&&d!==gm&&(Gt=d.relatedTarget||d.fromElement)&&(Ts(Gt)||Gt[Es]))break t;if((it||at)&&(at=dt.window===dt?dt:(at=dt.ownerDocument)?at.defaultView||at.parentWindow:window,it?(Gt=d.relatedTarget||d.toElement,it=ot,Gt=Gt?Ts(Gt):null,Gt!==null&&(Be=a(Gt),jt=Gt.tag,Gt!==Be||jt!==5&&jt!==27&&jt!==6)&&(Gt=null)):(it=null,Gt=ot),it!==Gt)){if(jt=I1,ht="onMouseLeave",tt="onMouseEnter",Z="mouse",(i==="pointerout"||i==="pointerover")&&(jt=F1,ht="onPointerLeave",tt="onPointerEnter",Z="pointer"),Be=it==null?at:ml(it),rt=Gt==null?at:ml(Gt),at=new jt(ht,Z+"leave",it,d,dt),at.target=Be,at.relatedTarget=rt,ht=null,Ts(dt)===ot&&(jt=new jt(tt,Z+"enter",Gt,d,dt),jt.target=rt,jt.relatedTarget=Be,ht=jt),Be=ht,it&&Gt)e:{for(jt=it,tt=Gt,Z=0,rt=jt;rt;rt=au(rt))Z++;for(rt=0,ht=tt;ht;ht=au(ht))rt++;for(;0<Z-rt;)jt=au(jt),Z--;for(;0<rt-Z;)tt=au(tt),rt--;for(;Z--;){if(jt===tt||tt!==null&&jt===tt.alternate)break e;jt=au(jt),tt=au(tt)}jt=null}else jt=null;it!==null&&RS(mt,at,it,jt,!1),Gt!==null&&Be!==null&&RS(mt,Be,Gt,jt,!0)}}t:{if(at=ot?ml(ot):window,it=at.nodeName&&at.nodeName.toLowerCase(),it==="select"||it==="input"&&at.type==="file")var kt=G1;else if(W1(at))if($1)kt=wO;else{kt=bO;var ae=yO}else it=at.nodeName,!it||it.toLowerCase()!=="input"||at.type!=="checkbox"&&at.type!=="radio"?ot&&vm(ot.elementType)&&(kt=G1):kt=xO;if(kt&&(kt=kt(i,ot))){H1(mt,kt,d,dt);break t}ae&&ae(i,at,ot),i==="focusout"&&ot&&at.type==="number"&&ot.memoizedProps.value!=null&&mm(at,"number",at.value)}switch(ae=ot?ml(ot):window,i){case"focusin":(W1(ae)||ae.contentEditable==="true")&&(Is=ae,km=ot,El=null);break;case"focusout":El=km=Is=null;break;case"mousedown":Mm=!0;break;case"contextmenu":case"mouseup":case"dragend":Mm=!1,tw(mt,d,dt);break;case"selectionchange":if(CO)break;case"keydown":case"keyup":tw(mt,d,dt)}var Vt;if(Rm)t:{switch(i){case"compositionstart":var Wt="onCompositionStart";break t;case"compositionend":Wt="onCompositionEnd";break t;case"compositionupdate":Wt="onCompositionUpdate";break t}Wt=void 0}else Ps?U1(i,d)&&(Wt="onCompositionEnd"):i==="keydown"&&d.keyCode===229&&(Wt="onCompositionStart");Wt&&(L1&&d.locale!=="ko"&&(Ps||Wt!=="onCompositionStart"?Wt==="onCompositionEnd"&&Ps&&(Vt=O1()):(Ua=dt,wm="value"in Ua?Ua.value:Ua.textContent,Ps=!0)),ae=Dd(ot,Wt),0<ae.length&&(Wt=new B1(Wt,i,null,d,dt),mt.push({event:Wt,listeners:ae}),Vt?Wt.data=Vt:(Vt=j1(d),Vt!==null&&(Wt.data=Vt)))),(Vt=hO?pO(i,d):mO(i,d))&&(Wt=Dd(ot,"onBeforeInput"),0<Wt.length&&(ae=new B1("onBeforeInput","beforeinput",null,d,dt),mt.push({event:ae,listeners:Wt}),ae.data=Vt)),a3(mt,i,ot,d,dt)}ES(mt,l)})}function Zl(i,l,d){return{instance:i,listener:l,currentTarget:d}}function Dd(i,l){for(var d=l+"Capture",m=[];i!==null;){var b=i,C=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||C===null||(b=vl(i,d),b!=null&&m.unshift(Zl(i,b,C)),b=vl(i,l),b!=null&&m.push(Zl(i,b,C))),i.tag===3)return m;i=i.return}return[]}function au(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function RS(i,l,d,m,b){for(var C=l._reactName,P=[];d!==null&&d!==m;){var L=d,K=L.alternate,ot=L.stateNode;if(L=L.tag,K!==null&&K===m)break;L!==5&&L!==26&&L!==27||ot===null||(K=ot,b?(ot=vl(d,C),ot!=null&&P.unshift(Zl(d,ot,K))):b||(ot=vl(d,C),ot!=null&&P.push(Zl(d,ot,K)))),d=d.return}P.length!==0&&i.push({event:l,listeners:P})}var l3=/\r\n?/g,c3=/\u0000|\uFFFD/g;function AS(i){return(typeof i=="string"?i:""+i).replace(l3,`
`).replace(c3,"")}function _S(i,l){return l=AS(l),AS(i)===l}function kd(){}function Ie(i,l,d,m,b,C){switch(d){case"children":typeof m=="string"?l==="body"||l==="textarea"&&m===""||Ms(i,m):(typeof m=="number"||typeof m=="bigint")&&l!=="body"&&Ms(i,""+m);break;case"className":If(i,"class",m);break;case"tabIndex":If(i,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":If(i,d,m);break;case"style":k1(i,m,C);break;case"data":if(l!=="object"){If(i,"data",m);break}case"src":case"href":if(m===""&&(l!=="a"||d!=="href")){i.removeAttribute(d);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(d);break}m=Lf(""+m),i.setAttribute(d,m);break;case"action":case"formAction":if(typeof m=="function"){i.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof C=="function"&&(d==="formAction"?(l!=="input"&&Ie(i,l,"name",b.name,b,null),Ie(i,l,"formEncType",b.formEncType,b,null),Ie(i,l,"formMethod",b.formMethod,b,null),Ie(i,l,"formTarget",b.formTarget,b,null)):(Ie(i,l,"encType",b.encType,b,null),Ie(i,l,"method",b.method,b,null),Ie(i,l,"target",b.target,b,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(d);break}m=Lf(""+m),i.setAttribute(d,m);break;case"onClick":m!=null&&(i.onclick=kd);break;case"onScroll":m!=null&&le("scroll",i);break;case"onScrollEnd":m!=null&&le("scrollend",i);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(d=m.__html,d!=null){if(b.children!=null)throw Error(r(60));i.innerHTML=d}}break;case"multiple":i.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":i.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){i.removeAttribute("xlink:href");break}d=Lf(""+m),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(d,""+m):i.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(d,""):i.removeAttribute(d);break;case"capture":case"download":m===!0?i.setAttribute(d,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(d,m):i.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?i.setAttribute(d,m):i.removeAttribute(d);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?i.removeAttribute(d):i.setAttribute(d,m);break;case"popover":le("beforetoggle",i),le("toggle",i),Pf(i,"popover",m);break;case"xlinkActuate":ra(i,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":ra(i,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":ra(i,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":ra(i,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":ra(i,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":ra(i,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":ra(i,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":ra(i,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":ra(i,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Pf(i,"is",m);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=VN.get(d)||d,Pf(i,d,m))}}function tg(i,l,d,m,b,C){switch(d){case"style":k1(i,m,C);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(d=m.__html,d!=null){if(b.children!=null)throw Error(r(60));i.innerHTML=d}}break;case"children":typeof m=="string"?Ms(i,m):(typeof m=="number"||typeof m=="bigint")&&Ms(i,""+m);break;case"onScroll":m!=null&&le("scroll",i);break;case"onScrollEnd":m!=null&&le("scrollend",i);break;case"onClick":m!=null&&(i.onclick=kd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!b1.hasOwnProperty(d))t:{if(d[0]==="o"&&d[1]==="n"&&(b=d.endsWith("Capture"),l=d.slice(2,b?d.length-7:void 0),C=i[ir]||null,C=C!=null?C[d]:null,typeof C=="function"&&i.removeEventListener(l,C,b),typeof m=="function")){typeof C!="function"&&C!==null&&(d in i?i[d]=null:i.hasAttribute(d)&&i.removeAttribute(d)),i.addEventListener(l,m,b);break t}d in i?i[d]=m:m===!0?i.setAttribute(d,""):Pf(i,d,m)}}}function Bn(i,l,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":le("error",i),le("load",i);var m=!1,b=!1,C;for(C in d)if(d.hasOwnProperty(C)){var P=d[C];if(P!=null)switch(C){case"src":m=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Ie(i,l,C,P,d,null)}}b&&Ie(i,l,"srcSet",d.srcSet,d,null),m&&Ie(i,l,"src",d.src,d,null);return;case"input":le("invalid",i);var L=C=P=b=null,K=null,ot=null;for(m in d)if(d.hasOwnProperty(m)){var dt=d[m];if(dt!=null)switch(m){case"name":b=dt;break;case"type":P=dt;break;case"checked":K=dt;break;case"defaultChecked":ot=dt;break;case"value":C=dt;break;case"defaultValue":L=dt;break;case"children":case"dangerouslySetInnerHTML":if(dt!=null)throw Error(r(137,l));break;default:Ie(i,l,m,dt,d,null)}}R1(i,C,L,K,ot,P,b,!1),Bf(i);return;case"select":le("invalid",i),m=P=C=null;for(b in d)if(d.hasOwnProperty(b)&&(L=d[b],L!=null))switch(b){case"value":C=L;break;case"defaultValue":P=L;break;case"multiple":m=L;default:Ie(i,l,b,L,d,null)}l=C,d=P,i.multiple=!!m,l!=null?ks(i,!!m,l,!1):d!=null&&ks(i,!!m,d,!0);return;case"textarea":le("invalid",i),C=b=m=null;for(P in d)if(d.hasOwnProperty(P)&&(L=d[P],L!=null))switch(P){case"value":m=L;break;case"defaultValue":b=L;break;case"children":C=L;break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(r(91));break;default:Ie(i,l,P,L,d,null)}_1(i,m,b,C),Bf(i);return;case"option":for(K in d)if(d.hasOwnProperty(K)&&(m=d[K],m!=null))switch(K){case"selected":i.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Ie(i,l,K,m,d,null)}return;case"dialog":le("beforetoggle",i),le("toggle",i),le("cancel",i),le("close",i);break;case"iframe":case"object":le("load",i);break;case"video":case"audio":for(m=0;m<Ql.length;m++)le(Ql[m],i);break;case"image":le("error",i),le("load",i);break;case"details":le("toggle",i);break;case"embed":case"source":case"link":le("error",i),le("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ot in d)if(d.hasOwnProperty(ot)&&(m=d[ot],m!=null))switch(ot){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Ie(i,l,ot,m,d,null)}return;default:if(vm(l)){for(dt in d)d.hasOwnProperty(dt)&&(m=d[dt],m!==void 0&&tg(i,l,dt,m,d,void 0));return}}for(L in d)d.hasOwnProperty(L)&&(m=d[L],m!=null&&Ie(i,l,L,m,d,null))}function f3(i,l,d,m){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,C=null,P=null,L=null,K=null,ot=null,dt=null;for(it in d){var mt=d[it];if(d.hasOwnProperty(it)&&mt!=null)switch(it){case"checked":break;case"value":break;case"defaultValue":K=mt;default:m.hasOwnProperty(it)||Ie(i,l,it,null,m,mt)}}for(var at in m){var it=m[at];if(mt=d[at],m.hasOwnProperty(at)&&(it!=null||mt!=null))switch(at){case"type":C=it;break;case"name":b=it;break;case"checked":ot=it;break;case"defaultChecked":dt=it;break;case"value":P=it;break;case"defaultValue":L=it;break;case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(r(137,l));break;default:it!==mt&&Ie(i,l,at,it,m,mt)}}pm(i,P,L,K,ot,dt,C,b);return;case"select":it=P=L=at=null;for(C in d)if(K=d[C],d.hasOwnProperty(C)&&K!=null)switch(C){case"value":break;case"multiple":it=K;default:m.hasOwnProperty(C)||Ie(i,l,C,null,m,K)}for(b in m)if(C=m[b],K=d[b],m.hasOwnProperty(b)&&(C!=null||K!=null))switch(b){case"value":at=C;break;case"defaultValue":L=C;break;case"multiple":P=C;default:C!==K&&Ie(i,l,b,C,m,K)}l=L,d=P,m=it,at!=null?ks(i,!!d,at,!1):!!m!=!!d&&(l!=null?ks(i,!!d,l,!0):ks(i,!!d,d?[]:"",!1));return;case"textarea":it=at=null;for(L in d)if(b=d[L],d.hasOwnProperty(L)&&b!=null&&!m.hasOwnProperty(L))switch(L){case"value":break;case"children":break;default:Ie(i,l,L,null,m,b)}for(P in m)if(b=m[P],C=d[P],m.hasOwnProperty(P)&&(b!=null||C!=null))switch(P){case"value":at=b;break;case"defaultValue":it=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:b!==C&&Ie(i,l,P,b,m,C)}A1(i,at,it);return;case"option":for(var Gt in d)if(at=d[Gt],d.hasOwnProperty(Gt)&&at!=null&&!m.hasOwnProperty(Gt))switch(Gt){case"selected":i.selected=!1;break;default:Ie(i,l,Gt,null,m,at)}for(K in m)if(at=m[K],it=d[K],m.hasOwnProperty(K)&&at!==it&&(at!=null||it!=null))switch(K){case"selected":i.selected=at&&typeof at!="function"&&typeof at!="symbol";break;default:Ie(i,l,K,at,m,it)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var jt in d)at=d[jt],d.hasOwnProperty(jt)&&at!=null&&!m.hasOwnProperty(jt)&&Ie(i,l,jt,null,m,at);for(ot in m)if(at=m[ot],it=d[ot],m.hasOwnProperty(ot)&&at!==it&&(at!=null||it!=null))switch(ot){case"children":case"dangerouslySetInnerHTML":if(at!=null)throw Error(r(137,l));break;default:Ie(i,l,ot,at,m,it)}return;default:if(vm(l)){for(var Be in d)at=d[Be],d.hasOwnProperty(Be)&&at!==void 0&&!m.hasOwnProperty(Be)&&tg(i,l,Be,void 0,m,at);for(dt in m)at=m[dt],it=d[dt],!m.hasOwnProperty(dt)||at===it||at===void 0&&it===void 0||tg(i,l,dt,at,m,it);return}}for(var tt in d)at=d[tt],d.hasOwnProperty(tt)&&at!=null&&!m.hasOwnProperty(tt)&&Ie(i,l,tt,null,m,at);for(mt in m)at=m[mt],it=d[mt],!m.hasOwnProperty(mt)||at===it||at==null&&it==null||Ie(i,l,mt,at,m,it)}var eg=null,ng=null;function Md(i){return i.nodeType===9?i:i.ownerDocument}function DS(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kS(i,l){if(i===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&l==="foreignObject"?0:i}function rg(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var og=null;function d3(){var i=window.event;return i&&i.type==="popstate"?i===og?!1:(og=i,!0):(og=null,!1)}var MS=typeof setTimeout=="function"?setTimeout:void 0,h3=typeof clearTimeout=="function"?clearTimeout:void 0,NS=typeof Promise=="function"?Promise:void 0,p3=typeof queueMicrotask=="function"?queueMicrotask:typeof NS<"u"?function(i){return NS.resolve(null).then(i).catch(m3)}:MS;function m3(i){setTimeout(function(){throw i})}function ri(i){return i==="head"}function OS(i,l){var d=l,m=0,b=0;do{var C=d.nextSibling;if(i.removeChild(d),C&&C.nodeType===8)if(d=C.data,d==="/$"){if(0<m&&8>m){d=m;var P=i.ownerDocument;if(d&1&&Jl(P.documentElement),d&2&&Jl(P.body),d&4)for(d=P.head,Jl(d),P=d.firstChild;P;){var L=P.nextSibling,K=P.nodeName;P[pl]||K==="SCRIPT"||K==="STYLE"||K==="LINK"&&P.rel.toLowerCase()==="stylesheet"||d.removeChild(P),P=L}}if(b===0){i.removeChild(C),sc(l);return}b--}else d==="$"||d==="$?"||d==="$!"?b++:m=d.charCodeAt(0)-48;else m=0;d=C}while(d);sc(l)}function ag(i){var l=i.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var d=l;switch(l=l.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":ag(d),cm(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}i.removeChild(d)}}function v3(i,l,d,m){for(;i.nodeType===1;){var b=d;if(i.nodeName.toLowerCase()!==l.toLowerCase()){if(!m&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(m){if(!i[pl])switch(l){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(C=i.getAttribute("rel"),C==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(C!==b.rel||i.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||i.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||i.getAttribute("title")!==(b.title==null?null:b.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(C=i.getAttribute("src"),(C!==(b.src==null?null:b.src)||i.getAttribute("type")!==(b.type==null?null:b.type)||i.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&C&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(l==="input"&&i.type==="hidden"){var C=b.name==null?null:""+b.name;if(b.type==="hidden"&&i.getAttribute("name")===C)return i}else return i;if(i=fo(i.nextSibling),i===null)break}return null}function g3(i,l,d){if(l==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!d||(i=fo(i.nextSibling),i===null))return null;return i}function ig(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function y3(i,l){var d=i.ownerDocument;if(i.data!=="$?"||d.readyState==="complete")l();else{var m=function(){l(),d.removeEventListener("DOMContentLoaded",m)};d.addEventListener("DOMContentLoaded",m),i._reactRetry=m}}function fo(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return i}var sg=null;function PS(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var d=i.data;if(d==="$"||d==="$!"||d==="$?"){if(l===0)return i;l--}else d==="/$"&&l++}i=i.previousSibling}return null}function IS(i,l,d){switch(l=Md(d),i){case"html":if(i=l.documentElement,!i)throw Error(r(452));return i;case"head":if(i=l.head,!i)throw Error(r(453));return i;case"body":if(i=l.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Jl(i){for(var l=i.attributes;l.length;)i.removeAttributeNode(l[0]);cm(i)}var Gr=new Map,BS=new Set;function Nd(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ga=H.d;H.d={f:b3,r:x3,D:w3,C:S3,L:C3,m:E3,X:R3,S:T3,M:A3};function b3(){var i=ga.f(),l=Cd();return i||l}function x3(i){var l=Rs(i);l!==null&&l.tag===5&&l.type==="form"?n2(l):ga.r(i)}var iu=typeof document>"u"?null:document;function FS(i,l,d){var m=iu;if(m&&typeof l=="string"&&l){var b=Lr(l);b='link[rel="'+i+'"][href="'+b+'"]',typeof d=="string"&&(b+='[crossorigin="'+d+'"]'),BS.has(b)||(BS.add(b),i={rel:i,crossOrigin:d,href:l},m.querySelector(b)===null&&(l=m.createElement("link"),Bn(l,"link",i),Rn(l),m.head.appendChild(l)))}}function w3(i){ga.D(i),FS("dns-prefetch",i,null)}function S3(i,l){ga.C(i,l),FS("preconnect",i,l)}function C3(i,l,d){ga.L(i,l,d);var m=iu;if(m&&i&&l){var b='link[rel="preload"][as="'+Lr(l)+'"]';l==="image"&&d&&d.imageSrcSet?(b+='[imagesrcset="'+Lr(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(b+='[imagesizes="'+Lr(d.imageSizes)+'"]')):b+='[href="'+Lr(i)+'"]';var C=b;switch(l){case"style":C=su(i);break;case"script":C=uu(i)}Gr.has(C)||(i=h({rel:"preload",href:l==="image"&&d&&d.imageSrcSet?void 0:i,as:l},d),Gr.set(C,i),m.querySelector(b)!==null||l==="style"&&m.querySelector(tc(C))||l==="script"&&m.querySelector(ec(C))||(l=m.createElement("link"),Bn(l,"link",i),Rn(l),m.head.appendChild(l)))}}function E3(i,l){ga.m(i,l);var d=iu;if(d&&i){var m=l&&typeof l.as=="string"?l.as:"script",b='link[rel="modulepreload"][as="'+Lr(m)+'"][href="'+Lr(i)+'"]',C=b;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":C=uu(i)}if(!Gr.has(C)&&(i=h({rel:"modulepreload",href:i},l),Gr.set(C,i),d.querySelector(b)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(ec(C)))return}m=d.createElement("link"),Bn(m,"link",i),Rn(m),d.head.appendChild(m)}}}function T3(i,l,d){ga.S(i,l,d);var m=iu;if(m&&i){var b=As(m).hoistableStyles,C=su(i);l=l||"default";var P=b.get(C);if(!P){var L={loading:0,preload:null};if(P=m.querySelector(tc(C)))L.loading=5;else{i=h({rel:"stylesheet",href:i,"data-precedence":l},d),(d=Gr.get(C))&&ug(i,d);var K=P=m.createElement("link");Rn(K),Bn(K,"link",i),K._p=new Promise(function(ot,dt){K.onload=ot,K.onerror=dt}),K.addEventListener("load",function(){L.loading|=1}),K.addEventListener("error",function(){L.loading|=2}),L.loading|=4,Od(P,l,m)}P={type:"stylesheet",instance:P,count:1,state:L},b.set(C,P)}}}function R3(i,l){ga.X(i,l);var d=iu;if(d&&i){var m=As(d).hoistableScripts,b=uu(i),C=m.get(b);C||(C=d.querySelector(ec(b)),C||(i=h({src:i,async:!0},l),(l=Gr.get(b))&&lg(i,l),C=d.createElement("script"),Rn(C),Bn(C,"link",i),d.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},m.set(b,C))}}function A3(i,l){ga.M(i,l);var d=iu;if(d&&i){var m=As(d).hoistableScripts,b=uu(i),C=m.get(b);C||(C=d.querySelector(ec(b)),C||(i=h({src:i,async:!0,type:"module"},l),(l=Gr.get(b))&&lg(i,l),C=d.createElement("script"),Rn(C),Bn(C,"link",i),d.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},m.set(b,C))}}function LS(i,l,d,m){var b=(b=vt.current)?Nd(b):null;if(!b)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(l=su(d.href),d=As(b).hoistableStyles,m=d.get(l),m||(m={type:"style",instance:null,count:0,state:null},d.set(l,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){i=su(d.href);var C=As(b).hoistableStyles,P=C.get(i);if(P||(b=b.ownerDocument||b,P={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},C.set(i,P),(C=b.querySelector(tc(i)))&&!C._p&&(P.instance=C,P.state.loading=5),Gr.has(i)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Gr.set(i,d),C||_3(b,i,d,P.state))),l&&m===null)throw Error(r(528,""));return P}if(l&&m!==null)throw Error(r(529,""));return null;case"script":return l=d.async,d=d.src,typeof d=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=uu(d),d=As(b).hoistableScripts,m=d.get(l),m||(m={type:"script",instance:null,count:0,state:null},d.set(l,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function su(i){return'href="'+Lr(i)+'"'}function tc(i){return'link[rel="stylesheet"]['+i+"]"}function zS(i){return h({},i,{"data-precedence":i.precedence,precedence:null})}function _3(i,l,d,m){i.querySelector('link[rel="preload"][as="style"]['+l+"]")?m.loading=1:(l=i.createElement("link"),m.preload=l,l.addEventListener("load",function(){return m.loading|=1}),l.addEventListener("error",function(){return m.loading|=2}),Bn(l,"link",d),Rn(l),i.head.appendChild(l))}function uu(i){return'[src="'+Lr(i)+'"]'}function ec(i){return"script[async]"+i}function VS(i,l,d){if(l.count++,l.instance===null)switch(l.type){case"style":var m=i.querySelector('style[data-href~="'+Lr(d.href)+'"]');if(m)return l.instance=m,Rn(m),m;var b=h({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return m=(i.ownerDocument||i).createElement("style"),Rn(m),Bn(m,"style",b),Od(m,d.precedence,i),l.instance=m;case"stylesheet":b=su(d.href);var C=i.querySelector(tc(b));if(C)return l.state.loading|=4,l.instance=C,Rn(C),C;m=zS(d),(b=Gr.get(b))&&ug(m,b),C=(i.ownerDocument||i).createElement("link"),Rn(C);var P=C;return P._p=new Promise(function(L,K){P.onload=L,P.onerror=K}),Bn(C,"link",m),l.state.loading|=4,Od(C,d.precedence,i),l.instance=C;case"script":return C=uu(d.src),(b=i.querySelector(ec(C)))?(l.instance=b,Rn(b),b):(m=d,(b=Gr.get(C))&&(m=h({},d),lg(m,b)),i=i.ownerDocument||i,b=i.createElement("script"),Rn(b),Bn(b,"link",m),i.head.appendChild(b),l.instance=b);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(m=l.instance,l.state.loading|=4,Od(m,d.precedence,i));return l.instance}function Od(i,l,d){for(var m=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=m.length?m[m.length-1]:null,C=b,P=0;P<m.length;P++){var L=m[P];if(L.dataset.precedence===l)C=L;else if(C!==b)break}C?C.parentNode.insertBefore(i,C.nextSibling):(l=d.nodeType===9?d.head:d,l.insertBefore(i,l.firstChild))}function ug(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.title==null&&(i.title=l.title)}function lg(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.integrity==null&&(i.integrity=l.integrity)}var Pd=null;function US(i,l,d){if(Pd===null){var m=new Map,b=Pd=new Map;b.set(d,m)}else b=Pd,m=b.get(d),m||(m=new Map,b.set(d,m));if(m.has(i))return m;for(m.set(i,null),d=d.getElementsByTagName(i),b=0;b<d.length;b++){var C=d[b];if(!(C[pl]||C[Wn]||i==="link"&&C.getAttribute("rel")==="stylesheet")&&C.namespaceURI!=="http://www.w3.org/2000/svg"){var P=C.getAttribute(l)||"";P=i+P;var L=m.get(P);L?L.push(C):m.set(P,[C])}}return m}function jS(i,l,d){i=i.ownerDocument||i,i.head.insertBefore(d,l==="title"?i.querySelector("head > title"):null)}function D3(i,l,d){if(d===1||l.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return i=l.disabled,typeof l.precedence=="string"&&i==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function WS(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var nc=null;function k3(){}function M3(i,l,d){if(nc===null)throw Error(r(475));var m=nc;if(l.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var b=su(d.href),C=i.querySelector(tc(b));if(C){i=C._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(m.count++,m=Id.bind(m),i.then(m,m)),l.state.loading|=4,l.instance=C,Rn(C);return}C=i.ownerDocument||i,d=zS(d),(b=Gr.get(b))&&ug(d,b),C=C.createElement("link"),Rn(C);var P=C;P._p=new Promise(function(L,K){P.onload=L,P.onerror=K}),Bn(C,"link",d),l.instance=C}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(l,i),(i=l.state.preload)&&(l.state.loading&3)===0&&(m.count++,l=Id.bind(m),i.addEventListener("load",l),i.addEventListener("error",l))}}function N3(){if(nc===null)throw Error(r(475));var i=nc;return i.stylesheets&&i.count===0&&cg(i,i.stylesheets),0<i.count?function(l){var d=setTimeout(function(){if(i.stylesheets&&cg(i,i.stylesheets),i.unsuspend){var m=i.unsuspend;i.unsuspend=null,m()}},6e4);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(d)}}:null}function Id(){if(this.count--,this.count===0){if(this.stylesheets)cg(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Bd=null;function cg(i,l){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Bd=new Map,l.forEach(O3,i),Bd=null,Id.call(i))}function O3(i,l){if(!(l.state.loading&4)){var d=Bd.get(i);if(d)var m=d.get(null);else{d=new Map,Bd.set(i,d);for(var b=i.querySelectorAll("link[data-precedence],style[data-precedence]"),C=0;C<b.length;C++){var P=b[C];(P.nodeName==="LINK"||P.getAttribute("media")!=="not all")&&(d.set(P.dataset.precedence,P),m=P)}m&&d.set(null,m)}b=l.instance,P=b.getAttribute("data-precedence"),C=d.get(P)||m,C===m&&d.set(null,b),d.set(P,b),this.count++,m=Id.bind(this),b.addEventListener("load",m),b.addEventListener("error",m),C?C.parentNode.insertBefore(b,C.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(b,i.firstChild)),l.state.loading|=4}}var rc={$$typeof:E,Provider:null,Consumer:null,_currentValue:q,_currentValue2:q,_threadCount:0};function P3(i,l,d,m,b,C,P,L){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=im(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=im(0),this.hiddenUpdates=im(null),this.identifierPrefix=m,this.onUncaughtError=b,this.onCaughtError=C,this.onRecoverableError=P,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function HS(i,l,d,m,b,C,P,L,K,ot,dt,mt){return i=new P3(i,l,d,P,L,K,ot,mt),l=1,C===!0&&(l|=24),C=Sr(3,null,null,l),i.current=C,C.stateNode=i,l=Gm(),l.refCount++,i.pooledCache=l,l.refCount++,C.memoizedState={element:m,isDehydrated:d,cache:l},Xm(C),i}function GS(i){return i?(i=zs,i):zs}function $S(i,l,d,m,b,C){b=GS(b),m.context===null?m.context=b:m.pendingContext=b,m=Ha(l),m.payload={element:d},C=C===void 0?null:C,C!==null&&(m.callback=C),d=Ga(i,m,l),d!==null&&(Ar(d,i,l),Ol(d,i,l))}function qS(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var d=i.retryLane;i.retryLane=d!==0&&d<l?d:l}}function fg(i,l){qS(i,l),(i=i.alternate)&&qS(i,l)}function KS(i){if(i.tag===13){var l=Ls(i,67108864);l!==null&&Ar(l,i,67108864),fg(i,67108864)}}var Fd=!0;function I3(i,l,d,m){var b=B.T;B.T=null;var C=H.p;try{H.p=2,dg(i,l,d,m)}finally{H.p=C,B.T=b}}function B3(i,l,d,m){var b=B.T;B.T=null;var C=H.p;try{H.p=8,dg(i,l,d,m)}finally{H.p=C,B.T=b}}function dg(i,l,d,m){if(Fd){var b=hg(m);if(b===null)Jv(i,l,m,Ld,d),YS(i,m);else if(L3(b,i,l,d,m))m.stopPropagation();else if(YS(i,m),l&4&&-1<F3.indexOf(i)){for(;b!==null;){var C=Rs(b);if(C!==null)switch(C.tag){case 3:if(C=C.stateNode,C.current.memoizedState.isDehydrated){var P=Pt(C.pendingLanes);if(P!==0){var L=C;for(L.pendingLanes|=2,L.entangledLanes|=2;P;){var K=1<<31-pe(P);L.entanglements[1]|=K,P&=~K}To(C),(ke&6)===0&&(wd=Qt()+500,Yl(0))}}break;case 13:L=Ls(C,2),L!==null&&Ar(L,C,2),Cd(),fg(C,2)}if(C=hg(m),C===null&&Jv(i,l,m,Ld,d),C===b)break;b=C}b!==null&&m.stopPropagation()}else Jv(i,l,m,null,d)}}function hg(i){return i=ym(i),pg(i)}var Ld=null;function pg(i){if(Ld=null,i=Ts(i),i!==null){var l=a(i);if(l===null)i=null;else{var d=l.tag;if(d===13){if(i=s(l),i!==null)return i;i=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null)}}return Ld=i,null}function XS(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(se()){case te:return 2;case oe:return 8;case Zt:case _t:return 32;case Ve:return 268435456;default:return 32}default:return 32}}var mg=!1,oi=null,ai=null,ii=null,oc=new Map,ac=new Map,si=[],F3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function YS(i,l){switch(i){case"focusin":case"focusout":oi=null;break;case"dragenter":case"dragleave":ai=null;break;case"mouseover":case"mouseout":ii=null;break;case"pointerover":case"pointerout":oc.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":ac.delete(l.pointerId)}}function ic(i,l,d,m,b,C){return i===null||i.nativeEvent!==C?(i={blockedOn:l,domEventName:d,eventSystemFlags:m,nativeEvent:C,targetContainers:[b]},l!==null&&(l=Rs(l),l!==null&&KS(l)),i):(i.eventSystemFlags|=m,l=i.targetContainers,b!==null&&l.indexOf(b)===-1&&l.push(b),i)}function L3(i,l,d,m,b){switch(l){case"focusin":return oi=ic(oi,i,l,d,m,b),!0;case"dragenter":return ai=ic(ai,i,l,d,m,b),!0;case"mouseover":return ii=ic(ii,i,l,d,m,b),!0;case"pointerover":var C=b.pointerId;return oc.set(C,ic(oc.get(C)||null,i,l,d,m,b)),!0;case"gotpointercapture":return C=b.pointerId,ac.set(C,ic(ac.get(C)||null,i,l,d,m,b)),!0}return!1}function QS(i){var l=Ts(i.target);if(l!==null){var d=a(l);if(d!==null){if(l=d.tag,l===13){if(l=s(d),l!==null){i.blockedOn=l,MN(i.priority,function(){if(d.tag===13){var m=Rr();m=sm(m);var b=Ls(d,m);b!==null&&Ar(b,d,m),fg(d,m)}});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){i.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}i.blockedOn=null}function zd(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var d=hg(i.nativeEvent);if(d===null){d=i.nativeEvent;var m=new d.constructor(d.type,d);gm=m,d.target.dispatchEvent(m),gm=null}else return l=Rs(d),l!==null&&KS(l),i.blockedOn=d,!1;l.shift()}return!0}function ZS(i,l,d){zd(i)&&d.delete(l)}function z3(){mg=!1,oi!==null&&zd(oi)&&(oi=null),ai!==null&&zd(ai)&&(ai=null),ii!==null&&zd(ii)&&(ii=null),oc.forEach(ZS),ac.forEach(ZS)}function Vd(i,l){i.blockedOn===l&&(i.blockedOn=null,mg||(mg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,z3)))}var Ud=null;function JS(i){Ud!==i&&(Ud=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Ud===i&&(Ud=null);for(var l=0;l<i.length;l+=3){var d=i[l],m=i[l+1],b=i[l+2];if(typeof m!="function"){if(pg(m||d)===null)continue;break}var C=Rs(d);C!==null&&(i.splice(l,3),l-=3,pv(C,{pending:!0,data:b,method:d.method,action:m},m,b))}}))}function sc(i){function l(K){return Vd(K,i)}oi!==null&&Vd(oi,i),ai!==null&&Vd(ai,i),ii!==null&&Vd(ii,i),oc.forEach(l),ac.forEach(l);for(var d=0;d<si.length;d++){var m=si[d];m.blockedOn===i&&(m.blockedOn=null)}for(;0<si.length&&(d=si[0],d.blockedOn===null);)QS(d),d.blockedOn===null&&si.shift();if(d=(i.ownerDocument||i).$$reactFormReplay,d!=null)for(m=0;m<d.length;m+=3){var b=d[m],C=d[m+1],P=b[ir]||null;if(typeof C=="function")P||JS(d);else if(P){var L=null;if(C&&C.hasAttribute("formAction")){if(b=C,P=C[ir]||null)L=P.formAction;else if(pg(b)!==null)continue}else L=P.action;typeof L=="function"?d[m+1]=L:(d.splice(m,3),m-=3),JS(d)}}}function vg(i){this._internalRoot=i}jd.prototype.render=vg.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(r(409));var d=l.current,m=Rr();$S(d,m,i,l,null,null)},jd.prototype.unmount=vg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;$S(i.current,2,null,i,null,null),Cd(),l[Es]=null}};function jd(i){this._internalRoot=i}jd.prototype.unstable_scheduleHydration=function(i){if(i){var l=v1();i={blockedOn:null,target:i,priority:l};for(var d=0;d<si.length&&l!==0&&l<si[d].priority;d++);si.splice(d,0,i),d===0&&QS(i)}};var tC=e.version;if(tC!=="19.1.1")throw Error(r(527,tC,"19.1.1"));H.findDOMNode=function(i){var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=c(l),i=i!==null?f(i):null,i=i===null?null:i.stateNode,i};var V3={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wd.isDisabled&&Wd.supportsFiber)try{we=Wd.inject(V3),Ut=Wd}catch{}}return lc.createRoot=function(i,l){if(!o(i))throw Error(r(299));var d=!1,m="",b=v2,C=g2,P=y2,L=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(C=l.onCaughtError),l.onRecoverableError!==void 0&&(P=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(L=l.unstable_transitionCallbacks)),l=HS(i,1,!1,null,null,d,m,b,C,P,L,null),i[Es]=l.current,Zv(i),new vg(l)},lc.hydrateRoot=function(i,l,d){if(!o(i))throw Error(r(299));var m=!1,b="",C=v2,P=g2,L=y2,K=null,ot=null;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(b=d.identifierPrefix),d.onUncaughtError!==void 0&&(C=d.onUncaughtError),d.onCaughtError!==void 0&&(P=d.onCaughtError),d.onRecoverableError!==void 0&&(L=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(K=d.unstable_transitionCallbacks),d.formState!==void 0&&(ot=d.formState)),l=HS(i,1,!0,l,d??null,m,b,C,P,L,K,ot),l.context=GS(null),d=l.current,m=Rr(),m=sm(m),b=Ha(m),b.callback=null,Ga(d,b,m),d=m,l.current.lanes=d,hl(l,d),To(l),i[Es]=l.current,Zv(i),new jd(l)},lc.version="19.1.1",lc}var cC;function Q3(){if(cC)return bg.exports;cC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),bg.exports=Y3(),bg.exports}var Z3=Q3();/**
 * react-router v7.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var fC="popstate";function J3(t={}){function e(r,o){let{pathname:a,search:s,hash:u}=r.location;return _y("",{pathname:a,search:s,hash:u},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:Vc(o)}return eP(e,n,null,t)}function Je(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function qo(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function tP(){return Math.random().toString(36).substring(2,10)}function dC(t,e){return{usr:t.state,key:t.key,idx:e}}function _y(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Zu(e):e,state:n,key:e&&e.key||r||tP()}}function Vc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Zu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function eP(t,e,n,r={}){let{window:o=document.defaultView,v5Compat:a=!1}=r,s=o.history,u="POP",c=null,f=h();f==null&&(f=0,s.replaceState({...s.state,idx:f},""));function h(){return(s.state||{idx:null}).idx}function p(){u="POP";let w=h(),S=w==null?null:w-f;f=w,c&&c({action:u,location:x.location,delta:S})}function v(w,S){u="PUSH";let A=_y(x.location,w,S);f=h()+1;let E=dC(A,f),T=x.createHref(A);try{s.pushState(E,"",T)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;o.location.assign(T)}a&&c&&c({action:u,location:x.location,delta:1})}function g(w,S){u="REPLACE";let A=_y(x.location,w,S);f=h();let E=dC(A,f),T=x.createHref(A);s.replaceState(E,"",T),a&&c&&c({action:u,location:x.location,delta:0})}function y(w){return nP(w)}let x={get action(){return u},get location(){return t(o,s)},listen(w){if(c)throw new Error("A history only accepts one active listener");return o.addEventListener(fC,p),c=w,()=>{o.removeEventListener(fC,p),c=null}},createHref(w){return e(o,w)},createURL:y,encodeLocation(w){let S=y(w);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:v,replace:g,go(w){return s.go(w)}};return x}function nP(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Je(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Vc(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function XR(t,e,n="/"){return rP(t,e,n,!1)}function rP(t,e,n,r){let o=typeof e=="string"?Zu(e):e,a=Ta(o.pathname||"/",n);if(a==null)return null;let s=YR(t);oP(s);let u=null;for(let c=0;u==null&&c<s.length;++c){let f=mP(a);u=hP(s[c],f,r)}return u}function YR(t,e=[],n=[],r=""){let o=(a,s,u)=>{let c={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};c.relativePath.startsWith("/")&&(Je(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let f=Ea([r,c.relativePath]),h=n.concat(c);a.children&&a.children.length>0&&(Je(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),YR(a.children,e,h,f)),!(a.path==null&&!a.index)&&e.push({path:f,score:fP(f,a.index),routesMeta:h})};return t.forEach((a,s)=>{if(a.path===""||!a.path?.includes("?"))o(a,s);else for(let u of QR(a.path))o(a,s,u)}),e}function QR(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return o?[a,""]:[a];let s=QR(r.join("/")),u=[];return u.push(...s.map(c=>c===""?a:[a,c].join("/"))),o&&u.push(...s),u.map(c=>t.startsWith("/")&&c===""?"/":c)}function oP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:dP(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var aP=/^:[\w-]+$/,iP=3,sP=2,uP=1,lP=10,cP=-2,hC=t=>t==="*";function fP(t,e){let n=t.split("/"),r=n.length;return n.some(hC)&&(r+=cP),e&&(r+=sP),n.filter(o=>!hC(o)).reduce((o,a)=>o+(aP.test(a)?iP:a===""?uP:lP),r)}function dP(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function hP(t,e,n=!1){let{routesMeta:r}=t,o={},a="/",s=[];for(let u=0;u<r.length;++u){let c=r[u],f=u===r.length-1,h=a==="/"?e:e.slice(a.length)||"/",p=_h({path:c.relativePath,caseSensitive:c.caseSensitive,end:f},h),v=c.route;if(!p&&f&&n&&!r[r.length-1].route.index&&(p=_h({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!p)return null;Object.assign(o,p.params),s.push({params:o,pathname:Ea([a,p.pathname]),pathnameBase:bP(Ea([a,p.pathnameBase])),route:v}),p.pathnameBase!=="/"&&(a=Ea([a,p.pathnameBase]))}return s}function _h(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=pP(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let a=o[0],s=a.replace(/(.)\/+$/,"$1"),u=o.slice(1);return{params:r.reduce((f,{paramName:h,isOptional:p},v)=>{if(h==="*"){let y=u[v]||"";s=a.slice(0,a.length-y.length).replace(/(.)\/+$/,"$1")}const g=u[v];return p&&!g?f[h]=void 0:f[h]=(g||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:s,pattern:t}}function pP(t,e=!1,n=!0){qo(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,u,c)=>(r.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function mP(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return qo(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ta(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function vP(t,e="/"){let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?Zu(t):t;return{pathname:n?n.startsWith("/")?n:gP(n,e):e,search:xP(r),hash:wP(o)}}function gP(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Cg(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function yP(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ZR(t){let e=yP(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function JR(t,e,n,r=!1){let o;typeof t=="string"?o=Zu(t):(o={...t},Je(!o.pathname||!o.pathname.includes("?"),Cg("?","pathname","search",o)),Je(!o.pathname||!o.pathname.includes("#"),Cg("#","pathname","hash",o)),Je(!o.search||!o.search.includes("#"),Cg("#","search","hash",o)));let a=t===""||o.pathname==="",s=a?"/":o.pathname,u;if(s==null)u=n;else{let p=e.length-1;if(!r&&s.startsWith("..")){let v=s.split("/");for(;v[0]==="..";)v.shift(),p-=1;o.pathname=v.join("/")}u=p>=0?e[p]:"/"}let c=vP(o,u),f=s&&s!=="/"&&s.endsWith("/"),h=(a||s===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(f||h)&&(c.pathname+="/"),c}var Ea=t=>t.join("/").replace(/\/\/+/g,"/"),bP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),xP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,wP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function SP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var tA=["POST","PUT","PATCH","DELETE"];new Set(tA);var CP=["GET",...tA];new Set(CP);var Ju=O.createContext(null);Ju.displayName="DataRouter";var bp=O.createContext(null);bp.displayName="DataRouterState";O.createContext(!1);var eA=O.createContext({isTransitioning:!1});eA.displayName="ViewTransition";var EP=O.createContext(new Map);EP.displayName="Fetchers";var TP=O.createContext(null);TP.displayName="Await";var Yo=O.createContext(null);Yo.displayName="Navigation";var sf=O.createContext(null);sf.displayName="Location";var Na=O.createContext({outlet:null,matches:[],isDataRoute:!1});Na.displayName="Route";var j0=O.createContext(null);j0.displayName="RouteError";function RP(t,{relative:e}={}){Je(uf(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=O.useContext(Yo),{hash:o,pathname:a,search:s}=cf(t,{relative:e}),u=a;return n!=="/"&&(u=a==="/"?n:Ea([n,a])),r.createHref({pathname:u,search:s,hash:o})}function uf(){return O.useContext(sf)!=null}function ys(){return Je(uf(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(sf).location}var nA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function rA(t){O.useContext(Yo).static||O.useLayoutEffect(t)}function lf(){let{isDataRoute:t}=O.useContext(Na);return t?zP():AP()}function AP(){Je(uf(),"useNavigate() may be used only in the context of a <Router> component.");let t=O.useContext(Ju),{basename:e,navigator:n}=O.useContext(Yo),{matches:r}=O.useContext(Na),{pathname:o}=ys(),a=JSON.stringify(ZR(r)),s=O.useRef(!1);return rA(()=>{s.current=!0}),O.useCallback((c,f={})=>{if(qo(s.current,nA),!s.current)return;if(typeof c=="number"){n.go(c);return}let h=JR(c,JSON.parse(a),o,f.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Ea([e,h.pathname])),(f.replace?n.replace:n.push)(h,f.state,f)},[e,n,a,o,t])}O.createContext(null);function cf(t,{relative:e}={}){let{matches:n}=O.useContext(Na),{pathname:r}=ys(),o=JSON.stringify(ZR(n));return O.useMemo(()=>JR(t,JSON.parse(o),r,e==="path"),[t,o,r,e])}function _P(t,e){return oA(t,e)}function oA(t,e,n,r){Je(uf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=O.useContext(Yo),{matches:a}=O.useContext(Na),s=a[a.length-1],u=s?s.params:{},c=s?s.pathname:"/",f=s?s.pathnameBase:"/",h=s&&s.route;{let S=h&&h.path||"";aA(c,!h||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let p=ys(),v;if(e){let S=typeof e=="string"?Zu(e):e;Je(f==="/"||S.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${S.pathname}" was given in the \`location\` prop.`),v=S}else v=p;let g=v.pathname||"/",y=g;if(f!=="/"){let S=f.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(S.length).join("/")}let x=XR(t,{pathname:y});qo(h||x!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),qo(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=OP(x&&x.map(S=>Object.assign({},S,{params:Object.assign({},u,S.params),pathname:Ea([f,o.encodeLocation?o.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?f:Ea([f,o.encodeLocation?o.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),a,n,r);return e&&w?O.createElement(sf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},w):w}function DP(){let t=LP(),e=SP(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=O.createElement(O.Fragment,null,O.createElement("p",null,"💿 Hey developer 👋"),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:a},"ErrorBoundary")," or"," ",O.createElement("code",{style:a},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:o},n):null,s)}var kP=O.createElement(DP,null),MP=class extends O.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?O.createElement(Na.Provider,{value:this.props.routeContext},O.createElement(j0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function NP({routeContext:t,match:e,children:n}){let r=O.useContext(Ju);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(Na.Provider,{value:t},n)}function OP(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=n?.errors;if(a!=null){let c=o.findIndex(f=>f.route.id&&a?.[f.route.id]!==void 0);Je(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,c+1))}let s=!1,u=-1;if(n)for(let c=0;c<o.length;c++){let f=o[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:h,errors:p}=n,v=f.route.loader&&!h.hasOwnProperty(f.route.id)&&(!p||p[f.route.id]===void 0);if(f.route.lazy||v){s=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,f,h)=>{let p,v=!1,g=null,y=null;n&&(p=a&&f.route.id?a[f.route.id]:void 0,g=f.route.errorElement||kP,s&&(u<0&&h===0?(aA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,y=null):u===h&&(v=!0,y=f.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,h+1)),w=()=>{let S;return p?S=g:v?S=y:f.route.Component?S=O.createElement(f.route.Component,null):f.route.element?S=f.route.element:S=c,O.createElement(NP,{match:f,routeContext:{outlet:c,matches:x,isDataRoute:n!=null},children:S})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?O.createElement(MP,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):w()},null)}function W0(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function PP(t){let e=O.useContext(Ju);return Je(e,W0(t)),e}function IP(t){let e=O.useContext(bp);return Je(e,W0(t)),e}function BP(t){let e=O.useContext(Na);return Je(e,W0(t)),e}function H0(t){let e=BP(t),n=e.matches[e.matches.length-1];return Je(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function FP(){return H0("useRouteId")}function LP(){let t=O.useContext(j0),e=IP("useRouteError"),n=H0("useRouteError");return t!==void 0?t:e.errors?.[n]}function zP(){let{router:t}=PP("useNavigate"),e=H0("useNavigate"),n=O.useRef(!1);return rA(()=>{n.current=!0}),O.useCallback(async(o,a={})=>{qo(n.current,nA),n.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...a}))},[t,e])}var pC={};function aA(t,e,n){!e&&!pC[t]&&(pC[t]=!0,qo(!1,n))}O.memo(VP);function VP({routes:t,future:e,state:n}){return oA(t,void 0,n,e)}function Sc(t){Je(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function UP({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:o,static:a=!1}){Je(!uf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),u=O.useMemo(()=>({basename:s,navigator:o,static:a,future:{}}),[s,o,a]);typeof n=="string"&&(n=Zu(n));let{pathname:c="/",search:f="",hash:h="",state:p=null,key:v="default"}=n,g=O.useMemo(()=>{let y=Ta(c,s);return y==null?null:{location:{pathname:y,search:f,hash:h,state:p,key:v},navigationType:r}},[s,c,f,h,p,v,r]);return qo(g!=null,`<Router basename="${s}"> is not able to match the URL "${c}${f}${h}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:O.createElement(Yo.Provider,{value:u},O.createElement(sf.Provider,{children:e,value:g}))}function jP({children:t,location:e}){return _P(Dy(t),e)}function Dy(t,e=[]){let n=[];return O.Children.forEach(t,(r,o)=>{if(!O.isValidElement(r))return;let a=[...e,o];if(r.type===O.Fragment){n.push.apply(n,Dy(r.props.children,a));return}Je(r.type===Sc,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Je(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Dy(r.props.children,a)),n.push(s)}),n}var vh="get",gh="application/x-www-form-urlencoded";function xp(t){return t!=null&&typeof t.tagName=="string"}function WP(t){return xp(t)&&t.tagName.toLowerCase()==="button"}function HP(t){return xp(t)&&t.tagName.toLowerCase()==="form"}function GP(t){return xp(t)&&t.tagName.toLowerCase()==="input"}function $P(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function qP(t,e){return t.button===0&&(!e||e==="_self")&&!$P(t)}var Hd=null;function KP(){if(Hd===null)try{new FormData(document.createElement("form"),0),Hd=!1}catch{Hd=!0}return Hd}var XP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Eg(t){return t!=null&&!XP.has(t)?(qo(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${gh}"`),null):t}function YP(t,e){let n,r,o,a,s;if(HP(t)){let u=t.getAttribute("action");r=u?Ta(u,e):null,n=t.getAttribute("method")||vh,o=Eg(t.getAttribute("enctype"))||gh,a=new FormData(t)}else if(WP(t)||GP(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||u.getAttribute("action");if(r=c?Ta(c,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||vh,o=Eg(t.getAttribute("formenctype"))||Eg(u.getAttribute("enctype"))||gh,a=new FormData(u,t),!KP()){let{name:f,type:h,value:p}=t;if(h==="image"){let v=f?`${f}.`:"";a.append(`${v}x`,"0"),a.append(`${v}y`,"0")}else f&&a.append(f,p)}}else{if(xp(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=vh,r=null,o=gh,s=t}return a&&o==="text/plain"&&(s=a,a=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function G0(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function QP(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Ta(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function ZP(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function JP(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function t4(t,e,n){let r=await Promise.all(t.map(async o=>{let a=e.routes[o.route.id];if(a){let s=await ZP(a,n);return s.links?s.links():[]}return[]}));return o4(r.flat(1).filter(JP).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function mC(t,e,n,r,o,a){let s=(c,f)=>n[f]?c.route.id!==n[f].route.id:!0,u=(c,f)=>n[f].pathname!==c.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==c.params["*"];return a==="assets"?e.filter((c,f)=>s(c,f)||u(c,f)):a==="data"?e.filter((c,f)=>{let h=r.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(s(c,f)||u(c,f))return!0;if(c.route.shouldRevalidate){let p=c.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function e4(t,e,{includeHydrateFallback:n}={}){return n4(t.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let a=[o.module];return o.clientActionModule&&(a=a.concat(o.clientActionModule)),o.clientLoaderModule&&(a=a.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(a=a.concat(o.hydrateFallbackModule)),o.imports&&(a=a.concat(o.imports)),a}).flat(1))}function n4(t){return[...new Set(t)]}function r4(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function o4(t,e){let n=new Set;return new Set(e),t.reduce((r,o)=>{let a=JSON.stringify(r4(o));return n.has(a)||(n.add(a),r.push({key:a,link:o})),r},[])}function iA(){let t=O.useContext(Ju);return G0(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function a4(){let t=O.useContext(bp);return G0(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var $0=O.createContext(void 0);$0.displayName="FrameworkContext";function sA(){let t=O.useContext($0);return G0(t,"You must render this element inside a <HydratedRouter> element"),t}function i4(t,e){let n=O.useContext($0),[r,o]=O.useState(!1),[a,s]=O.useState(!1),{onFocus:u,onBlur:c,onMouseEnter:f,onMouseLeave:h,onTouchStart:p}=e,v=O.useRef(null);O.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let x=S=>{S.forEach(A=>{s(A.isIntersecting)})},w=new IntersectionObserver(x,{threshold:.5});return v.current&&w.observe(v.current),()=>{w.disconnect()}}},[t]),O.useEffect(()=>{if(r){let x=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(x)}}},[r]);let g=()=>{o(!0)},y=()=>{o(!1),s(!1)};return n?t!=="intent"?[a,v,{}]:[a,v,{onFocus:cc(u,g),onBlur:cc(c,y),onMouseEnter:cc(f,g),onMouseLeave:cc(h,y),onTouchStart:cc(p,g)}]:[!1,v,{}]}function cc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function s4({page:t,...e}){let{router:n}=iA(),r=O.useMemo(()=>XR(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?O.createElement(l4,{page:t,matches:r,...e}):null}function u4(t){let{manifest:e,routeModules:n}=sA(),[r,o]=O.useState([]);return O.useEffect(()=>{let a=!1;return t4(t,e,n).then(s=>{a||o(s)}),()=>{a=!0}},[t,e,n]),r}function l4({page:t,matches:e,...n}){let r=ys(),{manifest:o,routeModules:a}=sA(),{basename:s}=iA(),{loaderData:u,matches:c}=a4(),f=O.useMemo(()=>mC(t,e,c,o,r,"data"),[t,e,c,o,r]),h=O.useMemo(()=>mC(t,e,c,o,r,"assets"),[t,e,c,o,r]),p=O.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let y=new Set,x=!1;if(e.forEach(S=>{let A=o.routes[S.route.id];!A||!A.hasLoader||(!f.some(E=>E.route.id===S.route.id)&&S.route.id in u&&a[S.route.id]?.shouldRevalidate||A.hasClientLoader?x=!0:y.add(S.route.id))}),y.size===0)return[];let w=QP(t,s,"data");return x&&y.size>0&&w.searchParams.set("_routes",e.filter(S=>y.has(S.route.id)).map(S=>S.route.id).join(",")),[w.pathname+w.search]},[s,u,r,o,f,e,t,a]),v=O.useMemo(()=>e4(h,o),[h,o]),g=u4(h);return O.createElement(O.Fragment,null,p.map(y=>O.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...n})),v.map(y=>O.createElement("link",{key:y,rel:"modulepreload",href:y,...n})),g.map(({key:y,link:x})=>O.createElement("link",{key:y,nonce:n.nonce,...x})))}function c4(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var uA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{uA&&(window.__reactRouterVersion="7.8.0")}catch{}function f4({basename:t,children:e,window:n}){let r=O.useRef();r.current==null&&(r.current=J3({window:n,v5Compat:!0}));let o=r.current,[a,s]=O.useState({action:o.action,location:o.location}),u=O.useCallback(c=>{O.startTransition(()=>s(c))},[s]);return O.useLayoutEffect(()=>o.listen(u),[o,u]),O.createElement(UP,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:o})}var lA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Dh=O.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:o,reloadDocument:a,replace:s,state:u,target:c,to:f,preventScrollReset:h,viewTransition:p,...v},g){let{basename:y}=O.useContext(Yo),x=typeof f=="string"&&lA.test(f),w,S=!1;if(typeof f=="string"&&x&&(w=f,uA))try{let N=new URL(window.location.href),I=f.startsWith("//")?new URL(N.protocol+f):new URL(f),z=Ta(I.pathname,y);I.origin===N.origin&&z!=null?f=z+I.search+I.hash:S=!0}catch{qo(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=RP(f,{relative:o}),[E,T,R]=i4(r,v),_=m4(f,{replace:s,state:u,target:c,preventScrollReset:h,relative:o,viewTransition:p});function M(N){e&&e(N),N.defaultPrevented||_(N)}let k=O.createElement("a",{...v,...R,href:w||A,onClick:S||a?e:M,ref:c4(g,T),target:c,"data-discover":!x&&n==="render"?"true":void 0});return E&&!x?O.createElement(O.Fragment,null,k,O.createElement(s4,{page:A})):k});Dh.displayName="Link";var d4=O.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:o=!1,style:a,to:s,viewTransition:u,children:c,...f},h){let p=cf(s,{relative:f.relative}),v=ys(),g=O.useContext(bp),{navigator:y,basename:x}=O.useContext(Yo),w=g!=null&&x4(p)&&u===!0,S=y.encodeLocation?y.encodeLocation(p).pathname:p.pathname,A=v.pathname,E=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;n||(A=A.toLowerCase(),E=E?E.toLowerCase():null,S=S.toLowerCase()),E&&x&&(E=Ta(E,x)||E);const T=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let R=A===S||!o&&A.startsWith(S)&&A.charAt(T)==="/",_=E!=null&&(E===S||!o&&E.startsWith(S)&&E.charAt(S.length)==="/"),M={isActive:R,isPending:_,isTransitioning:w},k=R?e:void 0,N;typeof r=="function"?N=r(M):N=[r,R?"active":null,_?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let I=typeof a=="function"?a(M):a;return O.createElement(Dh,{...f,"aria-current":k,className:N,ref:h,style:I,to:s,viewTransition:u},typeof c=="function"?c(M):c)});d4.displayName="NavLink";var h4=O.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:o,state:a,method:s=vh,action:u,onSubmit:c,relative:f,preventScrollReset:h,viewTransition:p,...v},g)=>{let y=y4(),x=b4(u,{relative:f}),w=s.toLowerCase()==="get"?"get":"post",S=typeof u=="string"&&lA.test(u),A=E=>{if(c&&c(E),E.defaultPrevented)return;E.preventDefault();let T=E.nativeEvent.submitter,R=T?.getAttribute("formmethod")||s;y(T||E.currentTarget,{fetcherKey:e,method:R,navigate:n,replace:o,state:a,relative:f,preventScrollReset:h,viewTransition:p})};return O.createElement("form",{ref:g,method:w,action:x,onSubmit:r?c:A,...v,"data-discover":!S&&t==="render"?"true":void 0})});h4.displayName="Form";function p4(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cA(t){let e=O.useContext(Ju);return Je(e,p4(t)),e}function m4(t,{target:e,replace:n,state:r,preventScrollReset:o,relative:a,viewTransition:s}={}){let u=lf(),c=ys(),f=cf(t,{relative:a});return O.useCallback(h=>{if(qP(h,e)){h.preventDefault();let p=n!==void 0?n:Vc(c)===Vc(f);u(t,{replace:p,state:r,preventScrollReset:o,relative:a,viewTransition:s})}},[c,u,f,n,r,e,t,o,a,s])}var v4=0,g4=()=>`__${String(++v4)}__`;function y4(){let{router:t}=cA("useSubmit"),{basename:e}=O.useContext(Yo),n=FP();return O.useCallback(async(r,o={})=>{let{action:a,method:s,encType:u,formData:c,body:f}=YP(r,e);if(o.navigate===!1){let h=o.fetcherKey||g4();await t.fetch(h,n,o.action||a,{preventScrollReset:o.preventScrollReset,formData:c,body:f,formMethod:o.method||s,formEncType:o.encType||u,flushSync:o.flushSync})}else await t.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:c,body:f,formMethod:o.method||s,formEncType:o.encType||u,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,n])}function b4(t,{relative:e}={}){let{basename:n}=O.useContext(Yo),r=O.useContext(Na);Je(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),a={...cf(t||".",{relative:e})},s=ys();if(t==null){a.search=s.search;let u=new URLSearchParams(a.search),c=u.getAll("index");if(c.some(h=>h==="")){u.delete("index"),c.filter(p=>p).forEach(p=>u.append("index",p));let h=u.toString();a.search=h?`?${h}`:""}}return(!t||t===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Ea([n,a.pathname])),Vc(a)}function x4(t,{relative:e}={}){let n=O.useContext(eA);Je(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=cA("useViewTransitionState"),o=cf(t,{relative:e});if(!n.isTransitioning)return!1;let a=Ta(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Ta(n.nextLocation.pathname,r)||n.nextLocation.pathname;return _h(o.pathname,s)!=null||_h(o.pathname,a)!=null}var fA=KR();const Gd=qR(fA);function dA(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(n=dA(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ht(){for(var t,e,n=0,r="",o=arguments.length;n<o;n++)(t=arguments[n])&&(e=dA(t))&&(r&&(r+=" "),r+=e);return r}function kh(t,e,n=!1){const r={...e};for(const o in t)if(Object.prototype.hasOwnProperty.call(t,o)){const a=o;if(a==="components"||a==="slots")r[a]={...t[a],...r[a]};else if(a==="componentsProps"||a==="slotProps"){const s=t[a],u=e[a];if(!u)r[a]=s||{};else if(!s)r[a]=u;else{r[a]={...u};for(const c in s)if(Object.prototype.hasOwnProperty.call(s,c)){const f=c;r[a][f]=kh(s[f],u[f],n)}}}else a==="className"&&n&&e.className?r.className=Ht(t?.className,e?.className):a==="style"&&n&&e.style?r.style={...t?.style,...e?.style}:r[a]===void 0&&(r[a]=t[a])}return r}function de(t,e,n=void 0){const r={};for(const o in t){const a=t[o];let s="",u=!0;for(let c=0;c<a.length;c+=1){const f=a[c];f&&(s+=(u===!0?"":" ")+e(f),u=!1,n&&n[f]&&(s+=" "+n[f]))}r[o]=s}return r}const vC=t=>t,w4=()=>{let t=vC;return{configure(e){t=e},generate(e){return t(e)},reset(){t=vC}}},hA=w4();function Ra(t,...e){const n=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${t}; visit ${n} for the full message.`}function Lt(t){if(typeof t!="string")throw new Error(Ra(7));return t.charAt(0).toUpperCase()+t.slice(1)}function gC(...t){return t.reduce((e,n)=>n==null?e:function(...o){e.apply(this,o),n.apply(this,o)},()=>{})}var Tg={exports:{}},Fe={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yC;function S4(){if(yC)return Fe;yC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),g=Symbol.for("react.client.reference");function y(x){if(typeof x=="object"&&x!==null){var w=x.$$typeof;switch(w){case t:switch(x=x.type,x){case n:case o:case r:case c:case f:case v:return x;default:switch(x=x&&x.$$typeof,x){case s:case u:case p:case h:return x;case a:return x;default:return w}}case e:return w}}}return Fe.ContextConsumer=a,Fe.ContextProvider=s,Fe.Element=t,Fe.ForwardRef=u,Fe.Fragment=n,Fe.Lazy=p,Fe.Memo=h,Fe.Portal=e,Fe.Profiler=o,Fe.StrictMode=r,Fe.Suspense=c,Fe.SuspenseList=f,Fe.isContextConsumer=function(x){return y(x)===a},Fe.isContextProvider=function(x){return y(x)===s},Fe.isElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===t},Fe.isForwardRef=function(x){return y(x)===u},Fe.isFragment=function(x){return y(x)===n},Fe.isLazy=function(x){return y(x)===p},Fe.isMemo=function(x){return y(x)===h},Fe.isPortal=function(x){return y(x)===e},Fe.isProfiler=function(x){return y(x)===o},Fe.isStrictMode=function(x){return y(x)===r},Fe.isSuspense=function(x){return y(x)===c},Fe.isSuspenseList=function(x){return y(x)===f},Fe.isValidElementType=function(x){return typeof x=="string"||typeof x=="function"||x===n||x===o||x===r||x===c||x===f||typeof x=="object"&&x!==null&&(x.$$typeof===p||x.$$typeof===h||x.$$typeof===s||x.$$typeof===a||x.$$typeof===u||x.$$typeof===g||x.getModuleId!==void 0)},Fe.typeOf=y,Fe}var bC;function C4(){return bC||(bC=1,Tg.exports=S4()),Tg.exports}var pA=C4();function Oo(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function mA(t){if(O.isValidElement(t)||pA.isValidElementType(t)||!Oo(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=mA(t[n])}),e}function tr(t,e,n={clone:!0}){const r=n.clone?{...t}:t;return Oo(t)&&Oo(e)&&Object.keys(e).forEach(o=>{O.isValidElement(e[o])||pA.isValidElementType(e[o])?r[o]=e[o]:Oo(e[o])&&Object.prototype.hasOwnProperty.call(t,o)&&Oo(t[o])?r[o]=tr(t[o],e[o],n):n.clone?r[o]=Oo(e[o])?mA(e[o]):e[o]:r[o]=e[o]}),r}function Ac(t,e){return e?tr(t,e,{clone:!1}):t}function xC(t,e){if(!t.containerQueries)return e;const n=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,o)=>{const a=/min-width:\s*([0-9.]+)/;return+(r.match(a)?.[1]||0)-+(o.match(a)?.[1]||0)});return n.length?n.reduce((r,o)=>{const a=e[o];return delete r[o],r[o]=a,r},{...e}):e}function E4(t,e){return e==="@"||e.startsWith("@")&&(t.some(n=>e.startsWith(`@${n}`))||!!e.match(/^@\d/))}function T4(t,e){const n=e.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,o]=n,a=Number.isNaN(+r)?r||0:+r;return t.containerQueries(o).up(a)}function R4(t){const e=(a,s)=>a.replace("@media",s?`@container ${s}`:"@container");function n(a,s){a.up=(...u)=>e(t.breakpoints.up(...u),s),a.down=(...u)=>e(t.breakpoints.down(...u),s),a.between=(...u)=>e(t.breakpoints.between(...u),s),a.only=(...u)=>e(t.breakpoints.only(...u),s),a.not=(...u)=>{const c=e(t.breakpoints.not(...u),s);return c.includes("not all and")?c.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):c}}const r={},o=a=>(n(r,a),r);return n(o),{...t,containerQueries:o}}const wp={xs:0,sm:600,md:900,lg:1200,xl:1536},wC={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${wp[t]}px)`},A4={containerQueries:t=>({up:e=>{let n=typeof e=="number"?e:wp[e]||e;return typeof n=="number"&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function Aa(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const a=r.breakpoints||wC;return e.reduce((s,u,c)=>(s[a.up(a.keys[c])]=n(e[c]),s),{})}if(typeof e=="object"){const a=r.breakpoints||wC;return Object.keys(e).reduce((s,u)=>{if(E4(a.keys,u)){const c=T4(r.containerQueries?r:A4,u);c&&(s[c]=n(e[u],u))}else if(Object.keys(a.values||wp).includes(u)){const c=a.up(u);s[c]=n(e[u],u)}else{const c=u;s[c]=e[c]}return s},{})}return n(e)}function _4(t={}){return t.keys?.reduce((n,r)=>{const o=t.up(r);return n[o]={},n},{})||{}}function SC(t,e){return t.reduce((n,r)=>{const o=n[r];return(!o||Object.keys(o).length===0)&&delete n[r],n},e)}function Sp(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((o,a)=>o&&o[a]?o[a]:null,t);if(r!=null)return r}return e.split(".").reduce((r,o)=>r&&r[o]!=null?r[o]:null,t)}function Mh(t,e,n,r=n){let o;return typeof t=="function"?o=t(n):Array.isArray(t)?o=t[n]||r:o=Sp(t,n)||r,e&&(o=e(o,r,t)),o}function dn(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:o}=t,a=s=>{if(s[e]==null)return null;const u=s[e],c=s.theme,f=Sp(c,r)||{};return Aa(s,u,p=>{let v=Mh(f,o,p);return p===v&&typeof p=="string"&&(v=Mh(f,o,`${e}${p==="default"?"":Lt(p)}`,p)),n===!1?v:{[n]:v}})};return a.propTypes={},a.filterProps=[e],a}function D4(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const k4={m:"margin",p:"padding"},M4={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},CC={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},N4=D4(t=>{if(t.length>2)if(CC[t])t=CC[t];else return[t];const[e,n]=t.split(""),r=k4[e],o=M4[n]||"";return Array.isArray(o)?o.map(a=>r+a):[r+o]}),q0=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],K0=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...q0,...K0];function ff(t,e,n,r){const o=Sp(t,e,!0)??n;return typeof o=="number"||typeof o=="string"?a=>typeof a=="string"?a:typeof o=="string"?o.startsWith("var(")&&a===0?0:o.startsWith("var(")&&a===1?o:`calc(${a} * ${o})`:o*a:Array.isArray(o)?a=>{if(typeof a=="string")return a;const s=Math.abs(a),u=o[s];return a>=0?u:typeof u=="number"?-u:typeof u=="string"&&u.startsWith("var(")?`calc(-1 * ${u})`:`-${u}`}:typeof o=="function"?o:()=>{}}function X0(t){return ff(t,"spacing",8)}function df(t,e){return typeof e=="string"||e==null?e:t(e)}function O4(t,e){return n=>t.reduce((r,o)=>(r[o]=df(e,n),r),{})}function P4(t,e,n,r){if(!e.includes(n))return null;const o=N4(n),a=O4(o,r),s=t[n];return Aa(t,s,a)}function vA(t,e){const n=X0(t.theme);return Object.keys(t).map(r=>P4(t,e,r,n)).reduce(Ac,{})}function on(t){return vA(t,q0)}on.propTypes={};on.filterProps=q0;function an(t){return vA(t,K0)}an.propTypes={};an.filterProps=K0;function Cp(...t){const e=t.reduce((r,o)=>(o.filterProps.forEach(a=>{r[a]=o}),r),{}),n=r=>Object.keys(r).reduce((o,a)=>e[a]?Ac(o,e[a](r)):o,{});return n.propTypes={},n.filterProps=t.reduce((r,o)=>r.concat(o.filterProps),[]),n}function Xr(t){return typeof t!="number"?t:`${t}px solid`}function ao(t,e){return dn({prop:t,themeKey:"borders",transform:e})}const I4=ao("border",Xr),B4=ao("borderTop",Xr),F4=ao("borderRight",Xr),L4=ao("borderBottom",Xr),z4=ao("borderLeft",Xr),V4=ao("borderColor"),U4=ao("borderTopColor"),j4=ao("borderRightColor"),W4=ao("borderBottomColor"),H4=ao("borderLeftColor"),G4=ao("outline",Xr),$4=ao("outlineColor"),Ep=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=ff(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:df(e,r)});return Aa(t,t.borderRadius,n)}return null};Ep.propTypes={};Ep.filterProps=["borderRadius"];Cp(I4,B4,F4,L4,z4,V4,U4,j4,W4,H4,Ep,G4,$4);const Tp=t=>{if(t.gap!==void 0&&t.gap!==null){const e=ff(t.theme,"spacing",8),n=r=>({gap:df(e,r)});return Aa(t,t.gap,n)}return null};Tp.propTypes={};Tp.filterProps=["gap"];const Rp=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=ff(t.theme,"spacing",8),n=r=>({columnGap:df(e,r)});return Aa(t,t.columnGap,n)}return null};Rp.propTypes={};Rp.filterProps=["columnGap"];const Ap=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=ff(t.theme,"spacing",8),n=r=>({rowGap:df(e,r)});return Aa(t,t.rowGap,n)}return null};Ap.propTypes={};Ap.filterProps=["rowGap"];const q4=dn({prop:"gridColumn"}),K4=dn({prop:"gridRow"}),X4=dn({prop:"gridAutoFlow"}),Y4=dn({prop:"gridAutoColumns"}),Q4=dn({prop:"gridAutoRows"}),Z4=dn({prop:"gridTemplateColumns"}),J4=dn({prop:"gridTemplateRows"}),tI=dn({prop:"gridTemplateAreas"}),eI=dn({prop:"gridArea"});Cp(Tp,Rp,Ap,q4,K4,X4,Y4,Q4,Z4,J4,tI,eI);function Du(t,e){return e==="grey"?e:t}const nI=dn({prop:"color",themeKey:"palette",transform:Du}),rI=dn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Du}),oI=dn({prop:"backgroundColor",themeKey:"palette",transform:Du});Cp(nI,rI,oI);function kr(t){return t<=1&&t!==0?`${t*100}%`:t}const aI=dn({prop:"width",transform:kr}),Y0=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{const r=t.theme?.breakpoints?.values?.[n]||wp[n];return r?t.theme?.breakpoints?.unit!=="px"?{maxWidth:`${r}${t.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:kr(n)}};return Aa(t,t.maxWidth,e)}return null};Y0.filterProps=["maxWidth"];const iI=dn({prop:"minWidth",transform:kr}),sI=dn({prop:"height",transform:kr}),uI=dn({prop:"maxHeight",transform:kr}),lI=dn({prop:"minHeight",transform:kr});dn({prop:"size",cssProperty:"width",transform:kr});dn({prop:"size",cssProperty:"height",transform:kr});const cI=dn({prop:"boxSizing"});Cp(aI,Y0,iI,sI,uI,lI,cI);const hf={border:{themeKey:"borders",transform:Xr},borderTop:{themeKey:"borders",transform:Xr},borderRight:{themeKey:"borders",transform:Xr},borderBottom:{themeKey:"borders",transform:Xr},borderLeft:{themeKey:"borders",transform:Xr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Xr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Ep},color:{themeKey:"palette",transform:Du},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Du},backgroundColor:{themeKey:"palette",transform:Du},p:{style:an},pt:{style:an},pr:{style:an},pb:{style:an},pl:{style:an},px:{style:an},py:{style:an},padding:{style:an},paddingTop:{style:an},paddingRight:{style:an},paddingBottom:{style:an},paddingLeft:{style:an},paddingX:{style:an},paddingY:{style:an},paddingInline:{style:an},paddingInlineStart:{style:an},paddingInlineEnd:{style:an},paddingBlock:{style:an},paddingBlockStart:{style:an},paddingBlockEnd:{style:an},m:{style:on},mt:{style:on},mr:{style:on},mb:{style:on},ml:{style:on},mx:{style:on},my:{style:on},margin:{style:on},marginTop:{style:on},marginRight:{style:on},marginBottom:{style:on},marginLeft:{style:on},marginX:{style:on},marginY:{style:on},marginInline:{style:on},marginInlineStart:{style:on},marginInlineEnd:{style:on},marginBlock:{style:on},marginBlockStart:{style:on},marginBlockEnd:{style:on},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Tp},rowGap:{style:Ap},columnGap:{style:Rp},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:kr},maxWidth:{style:Y0},minWidth:{transform:kr},height:{transform:kr},maxHeight:{transform:kr},minHeight:{transform:kr},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function fI(...t){const e=t.reduce((r,o)=>r.concat(Object.keys(o)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function dI(t,e){return typeof t=="function"?t(e):t}function hI(){function t(n,r,o,a){const s={[n]:r,theme:o},u=a[n];if(!u)return{[n]:r};const{cssProperty:c=n,themeKey:f,transform:h,style:p}=u;if(r==null)return null;if(f==="typography"&&r==="inherit")return{[n]:r};const v=Sp(o,f)||{};return p?p(s):Aa(s,r,y=>{let x=Mh(v,h,y);return y===x&&typeof y=="string"&&(x=Mh(v,h,`${n}${y==="default"?"":Lt(y)}`,y)),c===!1?x:{[c]:x}})}function e(n){const{sx:r,theme:o={},nested:a}=n||{};if(!r)return null;const s=o.unstable_sxConfig??hf;function u(c){let f=c;if(typeof c=="function")f=c(o);else if(typeof c!="object")return c;if(!f)return null;const h=_4(o.breakpoints),p=Object.keys(h);let v=h;return Object.keys(f).forEach(g=>{const y=dI(f[g],o);if(y!=null)if(typeof y=="object")if(s[g])v=Ac(v,t(g,y,o,s));else{const x=Aa({theme:o},y,w=>({[g]:w}));fI(x,y)?v[g]=e({sx:y,theme:o,nested:!0}):v=Ac(v,x)}else v=Ac(v,t(g,y,o,s))}),!a&&o.modularCssLayers?{"@layer sx":xC(o,SC(p,v))}:xC(o,SC(p,v))}return Array.isArray(r)?r.map(u):u(r)}return e}const bi=hI();bi.filterProps=["sx"];const pI=t=>{const e={systemProps:{},otherProps:{}},n=t?.theme?.unstable_sxConfig??hf;return Object.keys(t).forEach(r=>{n[r]?e.systemProps[r]=t[r]:e.otherProps[r]=t[r]}),e};function gA(t){const{sx:e,...n}=t,{systemProps:r,otherProps:o}=pI(n);let a;return Array.isArray(e)?a=[r,...e]:typeof e=="function"?a=(...s)=>{const u=e(...s);return Oo(u)?{...r,...u}:r}:a={...r,...e},{...o,sx:a}}function Nh(){return Nh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nh.apply(null,arguments)}function mI(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function vI(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var gI=function(){function t(n){var r=this;this._insertTag=function(o){var a;r.tags.length===0?r.insertionPoint?a=r.insertionPoint.nextSibling:r.prepend?a=r.container.firstChild:a=r.before:a=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(o,a),r.tags.push(o)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(vI(this));var o=this.tags[this.tags.length-1];if(this.isSpeedy){var a=mI(o);try{a.insertRule(r,a.cssRules.length)}catch{}}else o.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var o;return(o=r.parentNode)==null?void 0:o.removeChild(r)}),this.tags=[],this.ctr=0},t}(),$n="-ms-",Oh="-moz-",Ce="-webkit-",yA="comm",Q0="rule",Z0="decl",yI="@import",bA="@keyframes",bI="@layer",xI=Math.abs,_p=String.fromCharCode,wI=Object.assign;function SI(t,e){return Vn(t,0)^45?(((e<<2^Vn(t,0))<<2^Vn(t,1))<<2^Vn(t,2))<<2^Vn(t,3):0}function xA(t){return t.trim()}function CI(t,e){return(t=e.exec(t))?t[0]:t}function Ee(t,e,n){return t.replace(e,n)}function ky(t,e){return t.indexOf(e)}function Vn(t,e){return t.charCodeAt(e)|0}function Uc(t,e,n){return t.slice(e,n)}function ko(t){return t.length}function J0(t){return t.length}function $d(t,e){return e.push(t),t}function EI(t,e){return t.map(e).join("")}var Dp=1,Vu=1,wA=0,gr=0,vn=0,tl="";function kp(t,e,n,r,o,a,s){return{value:t,root:e,parent:n,type:r,props:o,children:a,line:Dp,column:Vu,length:s,return:""}}function fc(t,e){return wI(kp("",null,null,"",null,null,0),t,{length:-t.length},e)}function TI(){return vn}function RI(){return vn=gr>0?Vn(tl,--gr):0,Vu--,vn===10&&(Vu=1,Dp--),vn}function Pr(){return vn=gr<wA?Vn(tl,gr++):0,Vu++,vn===10&&(Vu=1,Dp++),vn}function Fo(){return Vn(tl,gr)}function yh(){return gr}function pf(t,e){return Uc(tl,t,e)}function jc(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function SA(t){return Dp=Vu=1,wA=ko(tl=t),gr=0,[]}function CA(t){return tl="",t}function bh(t){return xA(pf(gr-1,My(t===91?t+2:t===40?t+1:t)))}function AI(t){for(;(vn=Fo())&&vn<33;)Pr();return jc(t)>2||jc(vn)>3?"":" "}function _I(t,e){for(;--e&&Pr()&&!(vn<48||vn>102||vn>57&&vn<65||vn>70&&vn<97););return pf(t,yh()+(e<6&&Fo()==32&&Pr()==32))}function My(t){for(;Pr();)switch(vn){case t:return gr;case 34:case 39:t!==34&&t!==39&&My(vn);break;case 40:t===41&&My(t);break;case 92:Pr();break}return gr}function DI(t,e){for(;Pr()&&t+vn!==57;)if(t+vn===84&&Fo()===47)break;return"/*"+pf(e,gr-1)+"*"+_p(t===47?t:Pr())}function kI(t){for(;!jc(Fo());)Pr();return pf(t,gr)}function MI(t){return CA(xh("",null,null,null,[""],t=SA(t),0,[0],t))}function xh(t,e,n,r,o,a,s,u,c){for(var f=0,h=0,p=s,v=0,g=0,y=0,x=1,w=1,S=1,A=0,E="",T=o,R=a,_=r,M=E;w;)switch(y=A,A=Pr()){case 40:if(y!=108&&Vn(M,p-1)==58){ky(M+=Ee(bh(A),"&","&\f"),"&\f")!=-1&&(S=-1);break}case 34:case 39:case 91:M+=bh(A);break;case 9:case 10:case 13:case 32:M+=AI(y);break;case 92:M+=_I(yh()-1,7);continue;case 47:switch(Fo()){case 42:case 47:$d(NI(DI(Pr(),yh()),e,n),c);break;default:M+="/"}break;case 123*x:u[f++]=ko(M)*S;case 125*x:case 59:case 0:switch(A){case 0:case 125:w=0;case 59+h:S==-1&&(M=Ee(M,/\f/g,"")),g>0&&ko(M)-p&&$d(g>32?TC(M+";",r,n,p-1):TC(Ee(M," ","")+";",r,n,p-2),c);break;case 59:M+=";";default:if($d(_=EC(M,e,n,f,h,o,u,E,T=[],R=[],p),a),A===123)if(h===0)xh(M,e,_,_,T,a,p,u,R);else switch(v===99&&Vn(M,3)===110?100:v){case 100:case 108:case 109:case 115:xh(t,_,_,r&&$d(EC(t,_,_,0,0,o,u,E,o,T=[],p),R),o,R,p,u,r?T:R);break;default:xh(M,_,_,_,[""],R,0,u,R)}}f=h=g=0,x=S=1,E=M="",p=s;break;case 58:p=1+ko(M),g=y;default:if(x<1){if(A==123)--x;else if(A==125&&x++==0&&RI()==125)continue}switch(M+=_p(A),A*x){case 38:S=h>0?1:(M+="\f",-1);break;case 44:u[f++]=(ko(M)-1)*S,S=1;break;case 64:Fo()===45&&(M+=bh(Pr())),v=Fo(),h=p=ko(E=M+=kI(yh())),A++;break;case 45:y===45&&ko(M)==2&&(x=0)}}return a}function EC(t,e,n,r,o,a,s,u,c,f,h){for(var p=o-1,v=o===0?a:[""],g=J0(v),y=0,x=0,w=0;y<r;++y)for(var S=0,A=Uc(t,p+1,p=xI(x=s[y])),E=t;S<g;++S)(E=xA(x>0?v[S]+" "+A:Ee(A,/&\f/g,v[S])))&&(c[w++]=E);return kp(t,e,n,o===0?Q0:u,c,f,h)}function NI(t,e,n){return kp(t,e,n,yA,_p(TI()),Uc(t,2,-2),0)}function TC(t,e,n,r){return kp(t,e,n,Z0,Uc(t,0,r),Uc(t,r+1,-1),r)}function ku(t,e){for(var n="",r=J0(t),o=0;o<r;o++)n+=e(t[o],o,t,e)||"";return n}function OI(t,e,n,r){switch(t.type){case bI:if(t.children.length)break;case yI:case Z0:return t.return=t.return||t.value;case yA:return"";case bA:return t.return=t.value+"{"+ku(t.children,r)+"}";case Q0:t.value=t.props.join(",")}return ko(n=ku(t.children,r))?t.return=t.value+"{"+n+"}":""}function PI(t){var e=J0(t);return function(n,r,o,a){for(var s="",u=0;u<e;u++)s+=t[u](n,r,o,a)||"";return s}}function II(t){return function(e){e.root||(e=e.return)&&t(e)}}function EA(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var BI=function(e,n,r){for(var o=0,a=0;o=a,a=Fo(),o===38&&a===12&&(n[r]=1),!jc(a);)Pr();return pf(e,gr)},FI=function(e,n){var r=-1,o=44;do switch(jc(o)){case 0:o===38&&Fo()===12&&(n[r]=1),e[r]+=BI(gr-1,n,r);break;case 2:e[r]+=bh(o);break;case 4:if(o===44){e[++r]=Fo()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=_p(o)}while(o=Pr());return e},LI=function(e,n){return CA(FI(SA(e),n))},RC=new WeakMap,zI=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,o=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!RC.get(r))&&!o){RC.set(e,!0);for(var a=[],s=LI(n,a),u=r.props,c=0,f=0;c<s.length;c++)for(var h=0;h<u.length;h++,f++)e.props[f]=a[c]?s[c].replace(/&\f/g,u[h]):u[h]+" "+s[c]}}},VI=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function TA(t,e){switch(SI(t,e)){case 5103:return Ce+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ce+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Ce+t+Oh+t+$n+t+t;case 6828:case 4268:return Ce+t+$n+t+t;case 6165:return Ce+t+$n+"flex-"+t+t;case 5187:return Ce+t+Ee(t,/(\w+).+(:[^]+)/,Ce+"box-$1$2"+$n+"flex-$1$2")+t;case 5443:return Ce+t+$n+"flex-item-"+Ee(t,/flex-|-self/,"")+t;case 4675:return Ce+t+$n+"flex-line-pack"+Ee(t,/align-content|flex-|-self/,"")+t;case 5548:return Ce+t+$n+Ee(t,"shrink","negative")+t;case 5292:return Ce+t+$n+Ee(t,"basis","preferred-size")+t;case 6060:return Ce+"box-"+Ee(t,"-grow","")+Ce+t+$n+Ee(t,"grow","positive")+t;case 4554:return Ce+Ee(t,/([^-])(transform)/g,"$1"+Ce+"$2")+t;case 6187:return Ee(Ee(Ee(t,/(zoom-|grab)/,Ce+"$1"),/(image-set)/,Ce+"$1"),t,"")+t;case 5495:case 3959:return Ee(t,/(image-set\([^]*)/,Ce+"$1$`$1");case 4968:return Ee(Ee(t,/(.+:)(flex-)?(.*)/,Ce+"box-pack:$3"+$n+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ce+t+t;case 4095:case 3583:case 4068:case 2532:return Ee(t,/(.+)-inline(.+)/,Ce+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ko(t)-1-e>6)switch(Vn(t,e+1)){case 109:if(Vn(t,e+4)!==45)break;case 102:return Ee(t,/(.+:)(.+)-([^]+)/,"$1"+Ce+"$2-$3$1"+Oh+(Vn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~ky(t,"stretch")?TA(Ee(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Vn(t,e+1)!==115)break;case 6444:switch(Vn(t,ko(t)-3-(~ky(t,"!important")&&10))){case 107:return Ee(t,":",":"+Ce)+t;case 101:return Ee(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ce+(Vn(t,14)===45?"inline-":"")+"box$3$1"+Ce+"$2$3$1"+$n+"$2box$3")+t}break;case 5936:switch(Vn(t,e+11)){case 114:return Ce+t+$n+Ee(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Ce+t+$n+Ee(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Ce+t+$n+Ee(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Ce+t+$n+t+t}return t}var UI=function(e,n,r,o){if(e.length>-1&&!e.return)switch(e.type){case Z0:e.return=TA(e.value,e.length);break;case bA:return ku([fc(e,{value:Ee(e.value,"@","@"+Ce)})],o);case Q0:if(e.length)return EI(e.props,function(a){switch(CI(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ku([fc(e,{props:[Ee(a,/:(read-\w+)/,":"+Oh+"$1")]})],o);case"::placeholder":return ku([fc(e,{props:[Ee(a,/:(plac\w+)/,":"+Ce+"input-$1")]}),fc(e,{props:[Ee(a,/:(plac\w+)/,":"+Oh+"$1")]}),fc(e,{props:[Ee(a,/:(plac\w+)/,$n+"input-$1")]})],o)}return""})}},jI=[UI],WI=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(x){var w=x.getAttribute("data-emotion");w.indexOf(" ")!==-1&&(document.head.appendChild(x),x.setAttribute("data-s",""))})}var o=e.stylisPlugins||jI,a={},s,u=[];s=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(x){for(var w=x.getAttribute("data-emotion").split(" "),S=1;S<w.length;S++)a[w[S]]=!0;u.push(x)});var c,f=[zI,VI];{var h,p=[OI,II(function(x){h.insert(x)})],v=PI(f.concat(o,p)),g=function(w){return ku(MI(w),v)};c=function(w,S,A,E){h=A,g(w?w+"{"+S.styles+"}":S.styles),E&&(y.inserted[S.name]=!0)}}var y={key:n,sheet:new gI({key:n,container:s,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:c};return y.sheet.hydrate(u),y},Rg={exports:{}},_e={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AC;function HI(){if(AC)return _e;AC=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,o=t?Symbol.for("react.strict_mode"):60108,a=t?Symbol.for("react.profiler"):60114,s=t?Symbol.for("react.provider"):60109,u=t?Symbol.for("react.context"):60110,c=t?Symbol.for("react.async_mode"):60111,f=t?Symbol.for("react.concurrent_mode"):60111,h=t?Symbol.for("react.forward_ref"):60112,p=t?Symbol.for("react.suspense"):60113,v=t?Symbol.for("react.suspense_list"):60120,g=t?Symbol.for("react.memo"):60115,y=t?Symbol.for("react.lazy"):60116,x=t?Symbol.for("react.block"):60121,w=t?Symbol.for("react.fundamental"):60117,S=t?Symbol.for("react.responder"):60118,A=t?Symbol.for("react.scope"):60119;function E(R){if(typeof R=="object"&&R!==null){var _=R.$$typeof;switch(_){case e:switch(R=R.type,R){case c:case f:case r:case a:case o:case p:return R;default:switch(R=R&&R.$$typeof,R){case u:case h:case y:case g:case s:return R;default:return _}}case n:return _}}}function T(R){return E(R)===f}return _e.AsyncMode=c,_e.ConcurrentMode=f,_e.ContextConsumer=u,_e.ContextProvider=s,_e.Element=e,_e.ForwardRef=h,_e.Fragment=r,_e.Lazy=y,_e.Memo=g,_e.Portal=n,_e.Profiler=a,_e.StrictMode=o,_e.Suspense=p,_e.isAsyncMode=function(R){return T(R)||E(R)===c},_e.isConcurrentMode=T,_e.isContextConsumer=function(R){return E(R)===u},_e.isContextProvider=function(R){return E(R)===s},_e.isElement=function(R){return typeof R=="object"&&R!==null&&R.$$typeof===e},_e.isForwardRef=function(R){return E(R)===h},_e.isFragment=function(R){return E(R)===r},_e.isLazy=function(R){return E(R)===y},_e.isMemo=function(R){return E(R)===g},_e.isPortal=function(R){return E(R)===n},_e.isProfiler=function(R){return E(R)===a},_e.isStrictMode=function(R){return E(R)===o},_e.isSuspense=function(R){return E(R)===p},_e.isValidElementType=function(R){return typeof R=="string"||typeof R=="function"||R===r||R===f||R===a||R===o||R===p||R===v||typeof R=="object"&&R!==null&&(R.$$typeof===y||R.$$typeof===g||R.$$typeof===s||R.$$typeof===u||R.$$typeof===h||R.$$typeof===w||R.$$typeof===S||R.$$typeof===A||R.$$typeof===x)},_e.typeOf=E,_e}var _C;function GI(){return _C||(_C=1,Rg.exports=HI()),Rg.exports}var Ag,DC;function $I(){if(DC)return Ag;DC=1;var t=GI(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};a[t.ForwardRef]=r,a[t.Memo]=o;function s(y){return t.isMemo(y)?o:a[y.$$typeof]||e}var u=Object.defineProperty,c=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,v=Object.prototype;function g(y,x,w){if(typeof x!="string"){if(v){var S=p(x);S&&S!==v&&g(y,S,w)}var A=c(x);f&&(A=A.concat(f(x)));for(var E=s(y),T=s(x),R=0;R<A.length;++R){var _=A[R];if(!n[_]&&!(w&&w[_])&&!(T&&T[_])&&!(E&&E[_])){var M=h(x,_);try{u(y,_,M)}catch{}}}}return y}return Ag=g,Ag}$I();var qI=!0;function RA(t,e,n){var r="";return n.split(" ").forEach(function(o){t[o]!==void 0?e.push(t[o]+";"):o&&(r+=o+" ")}),r}var tb=function(e,n,r){var o=e.key+"-"+n.name;(r===!1||qI===!1)&&e.registered[o]===void 0&&(e.registered[o]=n.styles)},eb=function(e,n,r){tb(e,n,r);var o=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var a=n;do e.insert(n===a?"."+o:"",a,e.sheet,!0),a=a.next;while(a!==void 0)}};function KI(t){for(var e=0,n,r=0,o=t.length;o>=4;++r,o-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(o){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var XI={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},YI=/[A-Z]|^ms/g,QI=/_EMO_([^_]+?)_([^]*?)_EMO_/g,AA=function(e){return e.charCodeAt(1)===45},kC=function(e){return e!=null&&typeof e!="boolean"},_g=EA(function(t){return AA(t)?t:t.replace(YI,"-$&").toLowerCase()}),MC=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(QI,function(r,o,a){return Mo={name:o,styles:a,next:Mo},o})}return XI[e]!==1&&!AA(e)&&typeof n=="number"&&n!==0?n+"px":n};function Wc(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var o=n;if(o.anim===1)return Mo={name:o.name,styles:o.styles,next:Mo},o.name;var a=n;if(a.styles!==void 0){var s=a.next;if(s!==void 0)for(;s!==void 0;)Mo={name:s.name,styles:s.styles,next:Mo},s=s.next;var u=a.styles+";";return u}return ZI(t,e,n)}case"function":{if(t!==void 0){var c=Mo,f=n(t);return Mo=c,Wc(t,e,f)}break}}var h=n;if(e==null)return h;var p=e[h];return p!==void 0?p:h}function ZI(t,e,n){var r="";if(Array.isArray(n))for(var o=0;o<n.length;o++)r+=Wc(t,e,n[o])+";";else for(var a in n){var s=n[a];if(typeof s!="object"){var u=s;e!=null&&e[u]!==void 0?r+=a+"{"+e[u]+"}":kC(u)&&(r+=_g(a)+":"+MC(a,u)+";")}else if(Array.isArray(s)&&typeof s[0]=="string"&&(e==null||e[s[0]]===void 0))for(var c=0;c<s.length;c++)kC(s[c])&&(r+=_g(a)+":"+MC(a,s[c])+";");else{var f=Wc(t,e,s);switch(a){case"animation":case"animationName":{r+=_g(a)+":"+f+";";break}default:r+=a+"{"+f+"}"}}}return r}var NC=/label:\s*([^\s;{]+)\s*(;|$)/g,Mo;function mf(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,o="";Mo=void 0;var a=t[0];if(a==null||a.raw===void 0)r=!1,o+=Wc(n,e,a);else{var s=a;o+=s[0]}for(var u=1;u<t.length;u++)if(o+=Wc(n,e,t[u]),r){var c=a;o+=c[u]}NC.lastIndex=0;for(var f="",h;(h=NC.exec(o))!==null;)f+="-"+h[1];var p=KI(o)+f;return{name:p,styles:o,next:Mo}}var JI=function(e){return e()},_A=Ay.useInsertionEffect?Ay.useInsertionEffect:!1,DA=_A||JI,OC=_A||O.useLayoutEffect,kA=O.createContext(typeof HTMLElement<"u"?WI({key:"css"}):null);kA.Provider;var nb=function(e){return O.forwardRef(function(n,r){var o=O.useContext(kA);return e(n,o,r)})},vf=O.createContext({}),rb={}.hasOwnProperty,Ny="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",tB=function(e,n){var r={};for(var o in n)rb.call(n,o)&&(r[o]=n[o]);return r[Ny]=e,r},eB=function(e){var n=e.cache,r=e.serialized,o=e.isStringTag;return tb(n,r,o),DA(function(){return eb(n,r,o)}),null},nB=nb(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var o=t[Ny],a=[r],s="";typeof t.className=="string"?s=RA(e.registered,a,t.className):t.className!=null&&(s=t.className+" ");var u=mf(a,void 0,O.useContext(vf));s+=e.key+"-"+u.name;var c={};for(var f in t)rb.call(t,f)&&f!=="css"&&f!==Ny&&(c[f]=t[f]);return c.className=s,n&&(c.ref=n),O.createElement(O.Fragment,null,O.createElement(eB,{cache:e,serialized:u,isStringTag:typeof o=="string"}),O.createElement(o,c))}),rB=nB,PC=function(e,n){var r=arguments;if(n==null||!rb.call(n,"css"))return O.createElement.apply(void 0,r);var o=r.length,a=new Array(o);a[0]=rB,a[1]=tB(e,n);for(var s=2;s<o;s++)a[s]=r[s];return O.createElement.apply(null,a)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(PC||(PC={}));var oB=nb(function(t,e){var n=t.styles,r=mf([n],void 0,O.useContext(vf)),o=O.useRef();return OC(function(){var a=e.key+"-global",s=new e.sheet.constructor({key:a,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),u=!1,c=document.querySelector('style[data-emotion="'+a+" "+r.name+'"]');return e.sheet.tags.length&&(s.before=e.sheet.tags[0]),c!==null&&(u=!0,c.setAttribute("data-emotion",a),s.hydrate([c])),o.current=[s,u],function(){s.flush()}},[e]),OC(function(){var a=o.current,s=a[0],u=a[1];if(u){a[1]=!1;return}if(r.next!==void 0&&eb(e,r.next,!0),s.tags.length){var c=s.tags[s.tags.length-1].nextElementSibling;s.before=c,s.flush()}e.insert("",r,s,!1)},[e,r.name]),null});function ob(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return mf(e)}function gf(){var t=ob.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var aB=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,iB=EA(function(t){return aB.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),sB=iB,uB=function(e){return e!=="theme"},IC=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?sB:uB},BC=function(e,n,r){var o;if(n){var a=n.shouldForwardProp;o=e.__emotion_forwardProp&&a?function(s){return e.__emotion_forwardProp(s)&&a(s)}:a}return typeof o!="function"&&r&&(o=e.__emotion_forwardProp),o},lB=function(e){var n=e.cache,r=e.serialized,o=e.isStringTag;return tb(n,r,o),DA(function(){return eb(n,r,o)}),null},cB=function t(e,n){var r=e.__emotion_real===e,o=r&&e.__emotion_base||e,a,s;n!==void 0&&(a=n.label,s=n.target);var u=BC(e,n,r),c=u||IC(o),f=!c("as");return function(){var h=arguments,p=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(a!==void 0&&p.push("label:"+a+";"),h[0]==null||h[0].raw===void 0)p.push.apply(p,h);else{var v=h[0];p.push(v[0]);for(var g=h.length,y=1;y<g;y++)p.push(h[y],v[y])}var x=nb(function(w,S,A){var E=f&&w.as||o,T="",R=[],_=w;if(w.theme==null){_={};for(var M in w)_[M]=w[M];_.theme=O.useContext(vf)}typeof w.className=="string"?T=RA(S.registered,R,w.className):w.className!=null&&(T=w.className+" ");var k=mf(p.concat(R),S.registered,_);T+=S.key+"-"+k.name,s!==void 0&&(T+=" "+s);var N=f&&u===void 0?IC(E):c,I={};for(var z in w)f&&z==="as"||N(z)&&(I[z]=w[z]);return I.className=T,A&&(I.ref=A),O.createElement(O.Fragment,null,O.createElement(lB,{cache:S,serialized:k,isStringTag:typeof E=="string"}),O.createElement(E,I))});return x.displayName=a!==void 0?a:"Styled("+(typeof o=="string"?o:o.displayName||o.name||"Component")+")",x.defaultProps=e.defaultProps,x.__emotion_real=x,x.__emotion_base=o,x.__emotion_styles=p,x.__emotion_forwardProp=u,Object.defineProperty(x,"toString",{value:function(){return"."+s}}),x.withComponent=function(w,S){var A=t(w,Nh({},n,S,{shouldForwardProp:BC(x,S,!0)}));return A.apply(void 0,p)},x}},fB=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Oy=cB.bind(null);fB.forEach(function(t){Oy[t]=Oy(t)});function dB(t){return t==null||Object.keys(t).length===0}function MA(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?o=>e(dB(o)?n:o):e;return U.jsx(oB,{styles:r})}function NA(t,e){return Oy(t,e)}function hB(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const FC=[];function mi(t){return FC[0]=t,mf(FC)}const pB=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function mB(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...o}=t,a=pB(e),s=Object.keys(a);function u(v){return`@media (min-width:${typeof e[v]=="number"?e[v]:v}${n})`}function c(v){return`@media (max-width:${(typeof e[v]=="number"?e[v]:v)-r/100}${n})`}function f(v,g){const y=s.indexOf(g);return`@media (min-width:${typeof e[v]=="number"?e[v]:v}${n}) and (max-width:${(y!==-1&&typeof e[s[y]]=="number"?e[s[y]]:g)-r/100}${n})`}function h(v){return s.indexOf(v)+1<s.length?f(v,s[s.indexOf(v)+1]):u(v)}function p(v){const g=s.indexOf(v);return g===0?u(s[1]):g===s.length-1?c(s[g]):f(v,s[s.indexOf(v)+1]).replace("@media","@media not all and")}return{keys:s,values:a,up:u,down:c,between:f,only:h,not:p,unit:n,...o}}const vB={borderRadius:4};function OA(t=8,e=X0({spacing:t})){if(t.mui)return t;const n=(...r)=>(r.length===0?[1]:r).map(a=>{const s=e(a);return typeof s=="number"?`${s}px`:s}).join(" ");return n.mui=!0,n}function gB(t,e){const n=this;if(n.vars){if(!n.colorSchemes?.[t]||typeof n.getColorSchemeSelector!="function")return{};let r=n.getColorSchemeSelector(t);return r==="&"?e:((r.includes("data-")||r.includes("."))&&(r=`*:where(${r.replace(/\s*&$/,"")}) &`),{[r]:e})}return n.palette.mode===t?e:{}}function ab(t={},...e){const{breakpoints:n={},palette:r={},spacing:o,shape:a={},...s}=t,u=mB(n),c=OA(o);let f=tr({breakpoints:u,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:c,shape:{...vB,...a}},s);return f=R4(f),f.applyStyles=gB,f=e.reduce((h,p)=>tr(h,p),f),f.unstable_sxConfig={...hf,...s?.unstable_sxConfig},f.unstable_sx=function(p){return bi({sx:p,theme:this})},f}function yB(t){return Object.keys(t).length===0}function ib(t=null){const e=O.useContext(vf);return!e||yB(e)?t:e}const bB=ab();function sb(t=bB){return ib(t)}function Dg(t){const e=mi(t);return t!==e&&e.styles?(e.styles.match(/^@layer\s+[^{]*$/)||(e.styles=`@layer global{${e.styles}}`),e):t}function PA({styles:t,themeId:e,defaultTheme:n={}}){const r=sb(n),o=e&&r[e]||r;let a=typeof t=="function"?t(o):t;return o.modularCssLayers&&(Array.isArray(a)?a=a.map(s=>Dg(typeof s=="function"?s(o):s)):a=Dg(a)),U.jsx(MA,{styles:a})}function xB(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:o}=t,a=NA("div",{shouldForwardProp:u=>u!=="theme"&&u!=="sx"&&u!=="as"})(bi);return O.forwardRef(function(c,f){const h=sb(n),{className:p,component:v="div",...g}=gA(c);return U.jsx(a,{as:v,ref:f,className:Ht(p,o?o(r):r),theme:e&&h[e]||h,...g})})}const wB={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function he(t,e,n="Mui"){const r=wB[e];return r?`${n}-${r}`:`${hA.generate(t)}-${e}`}function fe(t,e,n="Mui"){const r={};return e.forEach(o=>{r[o]=he(t,o,n)}),r}function IA(t){const{variants:e,...n}=t,r={variants:e,style:mi(n),isProcessed:!0};return r.style===n||e&&e.forEach(o=>{typeof o.style!="function"&&(o.style=mi(o.style))}),r}const SB=ab();function kg(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function os(t,e){return e&&t&&typeof t=="object"&&t.styles&&!t.styles.startsWith("@layer")&&(t.styles=`@layer ${e}{${String(t.styles)}}`),t}function CB(t){return t?(e,n)=>n[t]:null}function EB(t,e,n){t.theme=AB(t.theme)?n:t.theme[e]||t.theme}function wh(t,e,n){const r=typeof e=="function"?e(t):e;if(Array.isArray(r))return r.flatMap(o=>wh(t,o,n));if(Array.isArray(r?.variants)){let o;if(r.isProcessed)o=n?os(r.style,n):r.style;else{const{variants:a,...s}=r;o=n?os(mi(s),n):s}return BA(t,r.variants,[o],n)}return r?.isProcessed?n?os(mi(r.style),n):r.style:n?os(mi(r),n):r}function BA(t,e,n=[],r=void 0){let o;t:for(let a=0;a<e.length;a+=1){const s=e[a];if(typeof s.props=="function"){if(o??={...t,...t.ownerState,ownerState:t.ownerState},!s.props(o))continue}else for(const u in s.props)if(t[u]!==s.props[u]&&t.ownerState?.[u]!==s.props[u])continue t;typeof s.style=="function"?(o??={...t,...t.ownerState,ownerState:t.ownerState},n.push(r?os(mi(s.style(o)),r):s.style(o))):n.push(r?os(mi(s.style),r):s.style)}return n}function TB(t={}){const{themeId:e,defaultTheme:n=SB,rootShouldForwardProp:r=kg,slotShouldForwardProp:o=kg}=t;function a(u){EB(u,e,n)}return(u,c={})=>{hB(u,_=>_.filter(M=>M!==bi));const{name:f,slot:h,skipVariantsResolver:p,skipSx:v,overridesResolver:g=CB(DB(h)),...y}=c,x=f&&f.startsWith("Mui")||h?"components":"custom",w=p!==void 0?p:h&&h!=="Root"&&h!=="root"||!1,S=v||!1;let A=kg;h==="Root"||h==="root"?A=r:h?A=o:_B(u)&&(A=void 0);const E=NA(u,{shouldForwardProp:A,label:RB(),...y}),T=_=>{if(_.__emotion_real===_)return _;if(typeof _=="function")return function(k){return wh(k,_,k.theme.modularCssLayers?x:void 0)};if(Oo(_)){const M=IA(_);return function(N){return M.variants?wh(N,M,N.theme.modularCssLayers?x:void 0):N.theme.modularCssLayers?os(M.style,x):M.style}}return _},R=(..._)=>{const M=[],k=_.map(T),N=[];if(M.push(a),f&&g&&N.push(function($){const W=$.theme.components?.[f]?.styleOverrides;if(!W)return null;const B={};for(const H in W)B[H]=wh($,W[H],$.theme.modularCssLayers?"theme":void 0);return g($,B)}),f&&!w&&N.push(function($){const W=$.theme?.components?.[f]?.variants;return W?BA($,W,[],$.theme.modularCssLayers?"theme":void 0):null}),S||N.push(bi),Array.isArray(k[0])){const D=k.shift(),$=new Array(M.length).fill(""),j=new Array(N.length).fill("");let W;W=[...$,...D,...j],W.raw=[...$,...D.raw,...j],M.unshift(W)}const I=[...M,...k,...N],z=E(...I);return u.muiName&&(z.muiName=u.muiName),z};return E.withConfig&&(R.withConfig=E.withConfig),R}}function RB(t,e){return void 0}function AB(t){for(const e in t)return!1;return!0}function _B(t){return typeof t=="string"&&t.charCodeAt(0)>96}function DB(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}const go=typeof window<"u"?O.useLayoutEffect:O.useEffect;function kB(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}function ub(t,e=0,n=1){return kB(t,e,n)}function MB(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,o)=>o<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function xi(t){if(t.type)return t;if(t.charAt(0)==="#")return xi(MB(t));const e=t.indexOf("("),n=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(Ra(9,t));let r=t.substring(e+1,t.length-1),o;if(n==="color"){if(r=r.split(" "),o=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(o))throw new Error(Ra(10,o))}else r=r.split(",");return r=r.map(a=>parseFloat(a)),{type:n,values:r,colorSpace:o}}const NB=t=>{const e=xi(t);return e.values.slice(0,3).map((n,r)=>e.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},Cc=(t,e)=>{try{return NB(t)}catch{return t}};function Mp(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.includes("rgb")?r=r.map((o,a)=>a<3?parseInt(o,10):o):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function FA(t){t=xi(t);const{values:e}=t,n=e[0],r=e[1]/100,o=e[2]/100,a=r*Math.min(o,1-o),s=(f,h=(f+n/30)%12)=>o-a*Math.max(Math.min(h-3,9-h,1),-1);let u="rgb";const c=[Math.round(s(0)*255),Math.round(s(8)*255),Math.round(s(4)*255)];return t.type==="hsla"&&(u+="a",c.push(e[3])),Mp({type:u,values:c})}function Py(t){t=xi(t);let e=t.type==="hsl"||t.type==="hsla"?xi(FA(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function OB(t,e){const n=Py(t),r=Py(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function Ph(t,e){return t=xi(t),e=ub(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,Mp(t)}function qi(t,e,n){try{return Ph(t,e)}catch{return t}}function Np(t,e){if(t=xi(t),e=ub(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return Mp(t)}function Ne(t,e,n){try{return Np(t,e)}catch{return t}}function Op(t,e){if(t=xi(t),e=ub(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return Mp(t)}function Oe(t,e,n){try{return Op(t,e)}catch{return t}}function Iy(t,e=.15){return Py(t)>.5?Np(t,e):Op(t,e)}function qd(t,e,n){try{return Iy(t,e)}catch{return t}}const LA=O.createContext(null);function lb(){return O.useContext(LA)}const PB=typeof Symbol=="function"&&Symbol.for,IB=PB?Symbol.for("mui.nested"):"__THEME_NESTED__";function BB(t,e){return typeof e=="function"?e(t):{...t,...e}}function FB(t){const{children:e,theme:n}=t,r=lb(),o=O.useMemo(()=>{const a=r===null?{...n}:BB(r,n);return a!=null&&(a[IB]=r!==null),a},[n,r]);return U.jsx(LA.Provider,{value:o,children:e})}const zA=O.createContext();function LB({value:t,...e}){return U.jsx(zA.Provider,{value:t??!0,...e})}const VA=()=>O.useContext(zA)??!1,UA=O.createContext(void 0);function zB({value:t,children:e}){return U.jsx(UA.Provider,{value:t,children:e})}function VB(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const o=e.components[n];return o.defaultProps?kh(o.defaultProps,r,e.components.mergeClassNameAndStyle):!o.styleOverrides&&!o.variants?kh(o,r,e.components.mergeClassNameAndStyle):r}function UB({props:t,name:e}){const n=O.useContext(UA);return VB({props:t,name:e,theme:{components:n}})}let LC=0;function jB(t){const[e,n]=O.useState(t),r=t||e;return O.useEffect(()=>{e==null&&(LC+=1,n(`mui-${LC}`))},[e]),r}const WB={...Ay},zC=WB.useId;function el(t){if(zC!==void 0){const e=zC();return t??e}return jB(t)}function HB(t){const e=ib(),n=el()||"",{modularCssLayers:r}=t;let o="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return!r||e!==null?o="":typeof r=="string"?o=r.replace(/mui(?!\.)/g,o):o=`@layer ${o};`,go(()=>{const a=document.querySelector("head");if(!a)return;const s=a.firstChild;if(o){if(s&&s.hasAttribute?.("data-mui-layer-order")&&s.getAttribute("data-mui-layer-order")===n)return;const u=document.createElement("style");u.setAttribute("data-mui-layer-order",n),u.textContent=o,a.prepend(u)}else a.querySelector(`style[data-mui-layer-order="${n}"]`)?.remove()},[o,n]),o?U.jsx(PA,{styles:o}):null}const VC={};function UC(t,e,n,r=!1){return O.useMemo(()=>{const o=t&&e[t]||e;if(typeof n=="function"){const a=n(o),s=t?{...e,[t]:a}:a;return r?()=>s:s}return t?{...e,[t]:n}:{...e,...n}},[t,e,n,r])}function jA(t){const{children:e,theme:n,themeId:r}=t,o=ib(VC),a=lb()||VC,s=UC(r,o,n),u=UC(r,a,n,!0),c=(r?s[r]:s).direction==="rtl",f=HB(s);return U.jsx(FB,{theme:u,children:U.jsx(vf.Provider,{value:s,children:U.jsx(LB,{value:c,children:U.jsxs(zB,{value:r?s[r].components:s.components,children:[f,e]})})})})}const jC={theme:void 0};function GB(t){let e,n;return function(o){let a=e;return(a===void 0||o.theme!==n)&&(jC.theme=o.theme,a=IA(t(jC)),e=a,n=o.theme),a}}const cb="mode",fb="color-scheme",$B="data-color-scheme";function qB(t){const{defaultMode:e="system",defaultLightColorScheme:n="light",defaultDarkColorScheme:r="dark",modeStorageKey:o=cb,colorSchemeStorageKey:a=fb,attribute:s=$B,colorSchemeNode:u="document.documentElement",nonce:c}=t||{};let f="",h=s;if(s==="class"&&(h=".%s"),s==="data"&&(h="[data-%s]"),h.startsWith(".")){const v=h.substring(1);f+=`${u}.classList.remove('${v}'.replace('%s', light), '${v}'.replace('%s', dark));
      ${u}.classList.add('${v}'.replace('%s', colorScheme));`}const p=h.match(/\[([^\]]+)\]/);if(p){const[v,g]=p[1].split("=");g||(f+=`${u}.removeAttribute('${v}'.replace('%s', light));
      ${u}.removeAttribute('${v}'.replace('%s', dark));`),f+=`
      ${u}.setAttribute('${v}'.replace('%s', colorScheme), ${g?`${g}.replace('%s', colorScheme)`:'""'});`}else f+=`${u}.setAttribute('${h}', colorScheme);`;return U.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?c:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${o}') || '${e}';
  const dark = localStorage.getItem('${a}-dark') || '${r}';
  const light = localStorage.getItem('${a}-light') || '${n}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${f}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function KB(){}const XB=({key:t,storageWindow:e})=>(!e&&typeof window<"u"&&(e=window),{get(n){if(typeof window>"u")return;if(!e)return n;let r;try{r=e.localStorage.getItem(t)}catch{}return r||n},set:n=>{if(e)try{e.localStorage.setItem(t,n)}catch{}},subscribe:n=>{if(!e)return KB;const r=o=>{const a=o.newValue;o.key===t&&n(a)};return e.addEventListener("storage",r),()=>{e.removeEventListener("storage",r)}}});function Mg(){}function WC(t){if(typeof window<"u"&&typeof window.matchMedia=="function"&&t==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function WA(t,e){if(t.mode==="light"||t.mode==="system"&&t.systemMode==="light")return e("light");if(t.mode==="dark"||t.mode==="system"&&t.systemMode==="dark")return e("dark")}function YB(t){return WA(t,e=>{if(e==="light")return t.lightColorScheme;if(e==="dark")return t.darkColorScheme})}function QB(t){const{defaultMode:e="light",defaultLightColorScheme:n,defaultDarkColorScheme:r,supportedColorSchemes:o=[],modeStorageKey:a=cb,colorSchemeStorageKey:s=fb,storageWindow:u=typeof window>"u"?void 0:window,storageManager:c=XB,noSsr:f=!1}=t,h=o.join(","),p=o.length>1,v=O.useMemo(()=>c?.({key:a,storageWindow:u}),[c,a,u]),g=O.useMemo(()=>c?.({key:`${s}-light`,storageWindow:u}),[c,s,u]),y=O.useMemo(()=>c?.({key:`${s}-dark`,storageWindow:u}),[c,s,u]),[x,w]=O.useState(()=>{const k=v?.get(e)||e,N=g?.get(n)||n,I=y?.get(r)||r;return{mode:k,systemMode:WC(k),lightColorScheme:N,darkColorScheme:I}}),[S,A]=O.useState(f||!p);O.useEffect(()=>{A(!0)},[]);const E=YB(x),T=O.useCallback(k=>{w(N=>{if(k===N.mode)return N;const I=k??e;return v?.set(I),{...N,mode:I,systemMode:WC(I)}})},[v,e]),R=O.useCallback(k=>{k?typeof k=="string"?k&&!h.includes(k)?console.error(`\`${k}\` does not exist in \`theme.colorSchemes\`.`):w(N=>{const I={...N};return WA(N,z=>{z==="light"&&(g?.set(k),I.lightColorScheme=k),z==="dark"&&(y?.set(k),I.darkColorScheme=k)}),I}):w(N=>{const I={...N},z=k.light===null?n:k.light,D=k.dark===null?r:k.dark;return z&&(h.includes(z)?(I.lightColorScheme=z,g?.set(z)):console.error(`\`${z}\` does not exist in \`theme.colorSchemes\`.`)),D&&(h.includes(D)?(I.darkColorScheme=D,y?.set(D)):console.error(`\`${D}\` does not exist in \`theme.colorSchemes\`.`)),I}):w(N=>(g?.set(n),y?.set(r),{...N,lightColorScheme:n,darkColorScheme:r}))},[h,g,y,n,r]),_=O.useCallback(k=>{x.mode==="system"&&w(N=>{const I=k?.matches?"dark":"light";return N.systemMode===I?N:{...N,systemMode:I}})},[x.mode]),M=O.useRef(_);return M.current=_,O.useEffect(()=>{if(typeof window.matchMedia!="function"||!p)return;const k=(...I)=>M.current(...I),N=window.matchMedia("(prefers-color-scheme: dark)");return N.addListener(k),k(N),()=>{N.removeListener(k)}},[p]),O.useEffect(()=>{if(p){const k=v?.subscribe(z=>{(!z||["light","dark","system"].includes(z))&&T(z||e)})||Mg,N=g?.subscribe(z=>{(!z||h.match(z))&&R({light:z})})||Mg,I=y?.subscribe(z=>{(!z||h.match(z))&&R({dark:z})})||Mg;return()=>{k(),N(),I()}}},[R,T,h,e,u,p,v,g,y]),{...x,mode:S?x.mode:void 0,systemMode:S?x.systemMode:void 0,colorScheme:S?E:void 0,setMode:T,setColorScheme:R}}const ZB="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function JB(t){const{themeId:e,theme:n={},modeStorageKey:r=cb,colorSchemeStorageKey:o=fb,disableTransitionOnChange:a=!1,defaultColorScheme:s,resolveTheme:u}=t,c={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},f=O.createContext(void 0),h=()=>O.useContext(f)||c,p={},v={};function g(S){const{children:A,theme:E,modeStorageKey:T=r,colorSchemeStorageKey:R=o,disableTransitionOnChange:_=a,storageManager:M,storageWindow:k=typeof window>"u"?void 0:window,documentNode:N=typeof document>"u"?void 0:document,colorSchemeNode:I=typeof document>"u"?void 0:document.documentElement,disableNestedContext:z=!1,disableStyleSheetGeneration:D=!1,defaultMode:$="system",forceThemeRerender:j=!1,noSsr:W}=S,B=O.useRef(!1),H=lb(),q=O.useContext(f),X=!!q&&!z,F=O.useMemo(()=>E||(typeof n=="function"?n():n),[E]),Q=F[e],et=Q||F,{colorSchemes:nt=p,components:lt=v,cssVarPrefix:pt}=et,vt=Object.keys(nt).filter(we=>!!nt[we]).join(","),bt=O.useMemo(()=>vt.split(","),[vt]),yt=typeof s=="string"?s:s.light,wt=typeof s=="string"?s:s.dark,Et=nt[yt]&&nt[wt]?$:nt[et.defaultColorScheme]?.palette?.mode||et.palette?.mode,{mode:xt,setMode:At,systemMode:Rt,lightColorScheme:St,darkColorScheme:zt,colorScheme:Xt,setColorScheme:Qt}=QB({supportedColorSchemes:bt,defaultLightColorScheme:yt,defaultDarkColorScheme:wt,modeStorageKey:T,colorSchemeStorageKey:R,defaultMode:Et,storageManager:M,storageWindow:k,noSsr:W});let se=xt,te=Xt;X&&(se=q.mode,te=q.colorScheme);let oe=te||et.defaultColorScheme;et.vars&&!j&&(oe=et.defaultColorScheme);const Zt=O.useMemo(()=>{const we=et.generateThemeVars?.()||et.vars,Ut={...et,components:lt,colorSchemes:nt,cssVarPrefix:pt,vars:we};if(typeof Ut.generateSpacing=="function"&&(Ut.spacing=Ut.generateSpacing()),oe){const Jt=nt[oe];Jt&&typeof Jt=="object"&&Object.keys(Jt).forEach(pe=>{Jt[pe]&&typeof Jt[pe]=="object"?Ut[pe]={...Ut[pe],...Jt[pe]}:Ut[pe]=Jt[pe]})}return u?u(Ut):Ut},[et,oe,lt,nt,pt]),_t=et.colorSchemeSelector;go(()=>{if(te&&I&&_t&&_t!=="media"){const we=_t;let Ut=_t;if(we==="class"&&(Ut=".%s"),we==="data"&&(Ut="[data-%s]"),we?.startsWith("data-")&&!we.includes("%s")&&(Ut=`[${we}="%s"]`),Ut.startsWith("."))I.classList.remove(...bt.map(Jt=>Ut.substring(1).replace("%s",Jt))),I.classList.add(Ut.substring(1).replace("%s",te));else{const Jt=Ut.replace("%s",te).match(/\[([^\]]+)\]/);if(Jt){const[pe,On]=Jt[1].split("=");On||bt.forEach(Re=>{I.removeAttribute(pe.replace(te,Re))}),I.setAttribute(pe,On?On.replace(/"|'/g,""):"")}else I.setAttribute(Ut,te)}}},[te,_t,I,bt]),O.useEffect(()=>{let we;if(_&&B.current&&N){const Ut=N.createElement("style");Ut.appendChild(N.createTextNode(ZB)),N.head.appendChild(Ut),window.getComputedStyle(N.body),we=setTimeout(()=>{N.head.removeChild(Ut)},1)}return()=>{clearTimeout(we)}},[te,_,N]),O.useEffect(()=>(B.current=!0,()=>{B.current=!1}),[]);const Ve=O.useMemo(()=>({allColorSchemes:bt,colorScheme:te,darkColorScheme:zt,lightColorScheme:St,mode:se,setColorScheme:Qt,setMode:At,systemMode:Rt}),[bt,te,zt,St,se,Qt,At,Rt,Zt.colorSchemeSelector]);let be=!0;(D||et.cssVariables===!1||X&&H?.cssVarPrefix===pt)&&(be=!1);const He=U.jsxs(O.Fragment,{children:[U.jsx(jA,{themeId:Q?e:void 0,theme:Zt,children:A}),be&&U.jsx(MA,{styles:Zt.generateStyleSheets?.()||[]})]});return X?He:U.jsx(f.Provider,{value:Ve,children:He})}const y=typeof s=="string"?s:s.light,x=typeof s=="string"?s:s.dark;return{CssVarsProvider:g,useColorScheme:h,getInitColorSchemeScript:S=>qB({colorSchemeStorageKey:o,defaultLightColorScheme:y,defaultDarkColorScheme:x,modeStorageKey:r,...S})}}function tF(t=""){function e(...r){if(!r.length)return"";const o=r[0];return typeof o=="string"&&!o.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${o}${e(...r.slice(1))})`:`, ${o}`}return(r,...o)=>`var(--${t?`${t}-`:""}${r}${e(...o)})`}const HC=(t,e,n,r=[])=>{let o=t;e.forEach((a,s)=>{s===e.length-1?Array.isArray(o)?o[Number(a)]=n:o&&typeof o=="object"&&(o[a]=n):o&&typeof o=="object"&&(o[a]||(o[a]=r.includes(a)?[]:{}),o=o[a])})},eF=(t,e,n)=>{function r(o,a=[],s=[]){Object.entries(o).forEach(([u,c])=>{(!n||n&&!n([...a,u]))&&c!=null&&(typeof c=="object"&&Object.keys(c).length>0?r(c,[...a,u],Array.isArray(c)?[...s,u]:s):e([...a,u],c,s))})}r(t)},nF=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>t.includes(r))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function Ng(t,e){const{prefix:n,shouldSkipGeneratingVar:r}=e||{},o={},a={},s={};return eF(t,(u,c,f)=>{if((typeof c=="string"||typeof c=="number")&&(!r||!r(u,c))){const h=`--${n?`${n}-`:""}${u.join("-")}`,p=nF(u,c);Object.assign(o,{[h]:p}),HC(a,u,`var(${h})`,f),HC(s,u,`var(${h}, ${p})`,f)}},u=>u[0]==="vars"),{css:o,vars:a,varsWithDefaults:s}}function rF(t,e={}){const{getSelector:n=S,disableCssColorScheme:r,colorSchemeSelector:o,enableContrastVars:a}=e,{colorSchemes:s={},components:u,defaultColorScheme:c="light",...f}=t,{vars:h,css:p,varsWithDefaults:v}=Ng(f,e);let g=v;const y={},{[c]:x,...w}=s;if(Object.entries(w||{}).forEach(([T,R])=>{const{vars:_,css:M,varsWithDefaults:k}=Ng(R,e);g=tr(g,k),y[T]={css:M,vars:_}}),x){const{css:T,vars:R,varsWithDefaults:_}=Ng(x,e);g=tr(g,_),y[c]={css:T,vars:R}}function S(T,R){let _=o;if(o==="class"&&(_=".%s"),o==="data"&&(_="[data-%s]"),o?.startsWith("data-")&&!o.includes("%s")&&(_=`[${o}="%s"]`),T){if(_==="media")return t.defaultColorScheme===T?":root":{[`@media (prefers-color-scheme: ${s[T]?.palette?.mode||T})`]:{":root":R}};if(_)return t.defaultColorScheme===T?`:root, ${_.replace("%s",String(T))}`:_.replace("%s",String(T))}return":root"}return{vars:g,generateThemeVars:()=>{let T={...h};return Object.entries(y).forEach(([,{vars:R}])=>{T=tr(T,R)}),T},generateStyleSheets:()=>{const T=[],R=t.defaultColorScheme||"light";function _(N,I){Object.keys(I).length&&T.push(typeof N=="string"?{[N]:{...I}}:N)}_(n(void 0,{...p}),p);const{[R]:M,...k}=y;if(M){const{css:N}=M,I=s[R]?.palette?.mode,z=!r&&I?{colorScheme:I,...N}:{...N};_(n(R,{...z}),z)}return Object.entries(k).forEach(([N,{css:I}])=>{const z=s[N]?.palette?.mode,D=!r&&z?{colorScheme:z,...I}:{...I};_(n(N,{...D}),D)}),a&&T.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),T}}}function oF(t){return function(n){return t==="media"?`@media (prefers-color-scheme: ${n})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${n}"] &`:t==="class"?`.${n} &`:t==="data"?`[data-${n}] &`:`${t.replace("%s",n)} &`:"&"}}function Og(t,e){return O.isValidElement(t)&&e.indexOf(t.type.muiName??t.type?._payload?.value?.muiName)!==-1}const Hc={black:"#000",white:"#fff"},aF={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},lu={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},cu={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},dc={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},fu={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},du={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},hu={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function HA(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Hc.white,default:Hc.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const GA=HA();function $A(){return{text:{primary:Hc.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Hc.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const By=$A();function GC(t,e,n,r){const o=r.light||r,a=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=Op(t.main,o):e==="dark"&&(t.dark=Np(t.main,a)))}function $C(t,e,n,r,o){const a=o.light||o,s=o.dark||o*1.5;e[n]||(e.hasOwnProperty(r)?e[n]=e[r]:n==="light"?e.light=`color-mix(in ${t}, ${e.main}, #fff ${(a*100).toFixed(0)}%)`:n==="dark"&&(e.dark=`color-mix(in ${t}, ${e.main}, #000 ${(s*100).toFixed(0)}%)`))}function iF(t="light"){return t==="dark"?{main:fu[200],light:fu[50],dark:fu[400]}:{main:fu[700],light:fu[400],dark:fu[800]}}function sF(t="light"){return t==="dark"?{main:lu[200],light:lu[50],dark:lu[400]}:{main:lu[500],light:lu[300],dark:lu[700]}}function uF(t="light"){return t==="dark"?{main:cu[500],light:cu[300],dark:cu[700]}:{main:cu[700],light:cu[400],dark:cu[800]}}function lF(t="light"){return t==="dark"?{main:du[400],light:du[300],dark:du[700]}:{main:du[700],light:du[500],dark:du[900]}}function cF(t="light"){return t==="dark"?{main:hu[400],light:hu[300],dark:hu[700]}:{main:hu[800],light:hu[500],dark:hu[900]}}function fF(t="light"){return t==="dark"?{main:dc[400],light:dc[300],dark:dc[700]}:{main:"#ed6c02",light:dc[500],dark:dc[900]}}function dF(t){return`oklch(from ${t} var(--__l) 0 h / var(--__a))`}function db(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2,colorSpace:o,...a}=t,s=t.primary||iF(e),u=t.secondary||sF(e),c=t.error||uF(e),f=t.info||lF(e),h=t.success||cF(e),p=t.warning||fF(e);function v(w){return o?dF(w):OB(w,By.text.primary)>=n?By.text.primary:GA.text.primary}const g=({color:w,name:S,mainShade:A=500,lightShade:E=300,darkShade:T=700})=>{if(w={...w},!w.main&&w[A]&&(w.main=w[A]),!w.hasOwnProperty("main"))throw new Error(Ra(11,S?` (${S})`:"",A));if(typeof w.main!="string")throw new Error(Ra(12,S?` (${S})`:"",JSON.stringify(w.main)));return o?($C(o,w,"light",E,r),$C(o,w,"dark",T,r)):(GC(w,"light",E,r),GC(w,"dark",T,r)),w.contrastText||(w.contrastText=v(w.main)),w};let y;return e==="light"?y=HA():e==="dark"&&(y=$A()),tr({common:{...Hc},mode:e,primary:g({color:s,name:"primary"}),secondary:g({color:u,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:g({color:c,name:"error"}),warning:g({color:p,name:"warning"}),info:g({color:f,name:"info"}),success:g({color:h,name:"success"}),grey:aF,contrastThreshold:n,getContrastText:v,augmentColor:g,tonalOffset:r,...y},a)}function hF(t){const e={};return Object.entries(t).forEach(r=>{const[o,a]=r;typeof a=="object"&&(e[o]=`${a.fontStyle?`${a.fontStyle} `:""}${a.fontVariant?`${a.fontVariant} `:""}${a.fontWeight?`${a.fontWeight} `:""}${a.fontStretch?`${a.fontStretch} `:""}${a.fontSize||""}${a.lineHeight?`/${a.lineHeight} `:""}${a.fontFamily||""}`)}),e}function pF(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function mF(t){return Math.round(t*1e5)/1e5}const qC={textTransform:"uppercase"},KC='"Roboto", "Helvetica", "Arial", sans-serif';function qA(t,e){const{fontFamily:n=KC,fontSize:r=14,fontWeightLight:o=300,fontWeightRegular:a=400,fontWeightMedium:s=500,fontWeightBold:u=700,htmlFontSize:c=16,allVariants:f,pxToRem:h,...p}=typeof e=="function"?e(t):e,v=r/14,g=h||(w=>`${w/c*v}rem`),y=(w,S,A,E,T)=>({fontFamily:n,fontWeight:w,fontSize:g(S),lineHeight:A,...n===KC?{letterSpacing:`${mF(E/S)}em`}:{},...T,...f}),x={h1:y(o,96,1.167,-1.5),h2:y(o,60,1.2,-.5),h3:y(a,48,1.167,0),h4:y(a,34,1.235,.25),h5:y(a,24,1.334,0),h6:y(s,20,1.6,.15),subtitle1:y(a,16,1.75,.15),subtitle2:y(s,14,1.57,.1),body1:y(a,16,1.5,.15),body2:y(a,14,1.43,.15),button:y(s,14,1.75,.4,qC),caption:y(a,12,1.66,.4),overline:y(a,12,2.66,1,qC),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return tr({htmlFontSize:c,pxToRem:g,fontFamily:n,fontSize:r,fontWeightLight:o,fontWeightRegular:a,fontWeightMedium:s,fontWeightBold:u,...x},p,{clone:!1})}const vF=.2,gF=.14,yF=.12;function $e(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${vF})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${gF})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${yF})`].join(",")}const bF=["none",$e(0,2,1,-1,0,1,1,0,0,1,3,0),$e(0,3,1,-2,0,2,2,0,0,1,5,0),$e(0,3,3,-2,0,3,4,0,0,1,8,0),$e(0,2,4,-1,0,4,5,0,0,1,10,0),$e(0,3,5,-1,0,5,8,0,0,1,14,0),$e(0,3,5,-1,0,6,10,0,0,1,18,0),$e(0,4,5,-2,0,7,10,1,0,2,16,1),$e(0,5,5,-3,0,8,10,1,0,3,14,2),$e(0,5,6,-3,0,9,12,1,0,3,16,2),$e(0,6,6,-3,0,10,14,1,0,4,18,3),$e(0,6,7,-4,0,11,15,1,0,4,20,3),$e(0,7,8,-4,0,12,17,2,0,5,22,4),$e(0,7,8,-4,0,13,19,2,0,5,24,4),$e(0,7,9,-4,0,14,21,2,0,5,26,4),$e(0,8,9,-5,0,15,22,2,0,6,28,5),$e(0,8,10,-5,0,16,24,2,0,6,30,5),$e(0,8,11,-5,0,17,26,2,0,6,32,5),$e(0,9,11,-5,0,18,28,2,0,7,34,6),$e(0,9,12,-6,0,19,29,2,0,7,36,6),$e(0,10,13,-6,0,20,31,3,0,8,38,7),$e(0,10,13,-6,0,21,33,3,0,8,40,7),$e(0,10,14,-6,0,22,35,3,0,8,42,7),$e(0,11,14,-7,0,23,36,3,0,9,44,8),$e(0,11,15,-7,0,24,38,3,0,9,46,8)],xF={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},wF={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function XC(t){return`${Math.round(t)}ms`}function SF(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function CF(t){const e={...xF,...t.easing},n={...wF,...t.duration};return{getAutoHeightDuration:SF,create:(o=["all"],a={})=>{const{duration:s=n.standard,easing:u=e.easeInOut,delay:c=0,...f}=a;return(Array.isArray(o)?o:[o]).map(h=>`${h} ${typeof s=="string"?s:XC(s)} ${u} ${typeof c=="string"?c:XC(c)}`).join(",")},...t,easing:e,duration:n}}const EF={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function TF(t){return Oo(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function KA(t={}){const e={...t};function n(r){const o=Object.entries(r);for(let a=0;a<o.length;a++){const[s,u]=o[a];!TF(u)||s.startsWith("unstable_")?delete r[s]:Oo(u)&&(r[s]={...u},n(r[s]))}}return n(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function YC(t){return typeof t=="number"?`${(t*100).toFixed(0)}%`:`calc((${t}) * 100%)`}const RF=t=>{if(!Number.isNaN(+t))return+t;const e=t.match(/\d*\.?\d+/g);if(!e)return 0;let n=0;for(let r=0;r<e.length;r+=1)n+=+e[r];return n};function AF(t){Object.assign(t,{alpha(e,n){const r=this||t;return r.colorSpace?`oklch(from ${e} l c h / ${typeof n=="string"?`calc(${n})`:n})`:r.vars?`rgba(${e.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")} / ${typeof n=="string"?`calc(${n})`:n})`:Ph(e,RF(n))},lighten(e,n){const r=this||t;return r.colorSpace?`color-mix(in ${r.colorSpace}, ${e}, #fff ${YC(n)})`:Op(e,n)},darken(e,n){const r=this||t;return r.colorSpace?`color-mix(in ${r.colorSpace}, ${e}, #000 ${YC(n)})`:Np(e,n)}})}function Fy(t={},...e){const{breakpoints:n,mixins:r={},spacing:o,palette:a={},transitions:s={},typography:u={},shape:c,colorSpace:f,...h}=t;if(t.vars&&t.generateThemeVars===void 0)throw new Error(Ra(20));const p=db({...a,colorSpace:f}),v=ab(t);let g=tr(v,{mixins:pF(v.breakpoints,r),palette:p,shadows:bF.slice(),typography:qA(p,u),transitions:CF(s),zIndex:{...EF}});return g=tr(g,h),g=e.reduce((y,x)=>tr(y,x),g),g.unstable_sxConfig={...hf,...h?.unstable_sxConfig},g.unstable_sx=function(x){return bi({sx:x,theme:this})},g.toRuntimeSource=KA,AF(g),g}function Ly(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const _F=[...Array(25)].map((t,e)=>{if(e===0)return"none";const n=Ly(e);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function XA(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function YA(t){return t==="dark"?_F:[]}function DF(t){const{palette:e={mode:"light"},opacity:n,overlays:r,colorSpace:o,...a}=t,s=db({...e,colorSpace:o});return{palette:s,opacity:{...XA(s.mode),...n},overlays:r||YA(s.mode),...a}}function kF(t){return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!t[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}const MF=t=>[...[...Array(25)].map((e,n)=>`--${t?`${t}-`:""}overlays-${n}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],NF=t=>(e,n)=>{const r=t.rootSelector||":root",o=t.colorSchemeSelector;let a=o;if(o==="class"&&(a=".%s"),o==="data"&&(a="[data-%s]"),o?.startsWith("data-")&&!o.includes("%s")&&(a=`[${o}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const s={};return MF(t.cssVarPrefix).forEach(u=>{s[u]=n[u],delete n[u]}),a==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:s}}:a?{[a.replace("%s",e)]:s,[`${r}, ${a.replace("%s",e)}`]:n}:{[r]:{...n,...s}}}if(a&&a!=="media")return`${r}, ${a.replace("%s",String(e))}`}else if(e){if(a==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:n}};if(a)return a.replace("%s",String(e))}return r};function OF(t,e){e.forEach(n=>{t[n]||(t[n]={})})}function ct(t,e,n){!t[e]&&n&&(t[e]=n)}function Ec(t){return typeof t!="string"||!t.startsWith("hsl")?t:FA(t)}function ya(t,e){`${e}Channel`in t||(t[`${e}Channel`]=Cc(Ec(t[e])))}function PF(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const Ro=t=>{try{return t()}catch{}},IF=(t="mui")=>tF(t);function Pg(t,e,n,r,o){if(!n)return;n=n===!0?{}:n;const a=o==="dark"?"dark":"light";if(!r){e[o]=DF({...n,palette:{mode:a,...n?.palette},colorSpace:t});return}const{palette:s,...u}=Fy({...r,palette:{mode:a,...n?.palette},colorSpace:t});return e[o]={...n,palette:s,opacity:{...XA(a),...n?.opacity},overlays:n?.overlays||YA(a)},u}function BF(t={},...e){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:o=!1,cssVarPrefix:a="mui",nativeColor:s=!1,shouldSkipGeneratingVar:u=kF,colorSchemeSelector:c=n.light&&n.dark?"media":void 0,rootSelector:f=":root",...h}=t,p=Object.keys(n)[0],v=r||(n.light&&p!=="light"?"light":p),g=IF(a),{[v]:y,light:x,dark:w,...S}=n,A={...S};let E=y;if((v==="dark"&&!("dark"in n)||v==="light"&&!("light"in n))&&(E=!0),!E)throw new Error(Ra(21,v));let T;s&&(T="oklch");const R=Pg(T,A,E,h,v);x&&!A.light&&Pg(T,A,x,void 0,"light"),w&&!A.dark&&Pg(T,A,w,void 0,"dark");let _={defaultColorScheme:v,...R,cssVarPrefix:a,colorSchemeSelector:c,rootSelector:f,getCssVar:g,colorSchemes:A,font:{...hF(R.typography),...R.font},spacing:PF(h.spacing)};Object.keys(_.colorSchemes).forEach(z=>{const D=_.colorSchemes[z].palette,$=W=>{const B=W.split("-"),H=B[1],q=B[2];return g(W,D[H][q])};D.mode==="light"&&(ct(D.common,"background","#fff"),ct(D.common,"onBackground","#000")),D.mode==="dark"&&(ct(D.common,"background","#000"),ct(D.common,"onBackground","#fff"));function j(W,B,H){if(T){let q;return W===qi&&(q=`transparent ${((1-H)*100).toFixed(0)}%`),W===Ne&&(q=`#000 ${(H*100).toFixed(0)}%`),W===Oe&&(q=`#fff ${(H*100).toFixed(0)}%`),`color-mix(in ${T}, ${B}, ${q})`}return W(B,H)}if(OF(D,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),D.mode==="light"){ct(D.Alert,"errorColor",j(Ne,D.error.light,.6)),ct(D.Alert,"infoColor",j(Ne,D.info.light,.6)),ct(D.Alert,"successColor",j(Ne,D.success.light,.6)),ct(D.Alert,"warningColor",j(Ne,D.warning.light,.6)),ct(D.Alert,"errorFilledBg",$("palette-error-main")),ct(D.Alert,"infoFilledBg",$("palette-info-main")),ct(D.Alert,"successFilledBg",$("palette-success-main")),ct(D.Alert,"warningFilledBg",$("palette-warning-main")),ct(D.Alert,"errorFilledColor",Ro(()=>D.getContrastText(D.error.main))),ct(D.Alert,"infoFilledColor",Ro(()=>D.getContrastText(D.info.main))),ct(D.Alert,"successFilledColor",Ro(()=>D.getContrastText(D.success.main))),ct(D.Alert,"warningFilledColor",Ro(()=>D.getContrastText(D.warning.main))),ct(D.Alert,"errorStandardBg",j(Oe,D.error.light,.9)),ct(D.Alert,"infoStandardBg",j(Oe,D.info.light,.9)),ct(D.Alert,"successStandardBg",j(Oe,D.success.light,.9)),ct(D.Alert,"warningStandardBg",j(Oe,D.warning.light,.9)),ct(D.Alert,"errorIconColor",$("palette-error-main")),ct(D.Alert,"infoIconColor",$("palette-info-main")),ct(D.Alert,"successIconColor",$("palette-success-main")),ct(D.Alert,"warningIconColor",$("palette-warning-main")),ct(D.AppBar,"defaultBg",$("palette-grey-100")),ct(D.Avatar,"defaultBg",$("palette-grey-400")),ct(D.Button,"inheritContainedBg",$("palette-grey-300")),ct(D.Button,"inheritContainedHoverBg",$("palette-grey-A100")),ct(D.Chip,"defaultBorder",$("palette-grey-400")),ct(D.Chip,"defaultAvatarColor",$("palette-grey-700")),ct(D.Chip,"defaultIconColor",$("palette-grey-700")),ct(D.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),ct(D.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),ct(D.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),ct(D.LinearProgress,"primaryBg",j(Oe,D.primary.main,.62)),ct(D.LinearProgress,"secondaryBg",j(Oe,D.secondary.main,.62)),ct(D.LinearProgress,"errorBg",j(Oe,D.error.main,.62)),ct(D.LinearProgress,"infoBg",j(Oe,D.info.main,.62)),ct(D.LinearProgress,"successBg",j(Oe,D.success.main,.62)),ct(D.LinearProgress,"warningBg",j(Oe,D.warning.main,.62)),ct(D.Skeleton,"bg",T?j(qi,D.text.primary,.11):`rgba(${$("palette-text-primaryChannel")} / 0.11)`),ct(D.Slider,"primaryTrack",j(Oe,D.primary.main,.62)),ct(D.Slider,"secondaryTrack",j(Oe,D.secondary.main,.62)),ct(D.Slider,"errorTrack",j(Oe,D.error.main,.62)),ct(D.Slider,"infoTrack",j(Oe,D.info.main,.62)),ct(D.Slider,"successTrack",j(Oe,D.success.main,.62)),ct(D.Slider,"warningTrack",j(Oe,D.warning.main,.62));const W=T?j(Ne,D.background.default,.6825):qd(D.background.default,.8);ct(D.SnackbarContent,"bg",W),ct(D.SnackbarContent,"color",Ro(()=>T?By.text.primary:D.getContrastText(W))),ct(D.SpeedDialAction,"fabHoverBg",qd(D.background.paper,.15)),ct(D.StepConnector,"border",$("palette-grey-400")),ct(D.StepContent,"border",$("palette-grey-400")),ct(D.Switch,"defaultColor",$("palette-common-white")),ct(D.Switch,"defaultDisabledColor",$("palette-grey-100")),ct(D.Switch,"primaryDisabledColor",j(Oe,D.primary.main,.62)),ct(D.Switch,"secondaryDisabledColor",j(Oe,D.secondary.main,.62)),ct(D.Switch,"errorDisabledColor",j(Oe,D.error.main,.62)),ct(D.Switch,"infoDisabledColor",j(Oe,D.info.main,.62)),ct(D.Switch,"successDisabledColor",j(Oe,D.success.main,.62)),ct(D.Switch,"warningDisabledColor",j(Oe,D.warning.main,.62)),ct(D.TableCell,"border",j(Oe,j(qi,D.divider,1),.88)),ct(D.Tooltip,"bg",j(qi,D.grey[700],.92))}if(D.mode==="dark"){ct(D.Alert,"errorColor",j(Oe,D.error.light,.6)),ct(D.Alert,"infoColor",j(Oe,D.info.light,.6)),ct(D.Alert,"successColor",j(Oe,D.success.light,.6)),ct(D.Alert,"warningColor",j(Oe,D.warning.light,.6)),ct(D.Alert,"errorFilledBg",$("palette-error-dark")),ct(D.Alert,"infoFilledBg",$("palette-info-dark")),ct(D.Alert,"successFilledBg",$("palette-success-dark")),ct(D.Alert,"warningFilledBg",$("palette-warning-dark")),ct(D.Alert,"errorFilledColor",Ro(()=>D.getContrastText(D.error.dark))),ct(D.Alert,"infoFilledColor",Ro(()=>D.getContrastText(D.info.dark))),ct(D.Alert,"successFilledColor",Ro(()=>D.getContrastText(D.success.dark))),ct(D.Alert,"warningFilledColor",Ro(()=>D.getContrastText(D.warning.dark))),ct(D.Alert,"errorStandardBg",j(Ne,D.error.light,.9)),ct(D.Alert,"infoStandardBg",j(Ne,D.info.light,.9)),ct(D.Alert,"successStandardBg",j(Ne,D.success.light,.9)),ct(D.Alert,"warningStandardBg",j(Ne,D.warning.light,.9)),ct(D.Alert,"errorIconColor",$("palette-error-main")),ct(D.Alert,"infoIconColor",$("palette-info-main")),ct(D.Alert,"successIconColor",$("palette-success-main")),ct(D.Alert,"warningIconColor",$("palette-warning-main")),ct(D.AppBar,"defaultBg",$("palette-grey-900")),ct(D.AppBar,"darkBg",$("palette-background-paper")),ct(D.AppBar,"darkColor",$("palette-text-primary")),ct(D.Avatar,"defaultBg",$("palette-grey-600")),ct(D.Button,"inheritContainedBg",$("palette-grey-800")),ct(D.Button,"inheritContainedHoverBg",$("palette-grey-700")),ct(D.Chip,"defaultBorder",$("palette-grey-700")),ct(D.Chip,"defaultAvatarColor",$("palette-grey-300")),ct(D.Chip,"defaultIconColor",$("palette-grey-300")),ct(D.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),ct(D.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),ct(D.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),ct(D.LinearProgress,"primaryBg",j(Ne,D.primary.main,.5)),ct(D.LinearProgress,"secondaryBg",j(Ne,D.secondary.main,.5)),ct(D.LinearProgress,"errorBg",j(Ne,D.error.main,.5)),ct(D.LinearProgress,"infoBg",j(Ne,D.info.main,.5)),ct(D.LinearProgress,"successBg",j(Ne,D.success.main,.5)),ct(D.LinearProgress,"warningBg",j(Ne,D.warning.main,.5)),ct(D.Skeleton,"bg",T?j(qi,D.text.primary,.13):`rgba(${$("palette-text-primaryChannel")} / 0.13)`),ct(D.Slider,"primaryTrack",j(Ne,D.primary.main,.5)),ct(D.Slider,"secondaryTrack",j(Ne,D.secondary.main,.5)),ct(D.Slider,"errorTrack",j(Ne,D.error.main,.5)),ct(D.Slider,"infoTrack",j(Ne,D.info.main,.5)),ct(D.Slider,"successTrack",j(Ne,D.success.main,.5)),ct(D.Slider,"warningTrack",j(Ne,D.warning.main,.5));const W=T?j(Oe,D.background.default,.985):qd(D.background.default,.98);ct(D.SnackbarContent,"bg",W),ct(D.SnackbarContent,"color",Ro(()=>T?GA.text.primary:D.getContrastText(W))),ct(D.SpeedDialAction,"fabHoverBg",qd(D.background.paper,.15)),ct(D.StepConnector,"border",$("palette-grey-600")),ct(D.StepContent,"border",$("palette-grey-600")),ct(D.Switch,"defaultColor",$("palette-grey-300")),ct(D.Switch,"defaultDisabledColor",$("palette-grey-600")),ct(D.Switch,"primaryDisabledColor",j(Ne,D.primary.main,.55)),ct(D.Switch,"secondaryDisabledColor",j(Ne,D.secondary.main,.55)),ct(D.Switch,"errorDisabledColor",j(Ne,D.error.main,.55)),ct(D.Switch,"infoDisabledColor",j(Ne,D.info.main,.55)),ct(D.Switch,"successDisabledColor",j(Ne,D.success.main,.55)),ct(D.Switch,"warningDisabledColor",j(Ne,D.warning.main,.55)),ct(D.TableCell,"border",j(Ne,j(qi,D.divider,1),.68)),ct(D.Tooltip,"bg",j(qi,D.grey[700],.92))}ya(D.background,"default"),ya(D.background,"paper"),ya(D.common,"background"),ya(D.common,"onBackground"),ya(D,"divider"),Object.keys(D).forEach(W=>{const B=D[W];W!=="tonalOffset"&&B&&typeof B=="object"&&(B.main&&ct(D[W],"mainChannel",Cc(Ec(B.main))),B.light&&ct(D[W],"lightChannel",Cc(Ec(B.light))),B.dark&&ct(D[W],"darkChannel",Cc(Ec(B.dark))),B.contrastText&&ct(D[W],"contrastTextChannel",Cc(Ec(B.contrastText))),W==="text"&&(ya(D[W],"primary"),ya(D[W],"secondary")),W==="action"&&(B.active&&ya(D[W],"active"),B.selected&&ya(D[W],"selected")))})}),_=e.reduce((z,D)=>tr(z,D),_);const M={prefix:a,disableCssColorScheme:o,shouldSkipGeneratingVar:u,getSelector:NF(_),enableContrastVars:s},{vars:k,generateThemeVars:N,generateStyleSheets:I}=rF(_,M);return _.vars=k,Object.entries(_.colorSchemes[_.defaultColorScheme]).forEach(([z,D])=>{_[z]=D}),_.generateThemeVars=N,_.generateStyleSheets=I,_.generateSpacing=function(){return OA(h.spacing,X0(this))},_.getColorSchemeSelector=oF(c),_.spacing=_.generateSpacing(),_.shouldSkipGeneratingVar=u,_.unstable_sxConfig={...hf,...h?.unstable_sxConfig},_.unstable_sx=function(D){return bi({sx:D,theme:this})},_.toRuntimeSource=KA,_}function QC(t,e,n){t.colorSchemes&&n&&(t.colorSchemes[e]={...n!==!0&&n,palette:db({...n===!0?{}:n.palette,mode:e})})}function Pp(t={},...e){const{palette:n,cssVariables:r=!1,colorSchemes:o=n?void 0:{light:!0},defaultColorScheme:a=n?.mode,...s}=t,u=a||"light",c=o?.[u],f={...o,...n?{[u]:{...typeof c!="boolean"&&c,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in t))return Fy(t,...e);let h=n;"palette"in t||f[u]&&(f[u]!==!0?h=f[u].palette:u==="dark"&&(h={mode:"dark"}));const p=Fy({...t,palette:h},...e);return p.defaultColorScheme=u,p.colorSchemes=f,p.palette.mode==="light"&&(p.colorSchemes.light={...f.light!==!0&&f.light,palette:p.palette},QC(p,"dark",f.dark)),p.palette.mode==="dark"&&(p.colorSchemes.dark={...f.dark!==!0&&f.dark,palette:p.palette},QC(p,"light",f.light)),p}return!n&&!("light"in f)&&u==="light"&&(f.light=!0),BF({...s,colorSchemes:f,defaultColorScheme:u,...typeof r!="boolean"&&r},...e)}const hb=Pp(),Lo="$$material";function nl(){const t=sb(hb);return t[Lo]||t}function FF(t){return U.jsx(PA,{...t,defaultTheme:hb,themeId:Lo})}function QA(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const io=t=>QA(t)&&t!=="classes",Tt=TB({themeId:Lo,defaultTheme:hb,rootShouldForwardProp:io});function LF(t){return function(n){return U.jsx(FF,{styles:typeof t=="function"?r=>t({theme:r,...n}):t})}}function zF(){return gA}const Le=GB;function me(t){return UB(t)}function VF(t){return he("MuiSvgIcon",t)}fe("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const UF=t=>{const{color:e,fontSize:n,classes:r}=t,o={root:["root",e!=="inherit"&&`color${Lt(e)}`,`fontSize${Lt(n)}`]};return de(o,VF,r)},jF=Tt("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${Lt(n.color)}`],e[`fontSize${Lt(n.fontSize)}`]]}})(Le(({theme:t})=>({userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:t.transitions?.create?.("fill",{duration:(t.vars??t).transitions?.duration?.shorter}),variants:[{props:e=>!e.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:t.typography?.pxToRem?.(20)||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:t.typography?.pxToRem?.(24)||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:t.typography?.pxToRem?.(35)||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter(([,e])=>e&&e.main).map(([e])=>({props:{color:e},style:{color:(t.vars??t).palette?.[e]?.main}})),{props:{color:"action"},style:{color:(t.vars??t).palette?.action?.active}},{props:{color:"disabled"},style:{color:(t.vars??t).palette?.action?.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}))),zy=O.forwardRef(function(e,n){const r=me({props:e,name:"MuiSvgIcon"}),{children:o,className:a,color:s="inherit",component:u="svg",fontSize:c="medium",htmlColor:f,inheritViewBox:h=!1,titleAccess:p,viewBox:v="0 0 24 24",...g}=r,y=O.isValidElement(o)&&o.type==="svg",x={...r,color:s,component:u,fontSize:c,instanceFontSize:e.fontSize,inheritViewBox:h,viewBox:v,hasSvgAsChild:y},w={};h||(w.viewBox=v);const S=UF(x);return U.jsxs(jF,{as:u,className:Ht(S.root,a),focusable:"false",color:f,"aria-hidden":p?void 0:!0,role:p?"img":void 0,ref:n,...w,...g,...y&&o.props,ownerState:x,children:[y?o.props.children:o,p?U.jsx("title",{children:p}):null]})});zy.muiName="SvgIcon";function Qo(t,e){function n(r,o){return U.jsx(zy,{"data-testid":void 0,ref:o,...r,children:t})}return n.muiName=zy.muiName,O.memo(O.forwardRef(n))}function ZA(t,e=166){let n;function r(...o){const a=()=>{t.apply(this,o)};clearTimeout(n),n=setTimeout(a,e)}return r.clear=()=>{clearTimeout(n)},r}function er(t){return t&&t.ownerDocument||document}function _a(t){return er(t).defaultView||window}function ZC(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function JC(t){const{controlled:e,default:n,name:r,state:o="value"}=t,{current:a}=O.useRef(e!==void 0),[s,u]=O.useState(n),c=a?e:s,f=O.useCallback(h=>{a||u(h)},[]);return[c,f]}function zo(t){const e=O.useRef(t);return go(()=>{e.current=t}),O.useRef((...n)=>(0,e.current)(...n)).current}function jn(...t){const e=O.useRef(void 0),n=O.useCallback(r=>{const o=t.map(a=>{if(a==null)return null;if(typeof a=="function"){const s=a,u=s(r);return typeof u=="function"?u:()=>{s(null)}}return a.current=r,()=>{a.current=null}});return()=>{o.forEach(a=>a?.())}},t);return O.useMemo(()=>t.every(r=>r==null)?null:r=>{e.current&&(e.current(),e.current=void 0),r!=null&&(e.current=n(r))},t)}function WF(t,e){const n=t.charCodeAt(2);return t[0]==="o"&&t[1]==="n"&&n>=65&&n<=90&&typeof e=="function"}function HF(t,e){if(!t)return e;function n(s,u){const c={};return Object.keys(u).forEach(f=>{WF(f,u[f])&&typeof s[f]=="function"&&(c[f]=(...h)=>{s[f](...h),u[f](...h)})}),c}if(typeof t=="function"||typeof e=="function")return s=>{const u=typeof e=="function"?e(s):e,c=typeof t=="function"?t({...s,...u}):t,f=Ht(s?.className,u?.className,c?.className),h=n(c,u);return{...u,...c,...h,...!!f&&{className:f},...u?.style&&c?.style&&{style:{...u.style,...c.style}},...u?.sx&&c?.sx&&{sx:[...Array.isArray(u.sx)?u.sx:[u.sx],...Array.isArray(c.sx)?c.sx:[c.sx]]}}};const r=e,o=n(t,r),a=Ht(r?.className,t?.className);return{...e,...t,...o,...!!a&&{className:a},...r?.style&&t?.style&&{style:{...r.style,...t.style}},...r?.sx&&t?.sx&&{sx:[...Array.isArray(r.sx)?r.sx:[r.sx],...Array.isArray(t.sx)?t.sx:[t.sx]]}}}function tE(t){try{return t.matches(":focus-visible")}catch{}return!1}const eE={};function JA(t,e){const n=O.useRef(eE);return n.current===eE&&(n.current=t(e)),n}class Ih{static create(){return new Ih}static use(){const e=JA(Ih.create).current,[n,r]=O.useState(!1);return e.shouldMount=n,e.setShouldMount=r,O.useEffect(e.mountEffect,[n]),e}constructor(){this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}mount(){return this.mounted||(this.mounted=$F(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}mountEffect=()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())};start(...e){this.mount().then(()=>this.ref.current?.start(...e))}stop(...e){this.mount().then(()=>this.ref.current?.stop(...e))}pulsate(...e){this.mount().then(()=>this.ref.current?.pulsate(...e))}}function GF(){return Ih.use()}function $F(){let t,e;const n=new Promise((r,o)=>{t=r,e=o});return n.resolve=t,n.reject=e,n}function t_(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Vy(t,e){return Vy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Vy(t,e)}function e_(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Vy(t,e)}const nE={disabled:!1},Bh=Zr.createContext(null);var qF=function(e){return e.scrollTop},Tc="unmounted",Zi="exited",Ji="entering",bu="entered",Uy="exiting",Zo=function(t){e_(e,t);function e(r,o){var a;a=t.call(this,r,o)||this;var s=o,u=s&&!s.isMounting?r.enter:r.appear,c;return a.appearStatus=null,r.in?u?(c=Zi,a.appearStatus=Ji):c=bu:r.unmountOnExit||r.mountOnEnter?c=Tc:c=Zi,a.state={status:c},a.nextCallback=null,a}e.getDerivedStateFromProps=function(o,a){var s=o.in;return s&&a.status===Tc?{status:Zi}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(o){var a=null;if(o!==this.props){var s=this.state.status;this.props.in?s!==Ji&&s!==bu&&(a=Ji):(s===Ji||s===bu)&&(a=Uy)}this.updateStatus(!1,a)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var o=this.props.timeout,a,s,u;return a=s=u=o,o!=null&&typeof o!="number"&&(a=o.exit,s=o.enter,u=o.appear!==void 0?o.appear:s),{exit:a,enter:s,appear:u}},n.updateStatus=function(o,a){if(o===void 0&&(o=!1),a!==null)if(this.cancelNextCallback(),a===Ji){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:Gd.findDOMNode(this);s&&qF(s)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Zi&&this.setState({status:Tc})},n.performEnter=function(o){var a=this,s=this.props.enter,u=this.context?this.context.isMounting:o,c=this.props.nodeRef?[u]:[Gd.findDOMNode(this),u],f=c[0],h=c[1],p=this.getTimeouts(),v=u?p.appear:p.enter;if(!o&&!s||nE.disabled){this.safeSetState({status:bu},function(){a.props.onEntered(f)});return}this.props.onEnter(f,h),this.safeSetState({status:Ji},function(){a.props.onEntering(f,h),a.onTransitionEnd(v,function(){a.safeSetState({status:bu},function(){a.props.onEntered(f,h)})})})},n.performExit=function(){var o=this,a=this.props.exit,s=this.getTimeouts(),u=this.props.nodeRef?void 0:Gd.findDOMNode(this);if(!a||nE.disabled){this.safeSetState({status:Zi},function(){o.props.onExited(u)});return}this.props.onExit(u),this.safeSetState({status:Uy},function(){o.props.onExiting(u),o.onTransitionEnd(s.exit,function(){o.safeSetState({status:Zi},function(){o.props.onExited(u)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(o,a){a=this.setNextCallback(a),this.setState(o,a)},n.setNextCallback=function(o){var a=this,s=!0;return this.nextCallback=function(u){s&&(s=!1,a.nextCallback=null,o(u))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(o,a){this.setNextCallback(a);var s=this.props.nodeRef?this.props.nodeRef.current:Gd.findDOMNode(this),u=o==null&&!this.props.addEndListener;if(!s||u){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],f=c[0],h=c[1];this.props.addEndListener(f,h)}o!=null&&setTimeout(this.nextCallback,o)},n.render=function(){var o=this.state.status;if(o===Tc)return null;var a=this.props,s=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var u=t_(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Zr.createElement(Bh.Provider,{value:null},typeof s=="function"?s(o,u):Zr.cloneElement(Zr.Children.only(s),u))},e}(Zr.Component);Zo.contextType=Bh;Zo.propTypes={};function pu(){}Zo.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:pu,onEntering:pu,onEntered:pu,onExit:pu,onExiting:pu,onExited:pu};Zo.UNMOUNTED=Tc;Zo.EXITED=Zi;Zo.ENTERING=Ji;Zo.ENTERED=bu;Zo.EXITING=Uy;function KF(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pb(t,e){var n=function(a){return e&&O.isValidElement(a)?e(a):a},r=Object.create(null);return t&&O.Children.map(t,function(o){return o}).forEach(function(o){r[o.key]=n(o)}),r}function XF(t,e){t=t||{},e=e||{};function n(h){return h in e?e[h]:t[h]}var r=Object.create(null),o=[];for(var a in t)a in e?o.length&&(r[a]=o,o=[]):o.push(a);var s,u={};for(var c in e){if(r[c])for(s=0;s<r[c].length;s++){var f=r[c][s];u[r[c][s]]=n(f)}u[c]=n(c)}for(s=0;s<o.length;s++)u[o[s]]=n(o[s]);return u}function as(t,e,n){return n[e]!=null?n[e]:t.props[e]}function YF(t,e){return pb(t.children,function(n){return O.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:as(n,"appear",t),enter:as(n,"enter",t),exit:as(n,"exit",t)})})}function QF(t,e,n){var r=pb(t.children),o=XF(e,r);return Object.keys(o).forEach(function(a){var s=o[a];if(O.isValidElement(s)){var u=a in e,c=a in r,f=e[a],h=O.isValidElement(f)&&!f.props.in;c&&(!u||h)?o[a]=O.cloneElement(s,{onExited:n.bind(null,s),in:!0,exit:as(s,"exit",t),enter:as(s,"enter",t)}):!c&&u&&!h?o[a]=O.cloneElement(s,{in:!1}):c&&u&&O.isValidElement(f)&&(o[a]=O.cloneElement(s,{onExited:n.bind(null,s),in:f.props.in,exit:as(s,"exit",t),enter:as(s,"enter",t)}))}}),o}var ZF=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},JF={component:"div",childFactory:function(e){return e}},mb=function(t){e_(e,t);function e(r,o){var a;a=t.call(this,r,o)||this;var s=a.handleExited.bind(KF(a));return a.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},a}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(o,a){var s=a.children,u=a.handleExited,c=a.firstRender;return{children:c?YF(o,u):QF(o,s,u),firstRender:!1}},n.handleExited=function(o,a){var s=pb(this.props.children);o.key in s||(o.props.onExited&&o.props.onExited(a),this.mounted&&this.setState(function(u){var c=Nh({},u.children);return delete c[o.key],{children:c}}))},n.render=function(){var o=this.props,a=o.component,s=o.childFactory,u=t_(o,["component","childFactory"]),c=this.state.contextValue,f=ZF(this.state.children).map(s);return delete u.appear,delete u.enter,delete u.exit,a===null?Zr.createElement(Bh.Provider,{value:c},f):Zr.createElement(Bh.Provider,{value:c},Zr.createElement(a,u,f))},e}(Zr.Component);mb.propTypes={};mb.defaultProps=JF;const tL=[];function eL(t){O.useEffect(t,tL)}class vb{static create(){return new vb}currentId=null;start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)};disposeEffect=()=>this.clear}function gb(){const t=JA(vb.create).current;return eL(t.disposeEffect),t}function nL(t){const{className:e,classes:n,pulsate:r=!1,rippleX:o,rippleY:a,rippleSize:s,in:u,onExited:c,timeout:f}=t,[h,p]=O.useState(!1),v=Ht(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),g={width:s,height:s,top:-(s/2)+a,left:-(s/2)+o},y=Ht(n.child,h&&n.childLeaving,r&&n.childPulsate);return!u&&!h&&p(!0),O.useEffect(()=>{if(!u&&c!=null){const x=setTimeout(c,f);return()=>{clearTimeout(x)}}},[c,u,f]),U.jsx("span",{className:v,style:g,children:U.jsx("span",{className:y})})}const Kr=fe("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),jy=550,rL=80,oL=gf`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,aL=gf`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,iL=gf`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,sL=Tt("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),uL=Tt(nL,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${Kr.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${oL};
    animation-duration: ${jy}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  &.${Kr.ripplePulsate} {
    animation-duration: ${({theme:t})=>t.transitions.duration.shorter}ms;
  }

  & .${Kr.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${Kr.childLeaving} {
    opacity: 0;
    animation-name: ${aL};
    animation-duration: ${jy}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  & .${Kr.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${iL};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,lL=O.forwardRef(function(e,n){const r=me({props:e,name:"MuiTouchRipple"}),{center:o=!1,classes:a={},className:s,...u}=r,[c,f]=O.useState([]),h=O.useRef(0),p=O.useRef(null);O.useEffect(()=>{p.current&&(p.current(),p.current=null)},[c]);const v=O.useRef(!1),g=gb(),y=O.useRef(null),x=O.useRef(null),w=O.useCallback(T=>{const{pulsate:R,rippleX:_,rippleY:M,rippleSize:k,cb:N}=T;f(I=>[...I,U.jsx(uL,{classes:{ripple:Ht(a.ripple,Kr.ripple),rippleVisible:Ht(a.rippleVisible,Kr.rippleVisible),ripplePulsate:Ht(a.ripplePulsate,Kr.ripplePulsate),child:Ht(a.child,Kr.child),childLeaving:Ht(a.childLeaving,Kr.childLeaving),childPulsate:Ht(a.childPulsate,Kr.childPulsate)},timeout:jy,pulsate:R,rippleX:_,rippleY:M,rippleSize:k},h.current)]),h.current+=1,p.current=N},[a]),S=O.useCallback((T={},R={},_=()=>{})=>{const{pulsate:M=!1,center:k=o||R.pulsate,fakeElement:N=!1}=R;if(T?.type==="mousedown"&&v.current){v.current=!1;return}T?.type==="touchstart"&&(v.current=!0);const I=N?null:x.current,z=I?I.getBoundingClientRect():{width:0,height:0,left:0,top:0};let D,$,j;if(k||T===void 0||T.clientX===0&&T.clientY===0||!T.clientX&&!T.touches)D=Math.round(z.width/2),$=Math.round(z.height/2);else{const{clientX:W,clientY:B}=T.touches&&T.touches.length>0?T.touches[0]:T;D=Math.round(W-z.left),$=Math.round(B-z.top)}if(k)j=Math.sqrt((2*z.width**2+z.height**2)/3),j%2===0&&(j+=1);else{const W=Math.max(Math.abs((I?I.clientWidth:0)-D),D)*2+2,B=Math.max(Math.abs((I?I.clientHeight:0)-$),$)*2+2;j=Math.sqrt(W**2+B**2)}T?.touches?y.current===null&&(y.current=()=>{w({pulsate:M,rippleX:D,rippleY:$,rippleSize:j,cb:_})},g.start(rL,()=>{y.current&&(y.current(),y.current=null)})):w({pulsate:M,rippleX:D,rippleY:$,rippleSize:j,cb:_})},[o,w,g]),A=O.useCallback(()=>{S({},{pulsate:!0})},[S]),E=O.useCallback((T,R)=>{if(g.clear(),T?.type==="touchend"&&y.current){y.current(),y.current=null,g.start(0,()=>{E(T,R)});return}y.current=null,f(_=>_.length>0?_.slice(1):_),p.current=R},[g]);return O.useImperativeHandle(n,()=>({pulsate:A,start:S,stop:E}),[A,S,E]),U.jsx(sL,{className:Ht(Kr.root,a.root,s),ref:x,...u,children:U.jsx(mb,{component:null,exit:!0,children:c})})});function cL(t){return he("MuiButtonBase",t)}const fL=fe("MuiButtonBase",["root","disabled","focusVisible"]),dL=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:o}=t,s=de({root:["root",e&&"disabled",n&&"focusVisible"]},cL,o);return n&&r&&(s.root+=` ${r}`),s},hL=Tt("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${fL.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),n_=O.forwardRef(function(e,n){const r=me({props:e,name:"MuiButtonBase"}),{action:o,centerRipple:a=!1,children:s,className:u,component:c="button",disabled:f=!1,disableRipple:h=!1,disableTouchRipple:p=!1,focusRipple:v=!1,focusVisibleClassName:g,LinkComponent:y="a",onBlur:x,onClick:w,onContextMenu:S,onDragLeave:A,onFocus:E,onFocusVisible:T,onKeyDown:R,onKeyUp:_,onMouseDown:M,onMouseLeave:k,onMouseUp:N,onTouchEnd:I,onTouchMove:z,onTouchStart:D,tabIndex:$=0,TouchRippleProps:j,touchRippleRef:W,type:B,...H}=r,q=O.useRef(null),X=GF(),F=jn(X.ref,W),[Q,et]=O.useState(!1);f&&Q&&et(!1),O.useImperativeHandle(o,()=>({focusVisible:()=>{et(!0),q.current.focus()}}),[]);const nt=X.shouldMount&&!h&&!f;O.useEffect(()=>{Q&&v&&!h&&X.pulsate()},[h,v,Q,X]);const lt=ba(X,"start",M,p),pt=ba(X,"stop",S,p),vt=ba(X,"stop",A,p),bt=ba(X,"stop",N,p),yt=ba(X,"stop",_t=>{Q&&_t.preventDefault(),k&&k(_t)},p),wt=ba(X,"start",D,p),Et=ba(X,"stop",I,p),xt=ba(X,"stop",z,p),At=ba(X,"stop",_t=>{tE(_t.target)||et(!1),x&&x(_t)},!1),Rt=zo(_t=>{q.current||(q.current=_t.currentTarget),tE(_t.target)&&(et(!0),T&&T(_t)),E&&E(_t)}),St=()=>{const _t=q.current;return c&&c!=="button"&&!(_t.tagName==="A"&&_t.href)},zt=zo(_t=>{v&&!_t.repeat&&Q&&_t.key===" "&&X.stop(_t,()=>{X.start(_t)}),_t.target===_t.currentTarget&&St()&&_t.key===" "&&_t.preventDefault(),R&&R(_t),_t.target===_t.currentTarget&&St()&&_t.key==="Enter"&&!f&&(_t.preventDefault(),w&&w(_t))}),Xt=zo(_t=>{v&&_t.key===" "&&Q&&!_t.defaultPrevented&&X.stop(_t,()=>{X.pulsate(_t)}),_&&_(_t),w&&_t.target===_t.currentTarget&&St()&&_t.key===" "&&!_t.defaultPrevented&&w(_t)});let Qt=c;Qt==="button"&&(H.href||H.to)&&(Qt=y);const se={};Qt==="button"?(se.type=B===void 0?"button":B,se.disabled=f):(!H.href&&!H.to&&(se.role="button"),f&&(se["aria-disabled"]=f));const te=jn(n,q),oe={...r,centerRipple:a,component:c,disabled:f,disableRipple:h,disableTouchRipple:p,focusRipple:v,tabIndex:$,focusVisible:Q},Zt=dL(oe);return U.jsxs(hL,{as:Qt,className:Ht(Zt.root,u),ownerState:oe,onBlur:At,onClick:w,onContextMenu:pt,onFocus:Rt,onKeyDown:zt,onKeyUp:Xt,onMouseDown:lt,onMouseLeave:yt,onMouseUp:bt,onDragLeave:vt,onTouchEnd:Et,onTouchMove:xt,onTouchStart:wt,ref:te,tabIndex:f?-1:$,type:B,...se,...H,children:[s,nt?U.jsx(lL,{ref:F,center:a,...j}):null]})});function ba(t,e,n,r=!1){return zo(o=>(n&&n(o),r||t[e](o),!0))}function pL(t){return typeof t.main=="string"}function mL(t,e=[]){if(!pL(t))return!1;for(const n of e)if(!t.hasOwnProperty(n)||typeof t[n]!="string")return!1;return!0}function to(t=[]){return([,e])=>e&&mL(e,t)}function vL(t){return he("MuiCircularProgress",t)}fe("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const li=44,Wy=gf`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,Hy=gf`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,gL=typeof Wy!="string"?ob`
        animation: ${Wy} 1.4s linear infinite;
      `:null,yL=typeof Hy!="string"?ob`
        animation: ${Hy} 1.4s ease-in-out infinite;
      `:null,bL=t=>{const{classes:e,variant:n,color:r,disableShrink:o}=t,a={root:["root",n,`color${Lt(r)}`],svg:["svg"],circle:["circle",`circle${Lt(n)}`,o&&"circleDisableShrink"]};return de(a,vL,e)},xL=Tt("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${Lt(n.color)}`]]}})(Le(({theme:t})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:gL||{animation:`${Wy} 1.4s linear infinite`}},...Object.entries(t.palette).filter(to()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}}))]}))),wL=Tt("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),SL=Tt("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${Lt(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(Le(({theme:t})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:yL||{animation:`${Hy} 1.4s ease-in-out infinite`}}]}))),r_=O.forwardRef(function(e,n){const r=me({props:e,name:"MuiCircularProgress"}),{className:o,color:a="primary",disableShrink:s=!1,size:u=40,style:c,thickness:f=3.6,value:h=0,variant:p="indeterminate",...v}=r,g={...r,color:a,disableShrink:s,size:u,thickness:f,value:h,variant:p},y=bL(g),x={},w={},S={};if(p==="determinate"){const A=2*Math.PI*((li-f)/2);x.strokeDasharray=A.toFixed(3),S["aria-valuenow"]=Math.round(h),x.strokeDashoffset=`${((100-h)/100*A).toFixed(3)}px`,w.transform="rotate(-90deg)"}return U.jsx(xL,{className:Ht(y.root,o),style:{width:u,height:u,...w,...c},ownerState:g,ref:n,role:"progressbar",...S,...v,children:U.jsx(wL,{className:y.svg,ownerState:g,viewBox:`${li/2} ${li/2} ${li} ${li}`,children:U.jsx(SL,{className:y.circle,style:x,ownerState:g,cx:li,cy:li,r:(li-f)/2,fill:"none",strokeWidth:f})})})});function CL(t){return he("MuiButton",t)}const Ki=fe("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),EL=O.createContext({}),TL=O.createContext(void 0),RL=t=>{const{color:e,disableElevation:n,fullWidth:r,size:o,variant:a,loading:s,loadingPosition:u,classes:c}=t,f={root:["root",s&&"loading",a,`${a}${Lt(e)}`,`size${Lt(o)}`,`${a}Size${Lt(o)}`,`color${Lt(e)}`,n&&"disableElevation",r&&"fullWidth",s&&`loadingPosition${Lt(u)}`],startIcon:["icon","startIcon",`iconSize${Lt(o)}`],endIcon:["icon","endIcon",`iconSize${Lt(o)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},h=de(f,CL,c);return{...c,...h}},o_=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],AL=Tt(n_,{shouldForwardProp:t=>io(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${Lt(n.color)}`],e[`size${Lt(n.size)}`],e[`${n.variant}Size${Lt(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth,n.loading&&e.loading]}})(Le(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],n=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return{...t.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${Ki.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(t.vars||t).shadows[2],"&:hover":{boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2]}},"&:active":{boxShadow:(t.vars||t).shadows[8]},[`&.${Ki.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},[`&.${Ki.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${Ki.disabled}`]:{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(t.palette).filter(to()).map(([r])=>({props:{color:r},style:{"--variant-textColor":(t.vars||t).palette[r].main,"--variant-outlinedColor":(t.vars||t).palette[r].main,"--variant-outlinedBorder":t.alpha((t.vars||t).palette[r].main,.5),"--variant-containedColor":(t.vars||t).palette[r].contrastText,"--variant-containedBg":(t.vars||t).palette[r].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(t.vars||t).palette[r].dark,"--variant-textBg":t.alpha((t.vars||t).palette[r].main,(t.vars||t).palette.action.hoverOpacity),"--variant-outlinedBorder":(t.vars||t).palette[r].main,"--variant-outlinedBg":t.alpha((t.vars||t).palette[r].main,(t.vars||t).palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedBg:e,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedHoverBg:n,"--variant-textBg":t.alpha((t.vars||t).palette.text.primary,(t.vars||t).palette.action.hoverOpacity),"--variant-outlinedBg":t.alpha((t.vars||t).palette.text.primary,(t.vars||t).palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:t.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Ki.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Ki.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),[`&.${Ki.loading}`]:{color:"transparent"}}}]}})),_L=Tt("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,n.loading&&e.startIconLoadingStart,e[`iconSize${Lt(n.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...o_]})),DL=Tt("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,n.loading&&e.endIconLoadingEnd,e[`iconSize${Lt(n.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...o_]})),kL=Tt("span",{name:"MuiButton",slot:"LoadingIndicator"})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(t.vars||t).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),rE=Tt("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),Xn=O.forwardRef(function(e,n){const r=O.useContext(EL),o=O.useContext(TL),a=kh(r,e),s=me({props:a,name:"MuiButton"}),{children:u,color:c="primary",component:f="button",className:h,disabled:p=!1,disableElevation:v=!1,disableFocusRipple:g=!1,endIcon:y,focusVisibleClassName:x,fullWidth:w=!1,id:S,loading:A=null,loadingIndicator:E,loadingPosition:T="center",size:R="medium",startIcon:_,type:M,variant:k="text",...N}=s,I=el(S),z=E??U.jsx(r_,{"aria-labelledby":I,color:"inherit",size:16}),D={...s,color:c,component:f,disabled:p,disableElevation:v,disableFocusRipple:g,fullWidth:w,loading:A,loadingIndicator:z,loadingPosition:T,size:R,type:M,variant:k},$=RL(D),j=(_||A&&T==="start")&&U.jsx(_L,{className:$.startIcon,ownerState:D,children:_||U.jsx(rE,{className:$.loadingIconPlaceholder,ownerState:D})}),W=(y||A&&T==="end")&&U.jsx(DL,{className:$.endIcon,ownerState:D,children:y||U.jsx(rE,{className:$.loadingIconPlaceholder,ownerState:D})}),B=o||"",H=typeof A=="boolean"?U.jsx("span",{className:$.loadingWrapper,style:{display:"contents"},children:A&&U.jsx(kL,{className:$.loadingIndicator,ownerState:D,children:z})}):null;return U.jsxs(AL,{ownerState:D,className:Ht(r.className,$.root,h,B),component:f,disabled:p||A,focusRipple:!g,focusVisibleClassName:Ht($.focusVisible,x),ref:n,type:M,id:A?I:S,...N,classes:$,children:[j,T!=="end"&&H,u,T==="end"&&H,W]})});function ML({theme:t,...e}){const n=Lo in t?t[Lo]:void 0;return U.jsx(jA,{...e,themeId:n?Lo:void 0,theme:n||t})}const Kd={colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:NL}=JB({themeId:Lo,theme:()=>Pp({cssVariables:!0}),colorSchemeStorageKey:Kd.colorSchemeStorageKey,modeStorageKey:Kd.modeStorageKey,defaultColorScheme:{light:Kd.defaultLightColorScheme,dark:Kd.defaultDarkColorScheme},resolveTheme:t=>{const e={...t,typography:qA(t.palette,t.typography)};return e.unstable_sx=function(r){return bi({sx:r,theme:this})},e}}),OL=NL;function PL({theme:t,...e}){const n=O.useMemo(()=>{if(typeof t=="function")return t;const r=Lo in t?t[Lo]:t;return"colorSchemes"in r?null:"vars"in r?t:{...t,vars:null}},[t]);return n?U.jsx(ML,{theme:n,...e}):U.jsx(OL,{theme:t,...e})}const a_=t=>t.scrollTop;function Fh(t,e){const{timeout:n,easing:r,style:o={}}=t;return{duration:o.transitionDuration??(typeof n=="number"?n:n[e.mode]||0),easing:o.transitionTimingFunction??(typeof r=="object"?r[e.mode]:r),delay:o.transitionDelay}}function IL(t){return he("MuiPaper",t)}fe("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const BL=t=>{const{square:e,elevation:n,variant:r,classes:o}=t,a={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return de(a,IL,o)},FL=Tt("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(Le(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(t.vars||t).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),rl=O.forwardRef(function(e,n){const r=me({props:e,name:"MuiPaper"}),o=nl(),{className:a,component:s="div",elevation:u=1,square:c=!1,variant:f="elevation",...h}=r,p={...r,component:s,elevation:u,square:c,variant:f},v=BL(p);return U.jsx(FL,{as:s,ownerState:p,className:Ht(v.root,a),ref:n,...h,style:{...f==="elevation"&&{"--Paper-shadow":(o.vars||o).shadows[u],...o.vars&&{"--Paper-overlay":o.vars.overlays?.[u]},...!o.vars&&o.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${Ph("#fff",Ly(u))}, ${Ph("#fff",Ly(u))})`}},...h.style}})});function LL(t){return typeof t=="string"}function i_(t,e,n){return t===void 0||LL(t)?e:{...e,ownerState:{...e.ownerState,...n}}}function s_(t,e,n){return typeof t=="function"?t(e,n):t}function Lh(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function oE(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function u_(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:o,className:a}=t;if(!e){const g=Ht(n?.className,a,o?.className,r?.className),y={...n?.style,...o?.style,...r?.style},x={...n,...o,...r};return g.length>0&&(x.className=g),Object.keys(y).length>0&&(x.style=y),{props:x,internalRef:void 0}}const s=Lh({...o,...r}),u=oE(r),c=oE(o),f=e(s),h=Ht(f?.className,n?.className,a,o?.className,r?.className),p={...f?.style,...n?.style,...o?.style,...r?.style},v={...f,...n,...c,...u};return h.length>0&&(v.className=h),Object.keys(p).length>0&&(v.style=p),{props:v,internalRef:f.ref}}function ge(t,e){const{className:n,elementType:r,ownerState:o,externalForwardedProps:a,internalForwardedProps:s,shouldForwardComponentProp:u=!1,...c}=e,{component:f,slots:h={[t]:void 0},slotProps:p={[t]:void 0},...v}=a,g=h[t]||r,y=s_(p[t],o),{props:{component:x,...w},internalRef:S}=u_({className:n,...c,externalForwardedProps:t==="root"?v:void 0,externalSlotProps:y}),A=jn(S,y?.ref,e.ref),E=t==="root"?x||f:x,T=i_(g,{...t==="root"&&!f&&!h[t]&&s,...t!=="root"&&!h[t]&&s,...w,...E&&!u&&{as:E},...E&&u&&{component:E},ref:A},o);return[g,T]}function zL(t){return he("MuiAlert",t)}const aE=fe("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function VL(t){return he("MuiIconButton",t)}const iE=fe("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),UL=t=>{const{classes:e,disabled:n,color:r,edge:o,size:a,loading:s}=t,u={root:["root",s&&"loading",n&&"disabled",r!=="default"&&`color${Lt(r)}`,o&&`edge${Lt(o)}`,`size${Lt(a)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return de(u,VL,e)},jL=Tt(n_,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.loading&&e.loading,n.color!=="default"&&e[`color${Lt(n.color)}`],n.edge&&e[`edge${Lt(n.edge)}`],e[`size${Lt(n.size)}`]]}})(Le(({theme:t})=>({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":t.alpha((t.vars||t).palette.action.active,(t.vars||t).palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),Le(({theme:t})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(t.palette).filter(to()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),...Object.entries(t.palette).filter(to()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":t.alpha((t.vars||t).palette[e].main,(t.vars||t).palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:t.typography.pxToRem(28)}}],[`&.${iE.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled},[`&.${iE.loading}`]:{color:"transparent"}}))),WL=Tt("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(t.vars||t).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),HL=O.forwardRef(function(e,n){const r=me({props:e,name:"MuiIconButton"}),{edge:o=!1,children:a,className:s,color:u="default",disabled:c=!1,disableFocusRipple:f=!1,size:h="medium",id:p,loading:v=null,loadingIndicator:g,...y}=r,x=el(p),w=g??U.jsx(r_,{"aria-labelledby":x,color:"inherit",size:16}),S={...r,edge:o,color:u,disabled:c,disableFocusRipple:f,loading:v,loadingIndicator:w,size:h},A=UL(S);return U.jsxs(jL,{id:v?x:p,className:Ht(A.root,s),centerRipple:!0,focusRipple:!f,disabled:c||v,ref:n,...y,ownerState:S,children:[typeof v=="boolean"&&U.jsx("span",{className:A.loadingWrapper,style:{display:"contents"},children:U.jsx(WL,{className:A.loadingIndicator,ownerState:S,children:v&&w})}),a]})}),GL=Qo(U.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"})),$L=Qo(U.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"})),qL=Qo(U.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),KL=Qo(U.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"})),XL=Qo(U.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),YL=t=>{const{variant:e,color:n,severity:r,classes:o}=t,a={root:["root",`color${Lt(n||r)}`,`${e}${Lt(n||r)}`,`${e}`],icon:["icon"],message:["message"],action:["action"]};return de(a,zL,o)},QL=Tt(rl,{name:"MuiAlert",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${Lt(n.color||n.severity)}`]]}})(Le(({theme:t})=>{const e=t.palette.mode==="light"?t.darken:t.lighten,n=t.palette.mode==="light"?t.lighten:t.darken;return{...t.typography.body2,backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter(to(["light"])).map(([r])=>({props:{colorSeverity:r,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert[`${r}Color`]:e(t.palette[r].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${r}StandardBg`]:n(t.palette[r].light,.9),[`& .${aE.icon}`]:t.vars?{color:t.vars.palette.Alert[`${r}IconColor`]}:{color:t.palette[r].main}}})),...Object.entries(t.palette).filter(to(["light"])).map(([r])=>({props:{colorSeverity:r,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert[`${r}Color`]:e(t.palette[r].light,.6),border:`1px solid ${(t.vars||t).palette[r].light}`,[`& .${aE.icon}`]:t.vars?{color:t.vars.palette.Alert[`${r}IconColor`]}:{color:t.palette[r].main}}})),...Object.entries(t.palette).filter(to(["dark"])).map(([r])=>({props:{colorSeverity:r,variant:"filled"},style:{fontWeight:t.typography.fontWeightMedium,...t.vars?{color:t.vars.palette.Alert[`${r}FilledColor`],backgroundColor:t.vars.palette.Alert[`${r}FilledBg`]}:{backgroundColor:t.palette.mode==="dark"?t.palette[r].dark:t.palette[r].main,color:t.palette.getContrastText(t.palette[r].main)}}}))]}})),ZL=Tt("div",{name:"MuiAlert",slot:"Icon"})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),JL=Tt("div",{name:"MuiAlert",slot:"Message"})({padding:"8px 0",minWidth:0,overflow:"auto"}),t5=Tt("div",{name:"MuiAlert",slot:"Action"})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),sE={success:U.jsx(GL,{fontSize:"inherit"}),warning:U.jsx($L,{fontSize:"inherit"}),error:U.jsx(qL,{fontSize:"inherit"}),info:U.jsx(KL,{fontSize:"inherit"})},zh=O.forwardRef(function(e,n){const r=me({props:e,name:"MuiAlert"}),{action:o,children:a,className:s,closeText:u="Close",color:c,components:f={},componentsProps:h={},icon:p,iconMapping:v=sE,onClose:g,role:y="alert",severity:x="success",slotProps:w={},slots:S={},variant:A="standard",...E}=r,T={...r,color:c,severity:x,variant:A,colorSeverity:c||x},R=YL(T),_={slots:{closeButton:f.CloseButton,closeIcon:f.CloseIcon,...S},slotProps:{...h,...w}},[M,k]=ge("root",{ref:n,shouldForwardComponentProp:!0,className:Ht(R.root,s),elementType:QL,externalForwardedProps:{..._,...E},ownerState:T,additionalProps:{role:y,elevation:0}}),[N,I]=ge("icon",{className:R.icon,elementType:ZL,externalForwardedProps:_,ownerState:T}),[z,D]=ge("message",{className:R.message,elementType:JL,externalForwardedProps:_,ownerState:T}),[$,j]=ge("action",{className:R.action,elementType:t5,externalForwardedProps:_,ownerState:T}),[W,B]=ge("closeButton",{elementType:HL,externalForwardedProps:_,ownerState:T}),[H,q]=ge("closeIcon",{elementType:XL,externalForwardedProps:_,ownerState:T});return U.jsxs(M,{...k,children:[p!==!1?U.jsx(N,{...I,children:p||v[x]||sE[x]}):null,U.jsx(z,{...D,children:a}),o!=null?U.jsx($,{...j,children:o}):null,o==null&&g?U.jsx($,{...j,children:U.jsx(W,{size:"small","aria-label":u,title:u,color:"inherit",onClick:g,...B,children:U.jsx(H,{fontSize:"small",...q})})}):null]})});function e5(t){return he("MuiTypography",t)}fe("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const n5={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},r5=zF(),o5=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:o,variant:a,classes:s}=t,u={root:["root",a,t.align!=="inherit"&&`align${Lt(e)}`,n&&"gutterBottom",r&&"noWrap",o&&"paragraph"]};return de(u,e5,s)},a5=Tt("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${Lt(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(Le(({theme:t})=>({margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter(([e,n])=>e!=="inherit"&&n&&typeof n=="object").map(([e,n])=>({props:{variant:e},style:n})),...Object.entries(t.palette).filter(to()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),...Object.entries(t.palette?.text||{}).filter(([,e])=>typeof e=="string").map(([e])=>({props:{color:`text${Lt(e)}`},style:{color:(t.vars||t).palette.text[e]}})),{props:({ownerState:e})=>e.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:e})=>e.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:e})=>e.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:e})=>e.paragraph,style:{marginBottom:16}}]}))),uE={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Ca=O.forwardRef(function(e,n){const{color:r,...o}=me({props:e,name:"MuiTypography"}),a=!n5[r],s=r5({...o,...a&&{color:r}}),{align:u="inherit",className:c,component:f,gutterBottom:h=!1,noWrap:p=!1,paragraph:v=!1,variant:g="body1",variantMapping:y=uE,...x}=s,w={...s,align:u,color:r,className:c,component:f,gutterBottom:h,noWrap:p,paragraph:v,variant:g,variantMapping:y},S=f||(v?"p":y[g]||uE[g])||"span",A=o5(w);return U.jsx(a5,{as:S,ref:n,className:Ht(A.root,c),...x,ownerState:w,style:{...u!=="inherit"&&{"--Typography-textAlign":u},...x.style}})});var pr="top",ro="bottom",oo="right",mr="left",yb="auto",yf=[pr,ro,oo,mr],Uu="start",Gc="end",i5="clippingParents",l_="viewport",hc="popper",s5="reference",lE=yf.reduce(function(t,e){return t.concat([e+"-"+Uu,e+"-"+Gc])},[]),c_=[].concat(yf,[yb]).reduce(function(t,e){return t.concat([e,e+"-"+Uu,e+"-"+Gc])},[]),u5="beforeRead",l5="read",c5="afterRead",f5="beforeMain",d5="main",h5="afterMain",p5="beforeWrite",m5="write",v5="afterWrite",g5=[u5,l5,c5,f5,d5,h5,p5,m5,v5];function Ko(t){return t?(t.nodeName||"").toLowerCase():null}function Br(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function ms(t){var e=Br(t).Element;return t instanceof e||t instanceof Element}function eo(t){var e=Br(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function bb(t){if(typeof ShadowRoot>"u")return!1;var e=Br(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function y5(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},o=e.attributes[n]||{},a=e.elements[n];!eo(a)||!Ko(a)||(Object.assign(a.style,r),Object.keys(o).forEach(function(s){var u=o[s];u===!1?a.removeAttribute(s):a.setAttribute(s,u===!0?"":u)}))})}function b5(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var o=e.elements[r],a=e.attributes[r]||{},s=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),u=s.reduce(function(c,f){return c[f]="",c},{});!eo(o)||!Ko(o)||(Object.assign(o.style,u),Object.keys(a).forEach(function(c){o.removeAttribute(c)}))})}}const x5={name:"applyStyles",enabled:!0,phase:"write",fn:y5,effect:b5,requires:["computeStyles"]};function Vo(t){return t.split("-")[0]}var cs=Math.max,Vh=Math.min,ju=Math.round;function Gy(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function f_(){return!/^((?!chrome|android).)*safari/i.test(Gy())}function Wu(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),o=1,a=1;e&&eo(t)&&(o=t.offsetWidth>0&&ju(r.width)/t.offsetWidth||1,a=t.offsetHeight>0&&ju(r.height)/t.offsetHeight||1);var s=ms(t)?Br(t):window,u=s.visualViewport,c=!f_()&&n,f=(r.left+(c&&u?u.offsetLeft:0))/o,h=(r.top+(c&&u?u.offsetTop:0))/a,p=r.width/o,v=r.height/a;return{width:p,height:v,top:h,right:f+p,bottom:h+v,left:f,x:f,y:h}}function xb(t){var e=Wu(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function d_(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&bb(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Da(t){return Br(t).getComputedStyle(t)}function w5(t){return["table","td","th"].indexOf(Ko(t))>=0}function Ti(t){return((ms(t)?t.ownerDocument:t.document)||window.document).documentElement}function Ip(t){return Ko(t)==="html"?t:t.assignedSlot||t.parentNode||(bb(t)?t.host:null)||Ti(t)}function cE(t){return!eo(t)||Da(t).position==="fixed"?null:t.offsetParent}function S5(t){var e=/firefox/i.test(Gy()),n=/Trident/i.test(Gy());if(n&&eo(t)){var r=Da(t);if(r.position==="fixed")return null}var o=Ip(t);for(bb(o)&&(o=o.host);eo(o)&&["html","body"].indexOf(Ko(o))<0;){var a=Da(o);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return o;o=o.parentNode}return null}function bf(t){for(var e=Br(t),n=cE(t);n&&w5(n)&&Da(n).position==="static";)n=cE(n);return n&&(Ko(n)==="html"||Ko(n)==="body"&&Da(n).position==="static")?e:n||S5(t)||e}function wb(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function _c(t,e,n){return cs(t,Vh(e,n))}function C5(t,e,n){var r=_c(t,e,n);return r>n?n:r}function h_(){return{top:0,right:0,bottom:0,left:0}}function p_(t){return Object.assign({},h_(),t)}function m_(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var E5=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,p_(typeof e!="number"?e:m_(e,yf))};function T5(t){var e,n=t.state,r=t.name,o=t.options,a=n.elements.arrow,s=n.modifiersData.popperOffsets,u=Vo(n.placement),c=wb(u),f=[mr,oo].indexOf(u)>=0,h=f?"height":"width";if(!(!a||!s)){var p=E5(o.padding,n),v=xb(a),g=c==="y"?pr:mr,y=c==="y"?ro:oo,x=n.rects.reference[h]+n.rects.reference[c]-s[c]-n.rects.popper[h],w=s[c]-n.rects.reference[c],S=bf(a),A=S?c==="y"?S.clientHeight||0:S.clientWidth||0:0,E=x/2-w/2,T=p[g],R=A-v[h]-p[y],_=A/2-v[h]/2+E,M=_c(T,_,R),k=c;n.modifiersData[r]=(e={},e[k]=M,e.centerOffset=M-_,e)}}function R5(t){var e=t.state,n=t.options,r=n.element,o=r===void 0?"[data-popper-arrow]":r;o!=null&&(typeof o=="string"&&(o=e.elements.popper.querySelector(o),!o)||d_(e.elements.popper,o)&&(e.elements.arrow=o))}const A5={name:"arrow",enabled:!0,phase:"main",fn:T5,effect:R5,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Hu(t){return t.split("-")[1]}var _5={top:"auto",right:"auto",bottom:"auto",left:"auto"};function D5(t,e){var n=t.x,r=t.y,o=e.devicePixelRatio||1;return{x:ju(n*o)/o||0,y:ju(r*o)/o||0}}function fE(t){var e,n=t.popper,r=t.popperRect,o=t.placement,a=t.variation,s=t.offsets,u=t.position,c=t.gpuAcceleration,f=t.adaptive,h=t.roundOffsets,p=t.isFixed,v=s.x,g=v===void 0?0:v,y=s.y,x=y===void 0?0:y,w=typeof h=="function"?h({x:g,y:x}):{x:g,y:x};g=w.x,x=w.y;var S=s.hasOwnProperty("x"),A=s.hasOwnProperty("y"),E=mr,T=pr,R=window;if(f){var _=bf(n),M="clientHeight",k="clientWidth";if(_===Br(n)&&(_=Ti(n),Da(_).position!=="static"&&u==="absolute"&&(M="scrollHeight",k="scrollWidth")),_=_,o===pr||(o===mr||o===oo)&&a===Gc){T=ro;var N=p&&_===R&&R.visualViewport?R.visualViewport.height:_[M];x-=N-r.height,x*=c?1:-1}if(o===mr||(o===pr||o===ro)&&a===Gc){E=oo;var I=p&&_===R&&R.visualViewport?R.visualViewport.width:_[k];g-=I-r.width,g*=c?1:-1}}var z=Object.assign({position:u},f&&_5),D=h===!0?D5({x:g,y:x},Br(n)):{x:g,y:x};if(g=D.x,x=D.y,c){var $;return Object.assign({},z,($={},$[T]=A?"0":"",$[E]=S?"0":"",$.transform=(R.devicePixelRatio||1)<=1?"translate("+g+"px, "+x+"px)":"translate3d("+g+"px, "+x+"px, 0)",$))}return Object.assign({},z,(e={},e[T]=A?x+"px":"",e[E]=S?g+"px":"",e.transform="",e))}function k5(t){var e=t.state,n=t.options,r=n.gpuAcceleration,o=r===void 0?!0:r,a=n.adaptive,s=a===void 0?!0:a,u=n.roundOffsets,c=u===void 0?!0:u,f={placement:Vo(e.placement),variation:Hu(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:o,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,fE(Object.assign({},f,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,fE(Object.assign({},f,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const M5={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:k5,data:{}};var Xd={passive:!0};function N5(t){var e=t.state,n=t.instance,r=t.options,o=r.scroll,a=o===void 0?!0:o,s=r.resize,u=s===void 0?!0:s,c=Br(e.elements.popper),f=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&f.forEach(function(h){h.addEventListener("scroll",n.update,Xd)}),u&&c.addEventListener("resize",n.update,Xd),function(){a&&f.forEach(function(h){h.removeEventListener("scroll",n.update,Xd)}),u&&c.removeEventListener("resize",n.update,Xd)}}const O5={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:N5,data:{}};var P5={left:"right",right:"left",bottom:"top",top:"bottom"};function Sh(t){return t.replace(/left|right|bottom|top/g,function(e){return P5[e]})}var I5={start:"end",end:"start"};function dE(t){return t.replace(/start|end/g,function(e){return I5[e]})}function Sb(t){var e=Br(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Cb(t){return Wu(Ti(t)).left+Sb(t).scrollLeft}function B5(t,e){var n=Br(t),r=Ti(t),o=n.visualViewport,a=r.clientWidth,s=r.clientHeight,u=0,c=0;if(o){a=o.width,s=o.height;var f=f_();(f||!f&&e==="fixed")&&(u=o.offsetLeft,c=o.offsetTop)}return{width:a,height:s,x:u+Cb(t),y:c}}function F5(t){var e,n=Ti(t),r=Sb(t),o=(e=t.ownerDocument)==null?void 0:e.body,a=cs(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),s=cs(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),u=-r.scrollLeft+Cb(t),c=-r.scrollTop;return Da(o||n).direction==="rtl"&&(u+=cs(n.clientWidth,o?o.clientWidth:0)-a),{width:a,height:s,x:u,y:c}}function Eb(t){var e=Da(t),n=e.overflow,r=e.overflowX,o=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function v_(t){return["html","body","#document"].indexOf(Ko(t))>=0?t.ownerDocument.body:eo(t)&&Eb(t)?t:v_(Ip(t))}function Dc(t,e){var n;e===void 0&&(e=[]);var r=v_(t),o=r===((n=t.ownerDocument)==null?void 0:n.body),a=Br(r),s=o?[a].concat(a.visualViewport||[],Eb(r)?r:[]):r,u=e.concat(s);return o?u:u.concat(Dc(Ip(s)))}function $y(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function L5(t,e){var n=Wu(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function hE(t,e,n){return e===l_?$y(B5(t,n)):ms(e)?L5(e,n):$y(F5(Ti(t)))}function z5(t){var e=Dc(Ip(t)),n=["absolute","fixed"].indexOf(Da(t).position)>=0,r=n&&eo(t)?bf(t):t;return ms(r)?e.filter(function(o){return ms(o)&&d_(o,r)&&Ko(o)!=="body"}):[]}function V5(t,e,n,r){var o=e==="clippingParents"?z5(t):[].concat(e),a=[].concat(o,[n]),s=a[0],u=a.reduce(function(c,f){var h=hE(t,f,r);return c.top=cs(h.top,c.top),c.right=Vh(h.right,c.right),c.bottom=Vh(h.bottom,c.bottom),c.left=cs(h.left,c.left),c},hE(t,s,r));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}function g_(t){var e=t.reference,n=t.element,r=t.placement,o=r?Vo(r):null,a=r?Hu(r):null,s=e.x+e.width/2-n.width/2,u=e.y+e.height/2-n.height/2,c;switch(o){case pr:c={x:s,y:e.y-n.height};break;case ro:c={x:s,y:e.y+e.height};break;case oo:c={x:e.x+e.width,y:u};break;case mr:c={x:e.x-n.width,y:u};break;default:c={x:e.x,y:e.y}}var f=o?wb(o):null;if(f!=null){var h=f==="y"?"height":"width";switch(a){case Uu:c[f]=c[f]-(e[h]/2-n[h]/2);break;case Gc:c[f]=c[f]+(e[h]/2-n[h]/2);break}}return c}function $c(t,e){e===void 0&&(e={});var n=e,r=n.placement,o=r===void 0?t.placement:r,a=n.strategy,s=a===void 0?t.strategy:a,u=n.boundary,c=u===void 0?i5:u,f=n.rootBoundary,h=f===void 0?l_:f,p=n.elementContext,v=p===void 0?hc:p,g=n.altBoundary,y=g===void 0?!1:g,x=n.padding,w=x===void 0?0:x,S=p_(typeof w!="number"?w:m_(w,yf)),A=v===hc?s5:hc,E=t.rects.popper,T=t.elements[y?A:v],R=V5(ms(T)?T:T.contextElement||Ti(t.elements.popper),c,h,s),_=Wu(t.elements.reference),M=g_({reference:_,element:E,placement:o}),k=$y(Object.assign({},E,M)),N=v===hc?k:_,I={top:R.top-N.top+S.top,bottom:N.bottom-R.bottom+S.bottom,left:R.left-N.left+S.left,right:N.right-R.right+S.right},z=t.modifiersData.offset;if(v===hc&&z){var D=z[o];Object.keys(I).forEach(function($){var j=[oo,ro].indexOf($)>=0?1:-1,W=[pr,ro].indexOf($)>=0?"y":"x";I[$]+=D[W]*j})}return I}function U5(t,e){e===void 0&&(e={});var n=e,r=n.placement,o=n.boundary,a=n.rootBoundary,s=n.padding,u=n.flipVariations,c=n.allowedAutoPlacements,f=c===void 0?c_:c,h=Hu(r),p=h?u?lE:lE.filter(function(y){return Hu(y)===h}):yf,v=p.filter(function(y){return f.indexOf(y)>=0});v.length===0&&(v=p);var g=v.reduce(function(y,x){return y[x]=$c(t,{placement:x,boundary:o,rootBoundary:a,padding:s})[Vo(x)],y},{});return Object.keys(g).sort(function(y,x){return g[y]-g[x]})}function j5(t){if(Vo(t)===yb)return[];var e=Sh(t);return[dE(t),e,dE(e)]}function W5(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var o=n.mainAxis,a=o===void 0?!0:o,s=n.altAxis,u=s===void 0?!0:s,c=n.fallbackPlacements,f=n.padding,h=n.boundary,p=n.rootBoundary,v=n.altBoundary,g=n.flipVariations,y=g===void 0?!0:g,x=n.allowedAutoPlacements,w=e.options.placement,S=Vo(w),A=S===w,E=c||(A||!y?[Sh(w)]:j5(w)),T=[w].concat(E).reduce(function(lt,pt){return lt.concat(Vo(pt)===yb?U5(e,{placement:pt,boundary:h,rootBoundary:p,padding:f,flipVariations:y,allowedAutoPlacements:x}):pt)},[]),R=e.rects.reference,_=e.rects.popper,M=new Map,k=!0,N=T[0],I=0;I<T.length;I++){var z=T[I],D=Vo(z),$=Hu(z)===Uu,j=[pr,ro].indexOf(D)>=0,W=j?"width":"height",B=$c(e,{placement:z,boundary:h,rootBoundary:p,altBoundary:v,padding:f}),H=j?$?oo:mr:$?ro:pr;R[W]>_[W]&&(H=Sh(H));var q=Sh(H),X=[];if(a&&X.push(B[D]<=0),u&&X.push(B[H]<=0,B[q]<=0),X.every(function(lt){return lt})){N=z,k=!1;break}M.set(z,X)}if(k)for(var F=y?3:1,Q=function(pt){var vt=T.find(function(bt){var yt=M.get(bt);if(yt)return yt.slice(0,pt).every(function(wt){return wt})});if(vt)return N=vt,"break"},et=F;et>0;et--){var nt=Q(et);if(nt==="break")break}e.placement!==N&&(e.modifiersData[r]._skip=!0,e.placement=N,e.reset=!0)}}const H5={name:"flip",enabled:!0,phase:"main",fn:W5,requiresIfExists:["offset"],data:{_skip:!1}};function pE(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function mE(t){return[pr,oo,ro,mr].some(function(e){return t[e]>=0})}function G5(t){var e=t.state,n=t.name,r=e.rects.reference,o=e.rects.popper,a=e.modifiersData.preventOverflow,s=$c(e,{elementContext:"reference"}),u=$c(e,{altBoundary:!0}),c=pE(s,r),f=pE(u,o,a),h=mE(c),p=mE(f);e.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:f,isReferenceHidden:h,hasPopperEscaped:p},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":p})}const $5={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:G5};function q5(t,e,n){var r=Vo(t),o=[mr,pr].indexOf(r)>=0?-1:1,a=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,s=a[0],u=a[1];return s=s||0,u=(u||0)*o,[mr,oo].indexOf(r)>=0?{x:u,y:s}:{x:s,y:u}}function K5(t){var e=t.state,n=t.options,r=t.name,o=n.offset,a=o===void 0?[0,0]:o,s=c_.reduce(function(h,p){return h[p]=q5(p,e.rects,a),h},{}),u=s[e.placement],c=u.x,f=u.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=f),e.modifiersData[r]=s}const X5={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:K5};function Y5(t){var e=t.state,n=t.name;e.modifiersData[n]=g_({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const Q5={name:"popperOffsets",enabled:!0,phase:"read",fn:Y5,data:{}};function Z5(t){return t==="x"?"y":"x"}function J5(t){var e=t.state,n=t.options,r=t.name,o=n.mainAxis,a=o===void 0?!0:o,s=n.altAxis,u=s===void 0?!1:s,c=n.boundary,f=n.rootBoundary,h=n.altBoundary,p=n.padding,v=n.tether,g=v===void 0?!0:v,y=n.tetherOffset,x=y===void 0?0:y,w=$c(e,{boundary:c,rootBoundary:f,padding:p,altBoundary:h}),S=Vo(e.placement),A=Hu(e.placement),E=!A,T=wb(S),R=Z5(T),_=e.modifiersData.popperOffsets,M=e.rects.reference,k=e.rects.popper,N=typeof x=="function"?x(Object.assign({},e.rects,{placement:e.placement})):x,I=typeof N=="number"?{mainAxis:N,altAxis:N}:Object.assign({mainAxis:0,altAxis:0},N),z=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,D={x:0,y:0};if(_){if(a){var $,j=T==="y"?pr:mr,W=T==="y"?ro:oo,B=T==="y"?"height":"width",H=_[T],q=H+w[j],X=H-w[W],F=g?-k[B]/2:0,Q=A===Uu?M[B]:k[B],et=A===Uu?-k[B]:-M[B],nt=e.elements.arrow,lt=g&&nt?xb(nt):{width:0,height:0},pt=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:h_(),vt=pt[j],bt=pt[W],yt=_c(0,M[B],lt[B]),wt=E?M[B]/2-F-yt-vt-I.mainAxis:Q-yt-vt-I.mainAxis,Et=E?-M[B]/2+F+yt+bt+I.mainAxis:et+yt+bt+I.mainAxis,xt=e.elements.arrow&&bf(e.elements.arrow),At=xt?T==="y"?xt.clientTop||0:xt.clientLeft||0:0,Rt=($=z?.[T])!=null?$:0,St=H+wt-Rt-At,zt=H+Et-Rt,Xt=_c(g?Vh(q,St):q,H,g?cs(X,zt):X);_[T]=Xt,D[T]=Xt-H}if(u){var Qt,se=T==="x"?pr:mr,te=T==="x"?ro:oo,oe=_[R],Zt=R==="y"?"height":"width",_t=oe+w[se],Ve=oe-w[te],be=[pr,mr].indexOf(S)!==-1,He=(Qt=z?.[R])!=null?Qt:0,we=be?_t:oe-M[Zt]-k[Zt]-He+I.altAxis,Ut=be?oe+M[Zt]+k[Zt]-He-I.altAxis:Ve,Jt=g&&be?C5(we,oe,Ut):_c(g?we:_t,oe,g?Ut:Ve);_[R]=Jt,D[R]=Jt-oe}e.modifiersData[r]=D}}const tz={name:"preventOverflow",enabled:!0,phase:"main",fn:J5,requiresIfExists:["offset"]};function ez(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function nz(t){return t===Br(t)||!eo(t)?Sb(t):ez(t)}function rz(t){var e=t.getBoundingClientRect(),n=ju(e.width)/t.offsetWidth||1,r=ju(e.height)/t.offsetHeight||1;return n!==1||r!==1}function oz(t,e,n){n===void 0&&(n=!1);var r=eo(e),o=eo(e)&&rz(e),a=Ti(e),s=Wu(t,o,n),u={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&((Ko(e)!=="body"||Eb(a))&&(u=nz(e)),eo(e)?(c=Wu(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):a&&(c.x=Cb(a))),{x:s.left+u.scrollLeft-c.x,y:s.top+u.scrollTop-c.y,width:s.width,height:s.height}}function az(t){var e=new Map,n=new Set,r=[];t.forEach(function(a){e.set(a.name,a)});function o(a){n.add(a.name);var s=[].concat(a.requires||[],a.requiresIfExists||[]);s.forEach(function(u){if(!n.has(u)){var c=e.get(u);c&&o(c)}}),r.push(a)}return t.forEach(function(a){n.has(a.name)||o(a)}),r}function iz(t){var e=az(t);return g5.reduce(function(n,r){return n.concat(e.filter(function(o){return o.phase===r}))},[])}function sz(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function uz(t){var e=t.reduce(function(n,r){var o=n[r.name];return n[r.name]=o?Object.assign({},o,r,{options:Object.assign({},o.options,r.options),data:Object.assign({},o.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var vE={placement:"bottom",modifiers:[],strategy:"absolute"};function gE(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function lz(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,o=e.defaultOptions,a=o===void 0?vE:o;return function(u,c,f){f===void 0&&(f=a);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},vE,a),modifiersData:{},elements:{reference:u,popper:c},attributes:{},styles:{}},p=[],v=!1,g={state:h,setOptions:function(S){var A=typeof S=="function"?S(h.options):S;x(),h.options=Object.assign({},a,h.options,A),h.scrollParents={reference:ms(u)?Dc(u):u.contextElement?Dc(u.contextElement):[],popper:Dc(c)};var E=iz(uz([].concat(r,h.options.modifiers)));return h.orderedModifiers=E.filter(function(T){return T.enabled}),y(),g.update()},forceUpdate:function(){if(!v){var S=h.elements,A=S.reference,E=S.popper;if(gE(A,E)){h.rects={reference:oz(A,bf(E),h.options.strategy==="fixed"),popper:xb(E)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(I){return h.modifiersData[I.name]=Object.assign({},I.data)});for(var T=0;T<h.orderedModifiers.length;T++){if(h.reset===!0){h.reset=!1,T=-1;continue}var R=h.orderedModifiers[T],_=R.fn,M=R.options,k=M===void 0?{}:M,N=R.name;typeof _=="function"&&(h=_({state:h,options:k,name:N,instance:g})||h)}}}},update:sz(function(){return new Promise(function(w){g.forceUpdate(),w(h)})}),destroy:function(){x(),v=!0}};if(!gE(u,c))return g;g.setOptions(f).then(function(w){!v&&f.onFirstUpdate&&f.onFirstUpdate(w)});function y(){h.orderedModifiers.forEach(function(w){var S=w.name,A=w.options,E=A===void 0?{}:A,T=w.effect;if(typeof T=="function"){var R=T({state:h,name:S,instance:g,options:E}),_=function(){};p.push(R||_)}})}function x(){p.forEach(function(w){return w()}),p=[]}return g}}var cz=[O5,Q5,M5,x5,X5,H5,tz,A5,$5],fz=lz({defaultModifiers:cz});function y_(t){const{elementType:e,externalSlotProps:n,ownerState:r,skipResolvingSlotProps:o=!1,...a}=t,s=o?{}:s_(n,r),{props:u,internalRef:c}=u_({...a,externalSlotProps:s}),f=jn(c,s?.ref,t.additionalProps?.ref);return i_(e,{...u,ref:f},r)}function ol(t){return parseInt(O.version,10)>=19?t?.props?.ref||null:t?.ref||null}function dz(t){return typeof t=="function"?t():t}const b_=O.forwardRef(function(e,n){const{children:r,container:o,disablePortal:a=!1}=e,[s,u]=O.useState(null),c=jn(O.isValidElement(r)?ol(r):null,n);if(go(()=>{a||u(dz(o)||document.body)},[o,a]),go(()=>{if(s&&!a)return ZC(n,s),()=>{ZC(n,null)}},[n,s,a]),a){if(O.isValidElement(r)){const f={ref:c};return O.cloneElement(r,f)}return r}return s&&fA.createPortal(r,s)});function hz(t){return he("MuiPopper",t)}fe("MuiPopper",["root"]);function pz(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function qy(t){return typeof t=="function"?t():t}function mz(t){return t.nodeType!==void 0}const vz=t=>{const{classes:e}=t;return de({root:["root"]},hz,e)},gz={},yz=O.forwardRef(function(e,n){const{anchorEl:r,children:o,direction:a,disablePortal:s,modifiers:u,open:c,placement:f,popperOptions:h,popperRef:p,slotProps:v={},slots:g={},TransitionProps:y,ownerState:x,...w}=e,S=O.useRef(null),A=jn(S,n),E=O.useRef(null),T=jn(E,p),R=O.useRef(T);go(()=>{R.current=T},[T]),O.useImperativeHandle(p,()=>E.current,[]);const _=pz(f,a),[M,k]=O.useState(_),[N,I]=O.useState(qy(r));O.useEffect(()=>{E.current&&E.current.forceUpdate()}),O.useEffect(()=>{r&&I(qy(r))},[r]),go(()=>{if(!N||!c)return;const W=q=>{k(q.placement)};let B=[{name:"preventOverflow",options:{altBoundary:s}},{name:"flip",options:{altBoundary:s}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:q})=>{W(q)}}];u!=null&&(B=B.concat(u)),h&&h.modifiers!=null&&(B=B.concat(h.modifiers));const H=fz(N,S.current,{placement:_,...h,modifiers:B});return R.current(H),()=>{H.destroy(),R.current(null)}},[N,s,u,c,h,_]);const z={placement:M};y!==null&&(z.TransitionProps=y);const D=vz(e),$=g.root??"div",j=y_({elementType:$,externalSlotProps:v.root,externalForwardedProps:w,additionalProps:{role:"tooltip",ref:A},ownerState:e,className:D.root});return U.jsx($,{...j,children:typeof o=="function"?o(z):o})}),bz=O.forwardRef(function(e,n){const{anchorEl:r,children:o,container:a,direction:s="ltr",disablePortal:u=!1,keepMounted:c=!1,modifiers:f,open:h,placement:p="bottom",popperOptions:v=gz,popperRef:g,style:y,transition:x=!1,slotProps:w={},slots:S={},...A}=e,[E,T]=O.useState(!0),R=()=>{T(!1)},_=()=>{T(!0)};if(!c&&!h&&(!x||E))return null;let M;if(a)M=a;else if(r){const I=qy(r);M=I&&mz(I)?er(I).body:er(null).body}const k=!h&&c&&(!x||E)?"none":void 0,N=x?{in:h,onEnter:R,onExited:_}:void 0;return U.jsx(b_,{disablePortal:u,container:M,children:U.jsx(yz,{anchorEl:r,direction:s,disablePortal:u,modifiers:f,ref:n,open:x?!E:h,placement:p,popperOptions:v,popperRef:g,slotProps:w,slots:S,...A,style:{position:"fixed",top:0,left:0,display:k,...y},TransitionProps:N,children:o})})}),xz=Tt(bz,{name:"MuiPopper",slot:"Root"})({}),wz=O.forwardRef(function(e,n){const r=VA(),o=me({props:e,name:"MuiPopper"}),{anchorEl:a,component:s,components:u,componentsProps:c,container:f,disablePortal:h,keepMounted:p,modifiers:v,open:g,placement:y,popperOptions:x,popperRef:w,transition:S,slots:A,slotProps:E,...T}=o,R=A?.root??u?.Root,_={anchorEl:a,container:f,disablePortal:h,keepMounted:p,modifiers:v,open:g,placement:y,popperOptions:x,popperRef:w,transition:S,...T};return U.jsx(xz,{as:s,direction:r?"rtl":"ltr",slots:{root:R},slotProps:E??c,..._,ref:n})});function Yd(t){return parseInt(t,10)||0}const Sz={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function Cz(t){for(const e in t)return!1;return!0}function yE(t){return Cz(t)||t.outerHeightStyle===0&&!t.overflowing}const Ez=O.forwardRef(function(e,n){const{onChange:r,maxRows:o,minRows:a=1,style:s,value:u,...c}=e,{current:f}=O.useRef(u!=null),h=O.useRef(null),p=jn(n,h),v=O.useRef(null),g=O.useRef(null),y=O.useCallback(()=>{const E=h.current,T=g.current;if(!E||!T)return;const _=_a(E).getComputedStyle(E);if(_.width==="0px")return{outerHeightStyle:0,overflowing:!1};T.style.width=_.width,T.value=E.value||e.placeholder||"x",T.value.slice(-1)===`
`&&(T.value+=" ");const M=_.boxSizing,k=Yd(_.paddingBottom)+Yd(_.paddingTop),N=Yd(_.borderBottomWidth)+Yd(_.borderTopWidth),I=T.scrollHeight;T.value="x";const z=T.scrollHeight;let D=I;a&&(D=Math.max(Number(a)*z,D)),o&&(D=Math.min(Number(o)*z,D)),D=Math.max(D,z);const $=D+(M==="border-box"?k+N:0),j=Math.abs(D-I)<=1;return{outerHeightStyle:$,overflowing:j}},[o,a,e.placeholder]),x=zo(()=>{const E=h.current,T=y();if(!E||!T||yE(T))return!1;const R=T.outerHeightStyle;return v.current!=null&&v.current!==R}),w=O.useCallback(()=>{const E=h.current,T=y();if(!E||!T||yE(T))return;const R=T.outerHeightStyle;v.current!==R&&(v.current=R,E.style.height=`${R}px`),E.style.overflow=T.overflowing?"hidden":""},[y]),S=O.useRef(-1);go(()=>{const E=ZA(w),T=h?.current;if(!T)return;const R=_a(T);R.addEventListener("resize",E);let _;return typeof ResizeObserver<"u"&&(_=new ResizeObserver(()=>{x()&&(_.unobserve(T),cancelAnimationFrame(S.current),w(),S.current=requestAnimationFrame(()=>{_.observe(T)}))}),_.observe(T)),()=>{E.clear(),cancelAnimationFrame(S.current),R.removeEventListener("resize",E),_&&_.disconnect()}},[y,w,x]),go(()=>{w()});const A=E=>{f||w();const T=E.target,R=T.value.length,_=T.value.endsWith(`
`),M=T.selectionStart===R;_&&M&&T.setSelectionRange(R,R),r&&r(E)};return U.jsxs(O.Fragment,{children:[U.jsx("textarea",{value:u,onChange:A,ref:p,rows:a,style:s,...c}),U.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:g,tabIndex:-1,style:{...Sz.shadow,...s,paddingTop:0,paddingBottom:0}})]})});function Ky(t){return typeof t=="string"}function al({props:t,states:e,muiFormControl:n}){return e.reduce((r,o)=>(r[o]=t[o],n&&typeof t[o]>"u"&&(r[o]=n[o]),r),{})}const Tb=O.createContext(void 0);function il(){return O.useContext(Tb)}function bE(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function Uh(t,e=!1){return t&&(bE(t.value)&&t.value!==""||e&&bE(t.defaultValue)&&t.defaultValue!=="")}function Tz(t){return t.startAdornment}function Rz(t){return he("MuiInputBase",t)}const Gu=fe("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var xE;const Bp=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${Lt(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},Fp=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},Az=t=>{const{classes:e,color:n,disabled:r,error:o,endAdornment:a,focused:s,formControl:u,fullWidth:c,hiddenLabel:f,multiline:h,readOnly:p,size:v,startAdornment:g,type:y}=t,x={root:["root",`color${Lt(n)}`,r&&"disabled",o&&"error",c&&"fullWidth",s&&"focused",u&&"formControl",v&&v!=="medium"&&`size${Lt(v)}`,h&&"multiline",g&&"adornedStart",a&&"adornedEnd",f&&"hiddenLabel",p&&"readOnly"],input:["input",r&&"disabled",y==="search"&&"inputTypeSearch",h&&"inputMultiline",v==="small"&&"inputSizeSmall",f&&"inputHiddenLabel",g&&"inputAdornedStart",a&&"inputAdornedEnd",p&&"readOnly"]};return de(x,Rz,e)},Lp=Tt("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Bp})(Le(({theme:t})=>({...t.typography.body1,color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Gu.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:e})=>e.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:e,size:n})=>e.multiline&&n==="small",style:{paddingTop:1}},{props:({ownerState:e})=>e.fullWidth,style:{width:"100%"}}]}))),zp=Tt("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Fp})(Le(({theme:t})=>{const e=t.palette.mode==="light",n={color:"currentColor",...t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5},transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})},r={opacity:"0 !important"},o=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Gu.formControl} &`]:{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus::-ms-input-placeholder":o},[`&.${Gu.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},variants:[{props:({ownerState:a})=>!a.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:a})=>a.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),wE=LF({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),Rb=O.forwardRef(function(e,n){const r=me({props:e,name:"MuiInputBase"}),{"aria-describedby":o,autoComplete:a,autoFocus:s,className:u,color:c,components:f={},componentsProps:h={},defaultValue:p,disabled:v,disableInjectingGlobalStyles:g,endAdornment:y,error:x,fullWidth:w=!1,id:S,inputComponent:A="input",inputProps:E={},inputRef:T,margin:R,maxRows:_,minRows:M,multiline:k=!1,name:N,onBlur:I,onChange:z,onClick:D,onFocus:$,onKeyDown:j,onKeyUp:W,placeholder:B,readOnly:H,renderSuffix:q,rows:X,size:F,slotProps:Q={},slots:et={},startAdornment:nt,type:lt="text",value:pt,...vt}=r,bt=E.value!=null?E.value:pt,{current:yt}=O.useRef(bt!=null),wt=O.useRef(),Et=O.useCallback(Re=>{},[]),xt=jn(wt,T,E.ref,Et),[At,Rt]=O.useState(!1),St=il(),zt=al({props:r,muiFormControl:St,states:["color","disabled","error","hiddenLabel","size","required","filled"]});zt.focused=St?St.focused:At,O.useEffect(()=>{!St&&v&&At&&(Rt(!1),I&&I())},[St,v,At,I]);const Xt=St&&St.onFilled,Qt=St&&St.onEmpty,se=O.useCallback(Re=>{Uh(Re)?Xt&&Xt():Qt&&Qt()},[Xt,Qt]);go(()=>{yt&&se({value:bt})},[bt,se,yt]);const te=Re=>{$&&$(Re),E.onFocus&&E.onFocus(Re),St&&St.onFocus?St.onFocus(Re):Rt(!0)},oe=Re=>{I&&I(Re),E.onBlur&&E.onBlur(Re),St&&St.onBlur?St.onBlur(Re):Rt(!1)},Zt=(Re,...xo)=>{if(!yt){const xr=Re.target||wt.current;if(xr==null)throw new Error(Ra(1));se({value:xr.value})}E.onChange&&E.onChange(Re,...xo),z&&z(Re,...xo)};O.useEffect(()=>{se(wt.current)},[]);const _t=Re=>{wt.current&&Re.currentTarget===Re.target&&wt.current.focus(),D&&D(Re)};let Ve=A,be=E;k&&Ve==="input"&&(X?be={type:void 0,minRows:X,maxRows:X,...be}:be={type:void 0,maxRows:_,minRows:M,...be},Ve=Ez);const He=Re=>{se(Re.animationName==="mui-auto-fill-cancel"?wt.current:{value:"x"})};O.useEffect(()=>{St&&St.setAdornedStart(!!nt)},[St,nt]);const we={...r,color:zt.color||"primary",disabled:zt.disabled,endAdornment:y,error:zt.error,focused:zt.focused,formControl:St,fullWidth:w,hiddenLabel:zt.hiddenLabel,multiline:k,size:zt.size,startAdornment:nt,type:lt},Ut=Az(we),Jt=et.root||f.Root||Lp,pe=Q.root||h.root||{},On=et.input||f.Input||zp;return be={...be,...Q.input??h.input},U.jsxs(O.Fragment,{children:[!g&&typeof wE=="function"&&(xE||(xE=U.jsx(wE,{}))),U.jsxs(Jt,{...pe,ref:n,onClick:_t,...vt,...!Ky(Jt)&&{ownerState:{...we,...pe.ownerState}},className:Ht(Ut.root,pe.className,u,H&&"MuiInputBase-readOnly"),children:[nt,U.jsx(Tb.Provider,{value:null,children:U.jsx(On,{"aria-invalid":zt.error,"aria-describedby":o,autoComplete:a,autoFocus:s,defaultValue:p,disabled:zt.disabled,id:S,onAnimationStart:He,name:N,placeholder:B,readOnly:H,required:zt.required,rows:X,value:bt,onKeyDown:j,onKeyUp:W,type:lt,...be,...!Ky(On)&&{as:Ve,ownerState:{...we,...be.ownerState}},ref:xt,className:Ht(Ut.input,be.className,H&&"MuiInputBase-readOnly"),onBlur:oe,onChange:Zt,onFocus:te})}),y,q?q({...zt,startAdornment:nt}):null]})]})});function _z(t){return he("MuiInput",t)}const pc={...Gu,...fe("MuiInput",["root","underline","input"])};function Dz(t){return he("MuiOutlinedInput",t)}const Ao={...Gu,...fe("MuiOutlinedInput",["root","notchedOutline","input"])};function kz(t){return he("MuiFilledInput",t)}const Xi={...Gu,...fe("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},Mz=Qo(U.jsx("path",{d:"M7 10l5 5 5-5z"})),Nz=Qo(U.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}));function Oz(t){return he("MuiAvatar",t)}fe("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const Pz=t=>{const{classes:e,variant:n,colorDefault:r}=t;return de({root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]},Oz,e)},Iz=Tt("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],n.colorDefault&&e.colorDefault]}})(Le(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(t.vars||t).palette.background.default,...t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:t.palette.grey[400],...t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})}}}]}))),Bz=Tt("img",{name:"MuiAvatar",slot:"Img"})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),Fz=Tt(Nz,{name:"MuiAvatar",slot:"Fallback"})({width:"75%",height:"75%"});function Lz({crossOrigin:t,referrerPolicy:e,src:n,srcSet:r}){const[o,a]=O.useState(!1);return O.useEffect(()=>{if(!n&&!r)return;a(!1);let s=!0;const u=new Image;return u.onload=()=>{s&&a("loaded")},u.onerror=()=>{s&&a("error")},u.crossOrigin=t,u.referrerPolicy=e,u.src=n,r&&(u.srcset=r),()=>{s=!1}},[t,e,n,r]),o}const zz=O.forwardRef(function(e,n){const r=me({props:e,name:"MuiAvatar"}),{alt:o,children:a,className:s,component:u="div",slots:c={},slotProps:f={},imgProps:h,sizes:p,src:v,srcSet:g,variant:y="circular",...x}=r;let w=null;const S={...r,component:u,variant:y},A=Lz({...h,...typeof f.img=="function"?f.img(S):f.img,src:v,srcSet:g}),E=v||g,T=E&&A!=="error";S.colorDefault=!T,delete S.ownerState;const R=Pz(S),[_,M]=ge("root",{ref:n,className:Ht(R.root,s),elementType:Iz,externalForwardedProps:{slots:c,slotProps:f,component:u,...x},ownerState:S}),[k,N]=ge("img",{className:R.img,elementType:Bz,externalForwardedProps:{slots:c,slotProps:{img:{...h,...f.img}}},additionalProps:{alt:o,src:v,srcSet:g,sizes:p},ownerState:S}),[I,z]=ge("fallback",{className:R.fallback,elementType:Fz,externalForwardedProps:{slots:c,slotProps:f},shouldForwardComponentProp:!0,ownerState:S});return T?w=U.jsx(k,{...N}):a||a===0?w=a:E&&o?w=o[0]:w=U.jsx(I,{...z}),U.jsx(_,{...M,children:w})}),Vz={entering:{opacity:1},entered:{opacity:1}},Xy=O.forwardRef(function(e,n){const r=nl(),o={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:a,appear:s=!0,children:u,easing:c,in:f,onEnter:h,onEntered:p,onEntering:v,onExit:g,onExited:y,onExiting:x,style:w,timeout:S=o,TransitionComponent:A=Zo,...E}=e,T=O.useRef(null),R=jn(T,ol(u),n),_=j=>W=>{if(j){const B=T.current;W===void 0?j(B):j(B,W)}},M=_(v),k=_((j,W)=>{a_(j);const B=Fh({style:w,timeout:S,easing:c},{mode:"enter"});j.style.webkitTransition=r.transitions.create("opacity",B),j.style.transition=r.transitions.create("opacity",B),h&&h(j,W)}),N=_(p),I=_(x),z=_(j=>{const W=Fh({style:w,timeout:S,easing:c},{mode:"exit"});j.style.webkitTransition=r.transitions.create("opacity",W),j.style.transition=r.transitions.create("opacity",W),g&&g(j)}),D=_(y),$=j=>{a&&a(T.current,j)};return U.jsx(A,{appear:s,in:f,nodeRef:T,onEnter:k,onEntered:N,onEntering:M,onExit:z,onExited:D,onExiting:I,addEndListener:$,timeout:S,...E,children:(j,{ownerState:W,...B})=>O.cloneElement(u,{style:{opacity:0,visibility:j==="exited"&&!f?"hidden":void 0,...Vz[j],...w,...u.props.style},ref:R,...B})})});function Uz(t){return he("MuiBackdrop",t)}fe("MuiBackdrop",["root","invisible"]);const jz=t=>{const{classes:e,invisible:n}=t;return de({root:["root",n&&"invisible"]},Uz,e)},Wz=Tt("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),x_=O.forwardRef(function(e,n){const r=me({props:e,name:"MuiBackdrop"}),{children:o,className:a,component:s="div",invisible:u=!1,open:c,components:f={},componentsProps:h={},slotProps:p={},slots:v={},TransitionComponent:g,transitionDuration:y,...x}=r,w={...r,component:s,invisible:u},S=jz(w),A={transition:g,root:f.Root,...v},E={...h,...p},T={component:s,slots:A,slotProps:E},[R,_]=ge("root",{elementType:Wz,externalForwardedProps:T,className:Ht(S.root,a),ownerState:w}),[M,k]=ge("transition",{elementType:Xy,externalForwardedProps:T,ownerState:w});return U.jsx(M,{in:c,timeout:y,...x,...k,children:U.jsx(R,{"aria-hidden":!0,..._,classes:S,ref:n,children:o})})}),Hz=fe("MuiBox",["root"]),Gz=Pp(),Ab=xB({themeId:Lo,defaultTheme:Gz,defaultClassName:Hz.root,generateClassName:hA.generate});function $z(t){return he("MuiCard",t)}fe("MuiCard",["root"]);const qz=t=>{const{classes:e}=t;return de({root:["root"]},$z,e)},Kz=Tt(rl,{name:"MuiCard",slot:"Root"})({overflow:"hidden"}),Xz=O.forwardRef(function(e,n){const r=me({props:e,name:"MuiCard"}),{className:o,raised:a=!1,...s}=r,u={...r,raised:a},c=qz(u);return U.jsx(Kz,{className:Ht(c.root,o),elevation:a?8:void 0,ref:n,ownerState:u,...s})});function Yz(t){return he("MuiCardContent",t)}fe("MuiCardContent",["root"]);const Qz=t=>{const{classes:e}=t;return de({root:["root"]},Yz,e)},Zz=Tt("div",{name:"MuiCardContent",slot:"Root"})({padding:16,"&:last-child":{paddingBottom:24}}),w_=O.forwardRef(function(e,n){const r=me({props:e,name:"MuiCardContent"}),{className:o,component:a="div",...s}=r,u={...r,component:a},c=Qz(u);return U.jsx(Zz,{as:a,className:Ht(c.root,o),ownerState:u,ref:n,...s})});function SE(t){return t.substring(2).toLowerCase()}function Jz(t,e){return e.documentElement.clientWidth<t.clientX||e.documentElement.clientHeight<t.clientY}function t6(t){const{children:e,disableReactTree:n=!1,mouseEvent:r="onClick",onClickAway:o,touchEvent:a="onTouchEnd"}=t,s=O.useRef(!1),u=O.useRef(null),c=O.useRef(!1),f=O.useRef(!1);O.useEffect(()=>(setTimeout(()=>{c.current=!0},0),()=>{c.current=!1}),[]);const h=jn(ol(e),u),p=zo(y=>{const x=f.current;f.current=!1;const w=er(u.current);if(!c.current||!u.current||"clientX"in y&&Jz(y,w))return;if(s.current){s.current=!1;return}let S;y.composedPath?S=y.composedPath().includes(u.current):S=!w.documentElement.contains(y.target)||u.current.contains(y.target),!S&&(n||!x)&&o(y)}),v=y=>x=>{f.current=!0;const w=e.props[y];w&&w(x)},g={ref:h};return a!==!1&&(g[a]=v(a)),O.useEffect(()=>{if(a!==!1){const y=SE(a),x=er(u.current),w=()=>{s.current=!0};return x.addEventListener(y,p),x.addEventListener("touchmove",w),()=>{x.removeEventListener(y,p),x.removeEventListener("touchmove",w)}}},[p,a]),r!==!1&&(g[r]=v(r)),O.useEffect(()=>{if(r!==!1){const y=SE(r),x=er(u.current);return x.addEventListener(y,p),()=>{x.removeEventListener(y,p)}}},[p,r]),O.cloneElement(e,g)}function S_(t=window){const e=t.document.documentElement.clientWidth;return t.innerWidth-e}function e6(t){const e=er(t);return e.body===t?_a(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function kc(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function CE(t){return parseInt(_a(t).getComputedStyle(t).paddingRight,10)||0}function n6(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(t.tagName),r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function EE(t,e,n,r,o){const a=[e,n,...r];[].forEach.call(t.children,s=>{const u=!a.includes(s),c=!n6(s);u&&c&&kc(s,o)})}function Ig(t,e){let n=-1;return t.some((r,o)=>e(r)?(n=o,!0):!1),n}function r6(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(e6(r)){const s=S_(_a(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${CE(r)+s}px`;const u=er(r).querySelectorAll(".mui-fixed");[].forEach.call(u,c=>{n.push({value:c.style.paddingRight,property:"padding-right",el:c}),c.style.paddingRight=`${CE(c)+s}px`})}let a;if(r.parentNode instanceof DocumentFragment)a=er(r).body;else{const s=r.parentElement,u=_a(r);a=s?.nodeName==="HTML"&&u.getComputedStyle(s).overflowY==="scroll"?s:r}n.push({value:a.style.overflow,property:"overflow",el:a},{value:a.style.overflowX,property:"overflow-x",el:a},{value:a.style.overflowY,property:"overflow-y",el:a}),a.style.overflow="hidden"}return()=>{n.forEach(({value:a,el:s,property:u})=>{a?s.style.setProperty(u,a):s.style.removeProperty(u)})}}function o6(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class a6{constructor(){this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&kc(e.modalRef,!1);const o=o6(n);EE(n,e.mount,e.modalRef,o,!0);const a=Ig(this.containers,s=>s.container===n);return a!==-1?(this.containers[a].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:o}),r)}mount(e,n){const r=Ig(this.containers,a=>a.modals.includes(e)),o=this.containers[r];o.restore||(o.restore=r6(o,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const o=Ig(this.containers,s=>s.modals.includes(e)),a=this.containers[o];if(a.modals.splice(a.modals.indexOf(e),1),this.modals.splice(r,1),a.modals.length===0)a.restore&&a.restore(),e.modalRef&&kc(e.modalRef,n),EE(a.container,e.mount,e.modalRef,a.hiddenSiblings,!1),this.containers.splice(o,1);else{const s=a.modals[a.modals.length-1];s.modalRef&&kc(s.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const i6=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function s6(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function u6(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function l6(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||u6(t))}function c6(t){const e=[],n=[];return Array.from(t.querySelectorAll(i6)).forEach((r,o)=>{const a=s6(r);a===-1||!l6(r)||(a===0?e.push(r):n.push({documentOrder:o,tabIndex:a,node:r}))}),n.sort((r,o)=>r.tabIndex===o.tabIndex?r.documentOrder-o.documentOrder:r.tabIndex-o.tabIndex).map(r=>r.node).concat(e)}function f6(){return!0}function d6(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:o=!1,getTabbable:a=c6,isEnabled:s=f6,open:u}=t,c=O.useRef(!1),f=O.useRef(null),h=O.useRef(null),p=O.useRef(null),v=O.useRef(null),g=O.useRef(!1),y=O.useRef(null),x=jn(ol(e),y),w=O.useRef(null);O.useEffect(()=>{!u||!y.current||(g.current=!n)},[n,u]),O.useEffect(()=>{if(!u||!y.current)return;const E=er(y.current);return y.current.contains(E.activeElement)||(y.current.hasAttribute("tabIndex")||y.current.setAttribute("tabIndex","-1"),g.current&&y.current.focus()),()=>{o||(p.current&&p.current.focus&&(c.current=!0,p.current.focus()),p.current=null)}},[u]),O.useEffect(()=>{if(!u||!y.current)return;const E=er(y.current),T=M=>{w.current=M,!(r||!s()||M.key!=="Tab")&&E.activeElement===y.current&&M.shiftKey&&(c.current=!0,h.current&&h.current.focus())},R=()=>{const M=y.current;if(M===null)return;if(!E.hasFocus()||!s()||c.current){c.current=!1;return}if(M.contains(E.activeElement)||r&&E.activeElement!==f.current&&E.activeElement!==h.current)return;if(E.activeElement!==v.current)v.current=null;else if(v.current!==null)return;if(!g.current)return;let k=[];if((E.activeElement===f.current||E.activeElement===h.current)&&(k=a(y.current)),k.length>0){const N=!!(w.current?.shiftKey&&w.current?.key==="Tab"),I=k[0],z=k[k.length-1];typeof I!="string"&&typeof z!="string"&&(N?z.focus():I.focus())}else M.focus()};E.addEventListener("focusin",R),E.addEventListener("keydown",T,!0);const _=setInterval(()=>{E.activeElement&&E.activeElement.tagName==="BODY"&&R()},50);return()=>{clearInterval(_),E.removeEventListener("focusin",R),E.removeEventListener("keydown",T,!0)}},[n,r,o,s,u,a]);const S=E=>{p.current===null&&(p.current=E.relatedTarget),g.current=!0,v.current=E.target;const T=e.props.onFocus;T&&T(E)},A=E=>{p.current===null&&(p.current=E.relatedTarget),g.current=!0};return U.jsxs(O.Fragment,{children:[U.jsx("div",{tabIndex:u?0:-1,onFocus:A,ref:f,"data-testid":"sentinelStart"}),O.cloneElement(e,{ref:x,onFocus:S}),U.jsx("div",{tabIndex:u?0:-1,onFocus:A,ref:h,"data-testid":"sentinelEnd"})]})}function h6(t){return typeof t=="function"?t():t}function p6(t){return t?t.props.hasOwnProperty("in"):!1}const TE=()=>{},Qd=new a6;function m6(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:o=!1,onTransitionEnter:a,onTransitionExited:s,children:u,onClose:c,open:f,rootRef:h}=t,p=O.useRef({}),v=O.useRef(null),g=O.useRef(null),y=jn(g,h),[x,w]=O.useState(!f),S=p6(u);let A=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(A=!1);const E=()=>er(v.current),T=()=>(p.current.modalRef=g.current,p.current.mount=v.current,p.current),R=()=>{Qd.mount(T(),{disableScrollLock:r}),g.current&&(g.current.scrollTop=0)},_=zo(()=>{const W=h6(e)||E().body;Qd.add(T(),W),g.current&&R()}),M=()=>Qd.isTopModal(T()),k=zo(W=>{v.current=W,W&&(f&&M()?R():g.current&&kc(g.current,A))}),N=O.useCallback(()=>{Qd.remove(T(),A)},[A]);O.useEffect(()=>()=>{N()},[N]),O.useEffect(()=>{f?_():(!S||!o)&&N()},[f,N,S,o,_]);const I=W=>B=>{W.onKeyDown?.(B),!(B.key!=="Escape"||B.which===229||!M())&&(n||(B.stopPropagation(),c&&c(B,"escapeKeyDown")))},z=W=>B=>{W.onClick?.(B),B.target===B.currentTarget&&c&&c(B,"backdropClick")};return{getRootProps:(W={})=>{const B=Lh(t);delete B.onTransitionEnter,delete B.onTransitionExited;const H={...B,...W};return{role:"presentation",...H,onKeyDown:I(H),ref:y}},getBackdropProps:(W={})=>{const B=W;return{"aria-hidden":!0,...B,onClick:z(B),open:f}},getTransitionProps:()=>{const W=()=>{w(!1),a&&a()},B=()=>{w(!0),s&&s(),o&&N()};return{onEnter:gC(W,u?.props.onEnter??TE),onExited:gC(B,u?.props.onExited??TE)}},rootRef:y,portalRef:k,isTopModal:M,exited:x,hasTransition:S}}function v6(t){return he("MuiModal",t)}fe("MuiModal",["root","hidden","backdrop"]);const g6=t=>{const{open:e,exited:n,classes:r}=t;return de({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},v6,r)},y6=Tt("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(Le(({theme:t})=>({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),b6=Tt(x_,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),C_=O.forwardRef(function(e,n){const r=me({name:"MuiModal",props:e}),{BackdropComponent:o=b6,BackdropProps:a,classes:s,className:u,closeAfterTransition:c=!1,children:f,container:h,component:p,components:v={},componentsProps:g={},disableAutoFocus:y=!1,disableEnforceFocus:x=!1,disableEscapeKeyDown:w=!1,disablePortal:S=!1,disableRestoreFocus:A=!1,disableScrollLock:E=!1,hideBackdrop:T=!1,keepMounted:R=!1,onClose:_,onTransitionEnter:M,onTransitionExited:k,open:N,slotProps:I={},slots:z={},theme:D,...$}=r,j={...r,closeAfterTransition:c,disableAutoFocus:y,disableEnforceFocus:x,disableEscapeKeyDown:w,disablePortal:S,disableRestoreFocus:A,disableScrollLock:E,hideBackdrop:T,keepMounted:R},{getRootProps:W,getBackdropProps:B,getTransitionProps:H,portalRef:q,isTopModal:X,exited:F,hasTransition:Q}=m6({...j,rootRef:n}),et={...j,exited:F},nt=g6(et),lt={};if(f.props.tabIndex===void 0&&(lt.tabIndex="-1"),Q){const{onEnter:Et,onExited:xt}=H();lt.onEnter=Et,lt.onExited=xt}const pt={slots:{root:v.Root,backdrop:v.Backdrop,...z},slotProps:{...g,...I}},[vt,bt]=ge("root",{ref:n,elementType:y6,externalForwardedProps:{...pt,...$,component:p},getSlotProps:W,ownerState:et,className:Ht(u,nt?.root,!et.open&&et.exited&&nt?.hidden)}),[yt,wt]=ge("backdrop",{ref:a?.ref,elementType:o,externalForwardedProps:pt,shouldForwardComponentProp:!0,additionalProps:a,getSlotProps:Et=>B({...Et,onClick:xt=>{Et?.onClick&&Et.onClick(xt)}}),className:Ht(a?.className,nt?.backdrop),ownerState:et});return!R&&!N&&(!Q||F)?null:U.jsx(b_,{ref:q,container:h,disablePortal:S,children:U.jsxs(vt,{...bt,children:[!T&&o?U.jsx(yt,{...wt}):null,U.jsx(d6,{disableEnforceFocus:x,disableAutoFocus:y,disableRestoreFocus:A,isEnabled:X,open:N,children:O.cloneElement(f,lt)})]})})});function x6(t){return he("MuiDialog",t)}const Bg=fe("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),E_=O.createContext({}),w6=Tt(x_,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),S6=t=>{const{classes:e,scroll:n,maxWidth:r,fullWidth:o,fullScreen:a}=t,s={root:["root"],container:["container",`scroll${Lt(n)}`],paper:["paper",`paperScroll${Lt(n)}`,`paperWidth${Lt(String(r))}`,o&&"paperFullWidth",a&&"paperFullScreen"]};return de(s,x6,e)},C6=Tt(C_,{name:"MuiDialog",slot:"Root"})({"@media print":{position:"absolute !important"}}),E6=Tt("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.container,e[`scroll${Lt(n.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),T6=Tt(rl,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`scrollPaper${Lt(n.scroll)}`],e[`paperWidth${Lt(String(n.maxWidth))}`],n.fullWidth&&e.paperFullWidth,n.fullScreen&&e.paperFullScreen]}})(Le(({theme:t})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:e})=>!e.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${Bg.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(t.breakpoints.values).filter(e=>e!=="xs").map(e=>({props:{maxWidth:e},style:{maxWidth:`${t.breakpoints.values[e]}${t.breakpoints.unit}`,[`&.${Bg.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e]+64)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:e})=>e.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:e})=>e.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${Bg.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),R6=O.forwardRef(function(e,n){const r=me({props:e,name:"MuiDialog"}),o=nl(),a={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{"aria-describedby":s,"aria-labelledby":u,"aria-modal":c=!0,BackdropComponent:f,BackdropProps:h,children:p,className:v,disableEscapeKeyDown:g=!1,fullScreen:y=!1,fullWidth:x=!1,maxWidth:w="sm",onClick:S,onClose:A,open:E,PaperComponent:T=rl,PaperProps:R={},scroll:_="paper",slots:M={},slotProps:k={},TransitionComponent:N=Xy,transitionDuration:I=a,TransitionProps:z,...D}=r,$={...r,disableEscapeKeyDown:g,fullScreen:y,fullWidth:x,maxWidth:w,scroll:_},j=S6($),W=O.useRef(),B=Rt=>{W.current=Rt.target===Rt.currentTarget},H=Rt=>{S&&S(Rt),W.current&&(W.current=null,A&&A(Rt,"backdropClick"))},q=el(u),X=O.useMemo(()=>({titleId:q}),[q]),F={transition:N,...M},Q={transition:z,paper:R,backdrop:h,...k},et={slots:F,slotProps:Q},[nt,lt]=ge("root",{elementType:C6,shouldForwardComponentProp:!0,externalForwardedProps:et,ownerState:$,className:Ht(j.root,v),ref:n}),[pt,vt]=ge("backdrop",{elementType:w6,shouldForwardComponentProp:!0,externalForwardedProps:et,ownerState:$}),[bt,yt]=ge("paper",{elementType:T6,shouldForwardComponentProp:!0,externalForwardedProps:et,ownerState:$,className:Ht(j.paper,R.className)}),[wt,Et]=ge("container",{elementType:E6,externalForwardedProps:et,ownerState:$,className:j.container}),[xt,At]=ge("transition",{elementType:Xy,externalForwardedProps:et,ownerState:$,additionalProps:{appear:!0,in:E,timeout:I,role:"presentation"}});return U.jsx(nt,{closeAfterTransition:!0,slots:{backdrop:pt},slotProps:{backdrop:{transitionDuration:I,as:f,...vt}},disableEscapeKeyDown:g,onClose:A,open:E,onClick:H,...lt,...D,children:U.jsx(xt,{...At,children:U.jsx(wt,{onMouseDown:B,...Et,children:U.jsx(bt,{as:T,elevation:24,role:"dialog","aria-describedby":s,"aria-labelledby":q,"aria-modal":c,...yt,children:U.jsx(E_.Provider,{value:X,children:p})})})})})});function A6(t){return he("MuiDialogActions",t)}fe("MuiDialogActions",["root","spacing"]);const _6=t=>{const{classes:e,disableSpacing:n}=t;return de({root:["root",!n&&"spacing"]},A6,e)},D6=Tt("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableSpacing&&e.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:t})=>!t.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),k6=O.forwardRef(function(e,n){const r=me({props:e,name:"MuiDialogActions"}),{className:o,disableSpacing:a=!1,...s}=r,u={...r,disableSpacing:a},c=_6(u);return U.jsx(D6,{className:Ht(c.root,o),ownerState:u,ref:n,...s})});function M6(t){return he("MuiDialogContent",t)}fe("MuiDialogContent",["root","dividers"]);function N6(t){return he("MuiDialogTitle",t)}const O6=fe("MuiDialogTitle",["root"]),P6=t=>{const{classes:e,dividers:n}=t;return de({root:["root",n&&"dividers"]},M6,e)},I6=Tt("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.dividers&&e.dividers]}})(Le(({theme:t})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:e})=>e.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>!e.dividers,style:{[`.${O6.root} + &`]:{paddingTop:0}}}]}))),B6=O.forwardRef(function(e,n){const r=me({props:e,name:"MuiDialogContent"}),{className:o,dividers:a=!1,...s}=r,u={...r,dividers:a},c=P6(u);return U.jsx(I6,{className:Ht(c.root,o),ownerState:u,ref:n,...s})});function F6(t){return he("MuiDialogContentText",t)}fe("MuiDialogContentText",["root"]);const L6=t=>{const{classes:e}=t,r=de({root:["root"]},F6,e);return{...e,...r}},z6=Tt(Ca,{shouldForwardProp:t=>io(t)||t==="classes",name:"MuiDialogContentText",slot:"Root"})({}),V6=O.forwardRef(function(e,n){const r=me({props:e,name:"MuiDialogContentText"}),{children:o,className:a,...s}=r,u=L6(s);return U.jsx(z6,{component:"p",variant:"body1",color:"textSecondary",ref:n,ownerState:s,className:Ht(u.root,a),...r,classes:u})}),U6=t=>{const{classes:e}=t;return de({root:["root"]},N6,e)},j6=Tt(Ca,{name:"MuiDialogTitle",slot:"Root"})({padding:"16px 24px",flex:"0 0 auto"}),W6=O.forwardRef(function(e,n){const r=me({props:e,name:"MuiDialogTitle"}),{className:o,id:a,...s}=r,u=r,c=U6(u),{titleId:f=a}=O.useContext(E_);return U.jsx(j6,{component:"h2",className:Ht(c.root,o),ownerState:u,ref:n,variant:"h6",id:a??f,...s})}),H6=t=>{const{classes:e,disableUnderline:n,startAdornment:r,endAdornment:o,size:a,hiddenLabel:s,multiline:u}=t,c={root:["root",!n&&"underline",r&&"adornedStart",o&&"adornedEnd",a==="small"&&`size${Lt(a)}`,s&&"hiddenLabel",u&&"multiline"],input:["input"]},f=de(c,kz,e);return{...e,...f}},G6=Tt(Lp,{shouldForwardProp:t=>io(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...Bp(t,e),!n.disableUnderline&&e.underline]}})(Le(({theme:t})=>{const e=t.palette.mode==="light",n=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r}},[`&.${Xi.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r},[`&.${Xi.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:a},variants:[{props:({ownerState:s})=>!s.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Xi.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Xi.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?t.alpha(t.vars.palette.common.onBackground,t.vars.opacity.inputUnderline):n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Xi.disabled}, .${Xi.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${Xi.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(to()).map(([s])=>({props:{disableUnderline:!1,color:s},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[s]?.main}`}}})),{props:({ownerState:s})=>s.startAdornment,style:{paddingLeft:12}},{props:({ownerState:s})=>s.endAdornment,style:{paddingRight:12}},{props:({ownerState:s})=>s.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:s,size:u})=>s.multiline&&u==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:s})=>s.multiline&&s.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:s})=>s.multiline&&s.hiddenLabel&&s.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),$6=Tt(zp,{name:"MuiFilledInput",slot:"Input",overridesResolver:Fp})(Le(({theme:t})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:e})=>e.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}},{props:({ownerState:e})=>e.hiddenLabel&&e.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:e})=>e.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),_b=O.forwardRef(function(e,n){const r=me({props:e,name:"MuiFilledInput"}),{disableUnderline:o=!1,components:a={},componentsProps:s,fullWidth:u=!1,hiddenLabel:c,inputComponent:f="input",multiline:h=!1,slotProps:p,slots:v={},type:g="text",...y}=r,x={...r,disableUnderline:o,fullWidth:u,inputComponent:f,multiline:h,type:g},w=H6(r),S={root:{ownerState:x},input:{ownerState:x}},A=p??s?tr(S,p??s):S,E=v.root??a.Root??G6,T=v.input??a.Input??$6;return U.jsx(Rb,{slots:{root:E,input:T},slotProps:A,fullWidth:u,inputComponent:f,multiline:h,ref:n,type:g,...y,classes:w})});_b.muiName="Input";function q6(t){return he("MuiFormControl",t)}fe("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const K6=t=>{const{classes:e,margin:n,fullWidth:r}=t,o={root:["root",n!=="none"&&`margin${Lt(n)}`,r&&"fullWidth"]};return de(o,q6,e)},X6=Tt("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`margin${Lt(n.margin)}`],n.fullWidth&&e.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),jh=O.forwardRef(function(e,n){const r=me({props:e,name:"MuiFormControl"}),{children:o,className:a,color:s="primary",component:u="div",disabled:c=!1,error:f=!1,focused:h,fullWidth:p=!1,hiddenLabel:v=!1,margin:g="none",required:y=!1,size:x="medium",variant:w="outlined",...S}=r,A={...r,color:s,component:u,disabled:c,error:f,fullWidth:p,hiddenLabel:v,margin:g,required:y,size:x,variant:w},E=K6(A),[T,R]=O.useState(()=>{let W=!1;return o&&O.Children.forEach(o,B=>{if(!Og(B,["Input","Select"]))return;const H=Og(B,["Select"])?B.props.input:B;H&&Tz(H.props)&&(W=!0)}),W}),[_,M]=O.useState(()=>{let W=!1;return o&&O.Children.forEach(o,B=>{Og(B,["Input","Select"])&&(Uh(B.props,!0)||Uh(B.props.inputProps,!0))&&(W=!0)}),W}),[k,N]=O.useState(!1);c&&k&&N(!1);const I=h!==void 0&&!c?h:k;let z;O.useRef(!1);const D=O.useCallback(()=>{M(!0)},[]),$=O.useCallback(()=>{M(!1)},[]),j=O.useMemo(()=>({adornedStart:T,setAdornedStart:R,color:s,disabled:c,error:f,filled:_,focused:I,fullWidth:p,hiddenLabel:v,size:x,onBlur:()=>{N(!1)},onFocus:()=>{N(!0)},onEmpty:$,onFilled:D,registerEffect:z,required:y,variant:w}),[T,s,c,f,_,I,p,v,z,$,D,y,x,w]);return U.jsx(Tb.Provider,{value:j,children:U.jsx(X6,{as:u,ownerState:A,className:Ht(E.root,a),ref:n,...S,children:o})})});function Y6(t){return he("MuiFormHelperText",t)}const RE=fe("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var AE;const Q6=t=>{const{classes:e,contained:n,size:r,disabled:o,error:a,filled:s,focused:u,required:c}=t,f={root:["root",o&&"disabled",a&&"error",r&&`size${Lt(r)}`,n&&"contained",u&&"focused",s&&"filled",c&&"required"]};return de(f,Y6,e)},Z6=Tt("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${Lt(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(Le(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${RE.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${RE.error}`]:{color:(t.vars||t).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:e})=>e.contained,style:{marginLeft:14,marginRight:14}}]}))),J6=O.forwardRef(function(e,n){const r=me({props:e,name:"MuiFormHelperText"}),{children:o,className:a,component:s="p",disabled:u,error:c,filled:f,focused:h,margin:p,required:v,variant:g,...y}=r,x=il(),w=al({props:r,muiFormControl:x,states:["variant","size","disabled","error","filled","focused","required"]}),S={...r,component:s,contained:w.variant==="filled"||w.variant==="outlined",variant:w.variant,size:w.size,disabled:w.disabled,error:w.error,filled:w.filled,focused:w.focused,required:w.required};delete S.ownerState;const A=Q6(S);return U.jsx(Z6,{as:s,className:Ht(A.root,a),ref:n,...y,ownerState:S,children:o===" "?AE||(AE=U.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):o})});function tV(t){return he("MuiFormLabel",t)}const Mc=fe("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),eV=t=>{const{classes:e,color:n,focused:r,disabled:o,error:a,filled:s,required:u}=t,c={root:["root",`color${Lt(n)}`,o&&"disabled",a&&"error",s&&"filled",r&&"focused",u&&"required"],asterisk:["asterisk",a&&"error"]};return de(c,tV,e)},nV=Tt("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color==="secondary"&&e.colorSecondary,n.filled&&e.filled]}})(Le(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(t.palette).filter(to()).map(([e])=>({props:{color:e},style:{[`&.${Mc.focused}`]:{color:(t.vars||t).palette[e].main}}})),{props:{},style:{[`&.${Mc.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${Mc.error}`]:{color:(t.vars||t).palette.error.main}}}]}))),rV=Tt("span",{name:"MuiFormLabel",slot:"Asterisk"})(Le(({theme:t})=>({[`&.${Mc.error}`]:{color:(t.vars||t).palette.error.main}}))),oV=O.forwardRef(function(e,n){const r=me({props:e,name:"MuiFormLabel"}),{children:o,className:a,color:s,component:u="label",disabled:c,error:f,filled:h,focused:p,required:v,...g}=r,y=il(),x=al({props:r,muiFormControl:y,states:["color","required","focused","disabled","error","filled"]}),w={...r,color:x.color||"primary",component:u,disabled:x.disabled,error:x.error,filled:x.filled,focused:x.focused,required:x.required},S=eV(w);return U.jsxs(nV,{as:u,ownerState:w,className:Ht(S.root,a),ref:n,...g,children:[o,x.required&&U.jsxs(rV,{ownerState:w,"aria-hidden":!0,className:S.asterisk,children:[" ","*"]})]})});function Yy(t){return`scale(${t}, ${t**2})`}const aV={entering:{opacity:1,transform:Yy(1)},entered:{opacity:1,transform:"none"}},Fg=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Wh=O.forwardRef(function(e,n){const{addEndListener:r,appear:o=!0,children:a,easing:s,in:u,onEnter:c,onEntered:f,onEntering:h,onExit:p,onExited:v,onExiting:g,style:y,timeout:x="auto",TransitionComponent:w=Zo,...S}=e,A=gb(),E=O.useRef(),T=nl(),R=O.useRef(null),_=jn(R,ol(a),n),M=W=>B=>{if(W){const H=R.current;B===void 0?W(H):W(H,B)}},k=M(h),N=M((W,B)=>{a_(W);const{duration:H,delay:q,easing:X}=Fh({style:y,timeout:x,easing:s},{mode:"enter"});let F;x==="auto"?(F=T.transitions.getAutoHeightDuration(W.clientHeight),E.current=F):F=H,W.style.transition=[T.transitions.create("opacity",{duration:F,delay:q}),T.transitions.create("transform",{duration:Fg?F:F*.666,delay:q,easing:X})].join(","),c&&c(W,B)}),I=M(f),z=M(g),D=M(W=>{const{duration:B,delay:H,easing:q}=Fh({style:y,timeout:x,easing:s},{mode:"exit"});let X;x==="auto"?(X=T.transitions.getAutoHeightDuration(W.clientHeight),E.current=X):X=B,W.style.transition=[T.transitions.create("opacity",{duration:X,delay:H}),T.transitions.create("transform",{duration:Fg?X:X*.666,delay:Fg?H:H||X*.333,easing:q})].join(","),W.style.opacity=0,W.style.transform=Yy(.75),p&&p(W)}),$=M(v),j=W=>{x==="auto"&&A.start(E.current||0,W),r&&r(R.current,W)};return U.jsx(w,{appear:o,in:u,nodeRef:R,onEnter:N,onEntered:I,onEntering:k,onExit:D,onExited:$,onExiting:z,addEndListener:j,timeout:x==="auto"?null:x,...S,children:(W,{ownerState:B,...H})=>O.cloneElement(a,{style:{opacity:0,transform:Yy(.75),visibility:W==="exited"&&!u?"hidden":void 0,...aV[W],...y,...a.props.style},ref:_,...H})})});Wh&&(Wh.muiSupportAuto=!0);const iV=t=>{const{classes:e,disableUnderline:n}=t,o=de({root:["root",!n&&"underline"],input:["input"]},_z,e);return{...e,...o}},sV=Tt(Lp,{shouldForwardProp:t=>io(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...Bp(t,e),!n.disableUnderline&&e.underline]}})(Le(({theme:t})=>{let n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(n=t.alpha(t.vars.palette.common.onBackground,t.vars.opacity.inputUnderline)),{position:"relative",variants:[{props:({ownerState:r})=>r.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:r})=>!r.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${pc.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${pc.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${pc.disabled}, .${pc.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${pc.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(to()).map(([r])=>({props:{color:r,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[r].main}`}}}))]}})),uV=Tt(zp,{name:"MuiInput",slot:"Input",overridesResolver:Fp})({}),Vp=O.forwardRef(function(e,n){const r=me({props:e,name:"MuiInput"}),{disableUnderline:o=!1,components:a={},componentsProps:s,fullWidth:u=!1,inputComponent:c="input",multiline:f=!1,slotProps:h,slots:p={},type:v="text",...g}=r,y=iV(r),w={root:{ownerState:{disableUnderline:o}}},S=h??s?tr(h??s,w):w,A=p.root??a.Root??sV,E=p.input??a.Input??uV;return U.jsx(Rb,{slots:{root:A,input:E},slotProps:S,fullWidth:u,inputComponent:c,multiline:f,ref:n,type:v,...g,classes:y})});Vp.muiName="Input";function lV(t){return he("MuiInputLabel",t)}fe("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const cV=t=>{const{classes:e,formControl:n,size:r,shrink:o,disableAnimation:a,variant:s,required:u}=t,c={root:["root",n&&"formControl",!a&&"animated",o&&"shrink",r&&r!=="medium"&&`size${Lt(r)}`,s],asterisk:[u&&"asterisk"]},f=de(c,lV,e);return{...e,...f}},fV=Tt(oV,{shouldForwardProp:t=>io(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Mc.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(Le(({theme:t})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:e})=>e.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:e})=>e.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:e})=>!e.disableAnimation,style:{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:e,ownerState:n})=>e==="filled"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:e,ownerState:n,size:r})=>e==="filled"&&n.shrink&&r==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:e,ownerState:n})=>e==="outlined"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),T_=O.forwardRef(function(e,n){const r=me({name:"MuiInputLabel",props:e}),{disableAnimation:o=!1,margin:a,shrink:s,variant:u,className:c,...f}=r,h=il();let p=s;typeof p>"u"&&h&&(p=h.filled||h.focused||h.adornedStart);const v=al({props:r,muiFormControl:h,states:["size","variant","required","focused"]}),g={...r,disableAnimation:o,formControl:h,shrink:p,size:v.size,variant:v.variant,required:v.required,focused:v.focused},y=cV(g);return U.jsx(fV,{"data-shrink":p,ref:n,className:Ht(y.root,c),...f,ownerState:g,classes:y})}),dV=O.createContext({});function hV(t){return he("MuiList",t)}fe("MuiList",["root","padding","dense","subheader"]);const pV=t=>{const{classes:e,disablePadding:n,dense:r,subheader:o}=t;return de({root:["root",!n&&"padding",r&&"dense",o&&"subheader"]},hV,e)},mV=Tt("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>t.subheader,style:{paddingTop:0}}]}),vV=O.forwardRef(function(e,n){const r=me({props:e,name:"MuiList"}),{children:o,className:a,component:s="ul",dense:u=!1,disablePadding:c=!1,subheader:f,...h}=r,p=O.useMemo(()=>({dense:u}),[u]),v={...r,component:s,dense:u,disablePadding:c},g=pV(v);return U.jsx(dV.Provider,{value:p,children:U.jsxs(mV,{as:s,className:Ht(g.root,a),ref:n,ownerState:v,...h,children:[f,o]})})});function Lg(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function _E(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function R_(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.startsWith(e.keys.join(""))}function mc(t,e,n,r,o,a){let s=!1,u=o(t,e,e?n:!1);for(;u;){if(u===t.firstChild){if(s)return!1;s=!0}const c=r?!1:u.disabled||u.getAttribute("aria-disabled")==="true";if(!u.hasAttribute("tabindex")||!R_(u,a)||c)u=o(t,u,n);else return u.focus(),!0}return!1}const gV=O.forwardRef(function(e,n){const{actions:r,autoFocus:o=!1,autoFocusItem:a=!1,children:s,className:u,disabledItemsFocusable:c=!1,disableListWrap:f=!1,onKeyDown:h,variant:p="selectedMenu",...v}=e,g=O.useRef(null),y=O.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});go(()=>{o&&g.current.focus()},[o]),O.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(E,{direction:T})=>{const R=!g.current.style.width;if(E.clientHeight<g.current.clientHeight&&R){const _=`${S_(_a(E))}px`;g.current.style[T==="rtl"?"paddingLeft":"paddingRight"]=_,g.current.style.width=`calc(100% + ${_})`}return g.current}}),[]);const x=E=>{const T=g.current,R=E.key;if(E.ctrlKey||E.metaKey||E.altKey){h&&h(E);return}const M=er(T).activeElement;if(R==="ArrowDown")E.preventDefault(),mc(T,M,f,c,Lg);else if(R==="ArrowUp")E.preventDefault(),mc(T,M,f,c,_E);else if(R==="Home")E.preventDefault(),mc(T,null,f,c,Lg);else if(R==="End")E.preventDefault(),mc(T,null,f,c,_E);else if(R.length===1){const k=y.current,N=R.toLowerCase(),I=performance.now();k.keys.length>0&&(I-k.lastTime>500?(k.keys=[],k.repeating=!0,k.previousKeyMatched=!0):k.repeating&&N!==k.keys[0]&&(k.repeating=!1)),k.lastTime=I,k.keys.push(N);const z=M&&!k.repeating&&R_(M,k);k.previousKeyMatched&&(z||mc(T,M,!1,c,Lg,k))?E.preventDefault():k.previousKeyMatched=!1}h&&h(E)},w=jn(g,n);let S=-1;O.Children.forEach(s,(E,T)=>{if(!O.isValidElement(E)){S===T&&(S+=1,S>=s.length&&(S=-1));return}E.props.disabled||(p==="selectedMenu"&&E.props.selected||S===-1)&&(S=T),S===T&&(E.props.disabled||E.props.muiSkipListHighlight||E.type.muiSkipListHighlight)&&(S+=1,S>=s.length&&(S=-1))});const A=O.Children.map(s,(E,T)=>{if(T===S){const R={};return a&&(R.autoFocus=!0),E.props.tabIndex===void 0&&p==="selectedMenu"&&(R.tabIndex=0),O.cloneElement(E,R)}return E});return U.jsx(vV,{role:"menu",ref:w,className:u,onKeyDown:x,tabIndex:o?0:-1,...v,children:A})});function yV(t){return he("MuiPopover",t)}fe("MuiPopover",["root","paper"]);function DE(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function kE(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function ME(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function Zd(t){return typeof t=="function"?t():t}const bV=t=>{const{classes:e}=t;return de({root:["root"],paper:["paper"]},yV,e)},xV=Tt(C_,{name:"MuiPopover",slot:"Root"})({}),A_=Tt(rl,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),wV=O.forwardRef(function(e,n){const r=me({props:e,name:"MuiPopover"}),{action:o,anchorEl:a,anchorOrigin:s={vertical:"top",horizontal:"left"},anchorPosition:u,anchorReference:c="anchorEl",children:f,className:h,container:p,elevation:v=8,marginThreshold:g=16,open:y,PaperProps:x={},slots:w={},slotProps:S={},transformOrigin:A={vertical:"top",horizontal:"left"},TransitionComponent:E,transitionDuration:T="auto",TransitionProps:R={},disableScrollLock:_=!1,...M}=r,k=O.useRef(),N={...r,anchorOrigin:s,anchorReference:c,elevation:v,marginThreshold:g,transformOrigin:A,TransitionComponent:E,transitionDuration:T,TransitionProps:R},I=bV(N),z=O.useCallback(()=>{if(c==="anchorPosition")return u;const Et=Zd(a),At=(Et&&Et.nodeType===1?Et:er(k.current).body).getBoundingClientRect();return{top:At.top+DE(At,s.vertical),left:At.left+kE(At,s.horizontal)}},[a,s.horizontal,s.vertical,u,c]),D=O.useCallback(Et=>({vertical:DE(Et,A.vertical),horizontal:kE(Et,A.horizontal)}),[A.horizontal,A.vertical]),$=O.useCallback(Et=>{const xt={width:Et.offsetWidth,height:Et.offsetHeight},At=D(xt);if(c==="none")return{top:null,left:null,transformOrigin:ME(At)};const Rt=z();let St=Rt.top-At.vertical,zt=Rt.left-At.horizontal;const Xt=St+xt.height,Qt=zt+xt.width,se=_a(Zd(a)),te=se.innerHeight-g,oe=se.innerWidth-g;if(g!==null&&St<g){const Zt=St-g;St-=Zt,At.vertical+=Zt}else if(g!==null&&Xt>te){const Zt=Xt-te;St-=Zt,At.vertical+=Zt}if(g!==null&&zt<g){const Zt=zt-g;zt-=Zt,At.horizontal+=Zt}else if(Qt>oe){const Zt=Qt-oe;zt-=Zt,At.horizontal+=Zt}return{top:`${Math.round(St)}px`,left:`${Math.round(zt)}px`,transformOrigin:ME(At)}},[a,c,z,D,g]),[j,W]=O.useState(y),B=O.useCallback(()=>{const Et=k.current;if(!Et)return;const xt=$(Et);xt.top!==null&&Et.style.setProperty("top",xt.top),xt.left!==null&&(Et.style.left=xt.left),Et.style.transformOrigin=xt.transformOrigin,W(!0)},[$]);O.useEffect(()=>(_&&window.addEventListener("scroll",B),()=>window.removeEventListener("scroll",B)),[a,_,B]);const H=()=>{B()},q=()=>{W(!1)};O.useEffect(()=>{y&&B()}),O.useImperativeHandle(o,()=>y?{updatePosition:()=>{B()}}:null,[y,B]),O.useEffect(()=>{if(!y)return;const Et=ZA(()=>{B()}),xt=_a(Zd(a));return xt.addEventListener("resize",Et),()=>{Et.clear(),xt.removeEventListener("resize",Et)}},[a,y,B]);let X=T;const F={slots:{transition:E,...w},slotProps:{transition:R,paper:x,...S}},[Q,et]=ge("transition",{elementType:Wh,externalForwardedProps:F,ownerState:N,getSlotProps:Et=>({...Et,onEntering:(xt,At)=>{Et.onEntering?.(xt,At),H()},onExited:xt=>{Et.onExited?.(xt),q()}}),additionalProps:{appear:!0,in:y}});T==="auto"&&!Q.muiSupportAuto&&(X=void 0);const nt=p||(a?er(Zd(a)).body:void 0),[lt,{slots:pt,slotProps:vt,...bt}]=ge("root",{ref:n,elementType:xV,externalForwardedProps:{...F,...M},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:w.backdrop},slotProps:{backdrop:HF(typeof S.backdrop=="function"?S.backdrop(N):S.backdrop,{invisible:!0})},container:nt,open:y},ownerState:N,className:Ht(I.root,h)}),[yt,wt]=ge("paper",{ref:k,className:I.paper,elementType:A_,externalForwardedProps:F,shouldForwardComponentProp:!0,additionalProps:{elevation:v,style:j?void 0:{opacity:0}},ownerState:N});return U.jsx(lt,{...bt,...!Ky(lt)&&{slots:pt,slotProps:vt,disableScrollLock:_},children:U.jsx(Q,{...et,timeout:X,children:U.jsx(yt,{...wt,children:f})})})});function SV(t){return he("MuiMenu",t)}fe("MuiMenu",["root","paper","list"]);const CV={vertical:"top",horizontal:"right"},EV={vertical:"top",horizontal:"left"},TV=t=>{const{classes:e}=t;return de({root:["root"],paper:["paper"],list:["list"]},SV,e)},RV=Tt(wV,{shouldForwardProp:t=>io(t)||t==="classes",name:"MuiMenu",slot:"Root"})({}),AV=Tt(A_,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),_V=Tt(gV,{name:"MuiMenu",slot:"List"})({outline:0}),DV=O.forwardRef(function(e,n){const r=me({props:e,name:"MuiMenu"}),{autoFocus:o=!0,children:a,className:s,disableAutoFocusItem:u=!1,MenuListProps:c={},onClose:f,open:h,PaperProps:p={},PopoverClasses:v,transitionDuration:g="auto",TransitionProps:{onEntering:y,...x}={},variant:w="selectedMenu",slots:S={},slotProps:A={},...E}=r,T=VA(),R={...r,autoFocus:o,disableAutoFocusItem:u,MenuListProps:c,onEntering:y,PaperProps:p,transitionDuration:g,TransitionProps:x,variant:w},_=TV(R),M=o&&!u&&h,k=O.useRef(null),N=(X,F)=>{k.current&&k.current.adjustStyleForScrollbar(X,{direction:T?"rtl":"ltr"}),y&&y(X,F)},I=X=>{X.key==="Tab"&&(X.preventDefault(),f&&f(X,"tabKeyDown"))};let z=-1;O.Children.map(a,(X,F)=>{O.isValidElement(X)&&(X.props.disabled||(w==="selectedMenu"&&X.props.selected||z===-1)&&(z=F))});const D={slots:S,slotProps:{list:c,transition:x,paper:p,...A}},$=y_({elementType:S.root,externalSlotProps:A.root,ownerState:R,className:[_.root,s]}),[j,W]=ge("paper",{className:_.paper,elementType:AV,externalForwardedProps:D,shouldForwardComponentProp:!0,ownerState:R}),[B,H]=ge("list",{className:Ht(_.list,c.className),elementType:_V,shouldForwardComponentProp:!0,externalForwardedProps:D,getSlotProps:X=>({...X,onKeyDown:F=>{I(F),X.onKeyDown?.(F)}}),ownerState:R}),q=typeof D.slotProps.transition=="function"?D.slotProps.transition(R):D.slotProps.transition;return U.jsx(RV,{onClose:f,anchorOrigin:{vertical:"bottom",horizontal:T?"right":"left"},transformOrigin:T?CV:EV,slots:{root:S.root,paper:j,backdrop:S.backdrop,...S.transition&&{transition:S.transition}},slotProps:{root:$,paper:W,backdrop:typeof A.backdrop=="function"?A.backdrop(R):A.backdrop,transition:{...q,onEntering:(...X)=>{N(...X),q?.onEntering?.(...X)}}},open:h,ref:n,transitionDuration:g,ownerState:R,...E,classes:v,children:U.jsx(B,{actions:k,autoFocus:o&&(z===-1||u),autoFocusItem:M,variant:w,...H,children:a})})});function kV(t){return he("MuiNativeSelect",t)}const Db=fe("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),MV=t=>{const{classes:e,variant:n,disabled:r,multiple:o,open:a,error:s}=t,u={select:["select",n,r&&"disabled",o&&"multiple",s&&"error"],icon:["icon",`icon${Lt(n)}`,a&&"iconOpen",r&&"disabled"]};return de(u,kV,e)},__=Tt("select",{name:"MuiNativeSelect"})(({theme:t})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${Db.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},variants:[{props:({ownerState:e})=>e.variant!=="filled"&&e.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}}]})),NV=Tt(__,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:io,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${Db.multiple}`]:e.multiple}]}})({}),D_=Tt("svg",{name:"MuiNativeSelect"})(({theme:t})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${Db.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:({ownerState:e})=>e.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),OV=Tt(D_,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${Lt(n.variant)}`],n.open&&e.iconOpen]}})({}),PV=O.forwardRef(function(e,n){const{className:r,disabled:o,error:a,IconComponent:s,inputRef:u,variant:c="standard",...f}=e,h={...e,disabled:o,variant:c,error:a},p=MV(h);return U.jsxs(O.Fragment,{children:[U.jsx(NV,{ownerState:h,className:Ht(p.select,r),disabled:o,ref:u||n,...f}),e.multiple?null:U.jsx(OV,{as:s,ownerState:h,className:p.icon})]})});var NE;const IV=Tt("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:io})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),BV=Tt("legend",{name:"MuiNotchedOutlined",shouldForwardProp:io})(Le(({theme:t})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:e})=>!e.withLabel,style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:({ownerState:e})=>e.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:e})=>e.withLabel&&e.notched,style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]})));function FV(t){const{children:e,classes:n,className:r,label:o,notched:a,...s}=t,u=o!=null&&o!=="",c={...t,notched:a,withLabel:u};return U.jsx(IV,{"aria-hidden":!0,className:r,ownerState:c,...s,children:U.jsx(BV,{ownerState:c,children:u?U.jsx("span",{children:o}):NE||(NE=U.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"}))})})}const LV=t=>{const{classes:e}=t,r=de({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Dz,e);return{...e,...r}},zV=Tt(Lp,{shouldForwardProp:t=>io(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:Bp})(Le(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${Ao.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${Ao.notchedOutline}`]:{borderColor:t.vars?t.alpha(t.vars.palette.common.onBackground,.23):e}},[`&.${Ao.focused} .${Ao.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(t.palette).filter(to()).map(([n])=>({props:{color:n},style:{[`&.${Ao.focused} .${Ao.notchedOutline}`]:{borderColor:(t.vars||t).palette[n].main}}})),{props:{},style:{[`&.${Ao.error} .${Ao.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${Ao.disabled} .${Ao.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}}},{props:({ownerState:n})=>n.startAdornment,style:{paddingLeft:14}},{props:({ownerState:n})=>n.endAdornment,style:{paddingRight:14}},{props:({ownerState:n})=>n.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:n,size:r})=>n.multiline&&r==="small",style:{padding:"8.5px 14px"}}]}})),VV=Tt(FV,{name:"MuiOutlinedInput",slot:"NotchedOutline"})(Le(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?t.alpha(t.vars.palette.common.onBackground,.23):e}})),UV=Tt(zp,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Fp})(Le(({theme:t})=>({padding:"16.5px 14px",...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:e})=>e.multiline,style:{padding:0}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}}]}))),kb=O.forwardRef(function(e,n){const r=me({props:e,name:"MuiOutlinedInput"}),{components:o={},fullWidth:a=!1,inputComponent:s="input",label:u,multiline:c=!1,notched:f,slots:h={},slotProps:p={},type:v="text",...g}=r,y=LV(r),x=il(),w=al({props:r,muiFormControl:x,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),S={...r,color:w.color||"primary",disabled:w.disabled,error:w.error,focused:w.focused,formControl:x,fullWidth:a,hiddenLabel:w.hiddenLabel,multiline:c,size:w.size,type:v},A=h.root??o.Root??zV,E=h.input??o.Input??UV,[T,R]=ge("notchedOutline",{elementType:VV,className:y.notchedOutline,shouldForwardComponentProp:!0,ownerState:S,externalForwardedProps:{slots:h,slotProps:p},additionalProps:{label:u!=null&&u!==""&&w.required?U.jsxs(O.Fragment,{children:[u," ","*"]}):u}});return U.jsx(Rb,{slots:{root:A,input:E},slotProps:p,renderSuffix:_=>U.jsx(T,{...R,notched:typeof f<"u"?f:!!(_.startAdornment||_.filled||_.focused)}),fullWidth:a,inputComponent:s,multiline:c,ref:n,type:v,...g,classes:{...y,notchedOutline:null}})});kb.muiName="Input";function k_(t){return he("MuiSelect",t)}const vc=fe("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var OE;const jV=Tt(__,{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${vc.select}`]:e.select},{[`&.${vc.select}`]:e[n.variant]},{[`&.${vc.error}`]:e.error},{[`&.${vc.multiple}`]:e.multiple}]}})({[`&.${vc.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),WV=Tt(D_,{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${Lt(n.variant)}`],n.open&&e.iconOpen]}})({}),HV=Tt("input",{shouldForwardProp:t=>QA(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function PE(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function GV(t){return t==null||typeof t=="string"&&!t.trim()}const $V=t=>{const{classes:e,variant:n,disabled:r,multiple:o,open:a,error:s}=t,u={select:["select",n,r&&"disabled",o&&"multiple",s&&"error"],icon:["icon",`icon${Lt(n)}`,a&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return de(u,k_,e)},qV=O.forwardRef(function(e,n){const{"aria-describedby":r,"aria-label":o,autoFocus:a,autoWidth:s,children:u,className:c,defaultOpen:f,defaultValue:h,disabled:p,displayEmpty:v,error:g=!1,IconComponent:y,inputRef:x,labelId:w,MenuProps:S={},multiple:A,name:E,onBlur:T,onChange:R,onClose:_,onFocus:M,onOpen:k,open:N,readOnly:I,renderValue:z,required:D,SelectDisplayProps:$={},tabIndex:j,type:W,value:B,variant:H="standard",...q}=e,[X,F]=JC({controlled:B,default:h,name:"Select"}),[Q,et]=JC({controlled:N,default:f,name:"Select"}),nt=O.useRef(null),lt=O.useRef(null),[pt,vt]=O.useState(null),{current:bt}=O.useRef(N!=null),[yt,wt]=O.useState(),Et=jn(n,x),xt=O.useCallback(Pt=>{lt.current=Pt,Pt&&vt(Pt)},[]),At=pt?.parentNode;O.useImperativeHandle(Et,()=>({focus:()=>{lt.current.focus()},node:nt.current,value:X}),[X]),O.useEffect(()=>{f&&Q&&pt&&!bt&&(wt(s?null:At.clientWidth),lt.current.focus())},[pt,s]),O.useEffect(()=>{a&&lt.current.focus()},[a]),O.useEffect(()=>{if(!w)return;const Pt=er(lt.current).getElementById(w);if(Pt){const Ae=()=>{getSelection().isCollapsed&&lt.current.focus()};return Pt.addEventListener("click",Ae),()=>{Pt.removeEventListener("click",Ae)}}},[w]);const Rt=(Pt,Ae)=>{Pt?k&&k(Ae):_&&_(Ae),bt||(wt(s?null:At.clientWidth),et(Pt))},St=Pt=>{Pt.button===0&&(Pt.preventDefault(),lt.current.focus(),Rt(!0,Pt))},zt=Pt=>{Rt(!1,Pt)},Xt=O.Children.toArray(u),Qt=Pt=>{const Ae=Xt.find(Ke=>Ke.props.value===Pt.target.value);Ae!==void 0&&(F(Ae.props.value),R&&R(Pt,Ae))},se=Pt=>Ae=>{let Ke;if(Ae.currentTarget.hasAttribute("tabindex")){if(A){Ke=Array.isArray(X)?X.slice():[];const za=X.indexOf(Pt.props.value);za===-1?Ke.push(Pt.props.value):Ke.splice(za,1)}else Ke=Pt.props.value;if(Pt.props.onClick&&Pt.props.onClick(Ae),X!==Ke&&(F(Ke),R)){const za=Ae.nativeEvent||Ae,dl=new za.constructor(za.type,za);Object.defineProperty(dl,"target",{writable:!0,value:{value:Ke,name:E}}),R(dl,Pt)}A||Rt(!1,Ae)}},te=Pt=>{I||[" ","ArrowUp","ArrowDown","Enter"].includes(Pt.key)&&(Pt.preventDefault(),Rt(!0,Pt))},oe=pt!==null&&Q,Zt=Pt=>{!oe&&T&&(Object.defineProperty(Pt,"target",{writable:!0,value:{value:X,name:E}}),T(Pt))};delete q["aria-invalid"];let _t,Ve;const be=[];let He=!1;(Uh({value:X})||v)&&(z?_t=z(X):He=!0);const we=Xt.map(Pt=>{if(!O.isValidElement(Pt))return null;let Ae;if(A){if(!Array.isArray(X))throw new Error(Ra(2));Ae=X.some(Ke=>PE(Ke,Pt.props.value)),Ae&&He&&be.push(Pt.props.children)}else Ae=PE(X,Pt.props.value),Ae&&He&&(Ve=Pt.props.children);return O.cloneElement(Pt,{"aria-selected":Ae?"true":"false",onClick:se(Pt),onKeyUp:Ke=>{Ke.key===" "&&Ke.preventDefault(),Pt.props.onKeyUp&&Pt.props.onKeyUp(Ke)},role:"option",selected:Ae,value:void 0,"data-value":Pt.props.value})});He&&(A?be.length===0?_t=null:_t=be.reduce((Pt,Ae,Ke)=>(Pt.push(Ae),Ke<be.length-1&&Pt.push(", "),Pt),[]):_t=Ve);let Ut=yt;!s&&bt&&pt&&(Ut=At.clientWidth);let Jt;typeof j<"u"?Jt=j:Jt=p?null:0;const pe=$.id||(E?`mui-component-select-${E}`:void 0),On={...e,variant:H,value:X,open:oe,error:g},Re=$V(On),xo={...S.PaperProps,...typeof S.slotProps?.paper=="function"?S.slotProps.paper(On):S.slotProps?.paper},xr={...S.MenuListProps,...typeof S.slotProps?.list=="function"?S.slotProps.list(On):S.slotProps?.list},uo=el();return U.jsxs(O.Fragment,{children:[U.jsx(jV,{as:"div",ref:xt,tabIndex:Jt,role:"combobox","aria-controls":oe?uo:void 0,"aria-disabled":p?"true":void 0,"aria-expanded":oe?"true":"false","aria-haspopup":"listbox","aria-label":o,"aria-labelledby":[w,pe].filter(Boolean).join(" ")||void 0,"aria-describedby":r,"aria-required":D?"true":void 0,"aria-invalid":g?"true":void 0,onKeyDown:te,onMouseDown:p||I?null:St,onBlur:Zt,onFocus:M,...$,ownerState:On,className:Ht($.className,Re.select,c),id:pe,children:GV(_t)?OE||(OE=U.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):_t}),U.jsx(HV,{"aria-invalid":g,value:Array.isArray(X)?X.join(","):X,name:E,ref:nt,"aria-hidden":!0,onChange:Qt,tabIndex:-1,disabled:p,className:Re.nativeInput,autoFocus:a,required:D,...q,ownerState:On}),U.jsx(WV,{as:y,className:Re.icon,ownerState:On}),U.jsx(DV,{id:`menu-${E||""}`,anchorEl:At,open:oe,onClose:zt,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...S,slotProps:{...S.slotProps,list:{"aria-labelledby":w,role:"listbox","aria-multiselectable":A?"true":void 0,disableListWrap:!0,id:uo,...xr},paper:{...xo,style:{minWidth:Ut,...xo!=null?xo.style:null}}},children:we})]})}),KV=t=>{const{classes:e}=t,r=de({root:["root"]},k_,e);return{...e,...r}},Mb={name:"MuiSelect",slot:"Root",shouldForwardProp:t=>io(t)&&t!=="variant"},XV=Tt(Vp,Mb)(""),YV=Tt(kb,Mb)(""),QV=Tt(_b,Mb)(""),M_=O.forwardRef(function(e,n){const r=me({name:"MuiSelect",props:e}),{autoWidth:o=!1,children:a,classes:s={},className:u,defaultOpen:c=!1,displayEmpty:f=!1,IconComponent:h=Mz,id:p,input:v,inputProps:g,label:y,labelId:x,MenuProps:w,multiple:S=!1,native:A=!1,onClose:E,onOpen:T,open:R,renderValue:_,SelectDisplayProps:M,variant:k="outlined",...N}=r,I=A?PV:qV,z=il(),D=al({props:r,muiFormControl:z,states:["variant","error"]}),$=D.variant||k,j={...r,variant:$,classes:s},W=KV(j),{root:B,...H}=W,q=v||{standard:U.jsx(XV,{ownerState:j}),outlined:U.jsx(YV,{label:y,ownerState:j}),filled:U.jsx(QV,{ownerState:j})}[$],X=jn(n,ol(q));return U.jsx(O.Fragment,{children:O.cloneElement(q,{inputComponent:I,inputProps:{children:a,error:D.error,IconComponent:h,variant:$,type:void 0,multiple:S,...A?{id:p}:{autoWidth:o,defaultOpen:c,displayEmpty:f,labelId:x,MenuProps:w,onClose:E,onOpen:T,open:R,renderValue:_,SelectDisplayProps:{id:p,...M}},...g,classes:g?tr(H,g.classes):H,...v?v.props.inputProps:{}},...(S&&A||f)&&$==="outlined"?{notched:!0}:{},ref:X,className:Ht(q.props.className,u,W.root),...!v&&{variant:$},...N})})});M_.muiName="Select";function ZV(t={}){const{autoHideDuration:e=null,disableWindowBlurListener:n=!1,onClose:r,open:o,resumeHideDuration:a}=t,s=gb();O.useEffect(()=>{if(!o)return;function S(A){A.defaultPrevented||A.key==="Escape"&&r?.(A,"escapeKeyDown")}return document.addEventListener("keydown",S),()=>{document.removeEventListener("keydown",S)}},[o,r]);const u=zo((S,A)=>{r?.(S,A)}),c=zo(S=>{!r||S==null||s.start(S,()=>{u(null,"timeout")})});O.useEffect(()=>(o&&c(e),s.clear),[o,e,c,s]);const f=S=>{r?.(S,"clickaway")},h=s.clear,p=O.useCallback(()=>{e!=null&&c(a??e*.5)},[e,a,c]),v=S=>A=>{const E=S.onBlur;E?.(A),p()},g=S=>A=>{const E=S.onFocus;E?.(A),h()},y=S=>A=>{const E=S.onMouseEnter;E?.(A),h()},x=S=>A=>{const E=S.onMouseLeave;E?.(A),p()};return O.useEffect(()=>{if(!n&&o)return window.addEventListener("focus",p),window.addEventListener("blur",h),()=>{window.removeEventListener("focus",p),window.removeEventListener("blur",h)}},[n,o,p,h]),{getRootProps:(S={})=>{const A={...Lh(t),...Lh(S)};return{role:"presentation",...S,...A,onBlur:v(A),onFocus:g(A),onMouseEnter:y(A),onMouseLeave:x(A)}},onClickAway:f}}function JV(t){return he("MuiSnackbarContent",t)}fe("MuiSnackbarContent",["root","message","action"]);const tU=t=>{const{classes:e}=t;return de({root:["root"],action:["action"],message:["message"]},JV,e)},eU=Tt(rl,{name:"MuiSnackbarContent",slot:"Root"})(Le(({theme:t})=>{const e=t.palette.mode==="light"?.8:.98;return{...t.typography.body2,color:t.vars?t.vars.palette.SnackbarContent.color:t.palette.getContrastText(Iy(t.palette.background.default,e)),backgroundColor:t.vars?t.vars.palette.SnackbarContent.bg:Iy(t.palette.background.default,e),display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",flexGrow:1,[t.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}}})),nU=Tt("div",{name:"MuiSnackbarContent",slot:"Message"})({padding:"8px 0"}),rU=Tt("div",{name:"MuiSnackbarContent",slot:"Action"})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),oU=O.forwardRef(function(e,n){const r=me({props:e,name:"MuiSnackbarContent"}),{action:o,className:a,message:s,role:u="alert",...c}=r,f=r,h=tU(f);return U.jsxs(eU,{role:u,elevation:6,className:Ht(h.root,a),ownerState:f,ref:n,...c,children:[U.jsx(nU,{className:h.message,ownerState:f,children:s}),o?U.jsx(rU,{className:h.action,ownerState:f,children:o}):null]})});function aU(t){return he("MuiSnackbar",t)}fe("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const iU=t=>{const{classes:e,anchorOrigin:n}=t,r={root:["root",`anchorOrigin${Lt(n.vertical)}${Lt(n.horizontal)}`]};return de(r,aU,e)},sU=Tt("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`anchorOrigin${Lt(n.anchorOrigin.vertical)}${Lt(n.anchorOrigin.horizontal)}`]]}})(Le(({theme:t})=>({zIndex:(t.vars||t).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center",variants:[{props:({ownerState:e})=>e.anchorOrigin.vertical==="top",style:{top:8,[t.breakpoints.up("sm")]:{top:24}}},{props:({ownerState:e})=>e.anchorOrigin.vertical!=="top",style:{bottom:8,[t.breakpoints.up("sm")]:{bottom:24}}},{props:({ownerState:e})=>e.anchorOrigin.horizontal==="left",style:{justifyContent:"flex-start",[t.breakpoints.up("sm")]:{left:24,right:"auto"}}},{props:({ownerState:e})=>e.anchorOrigin.horizontal==="right",style:{justifyContent:"flex-end",[t.breakpoints.up("sm")]:{right:24,left:"auto"}}},{props:({ownerState:e})=>e.anchorOrigin.horizontal==="center",style:{[t.breakpoints.up("sm")]:{left:"50%",right:"auto",transform:"translateX(-50%)"}}}]}))),Hh=O.forwardRef(function(e,n){const r=me({props:e,name:"MuiSnackbar"}),o=nl(),a={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{action:s,anchorOrigin:{vertical:u,horizontal:c}={vertical:"bottom",horizontal:"left"},autoHideDuration:f=null,children:h,className:p,ClickAwayListenerProps:v,ContentProps:g,disableWindowBlurListener:y=!1,message:x,onBlur:w,onClose:S,onFocus:A,onMouseEnter:E,onMouseLeave:T,open:R,resumeHideDuration:_,slots:M={},slotProps:k={},TransitionComponent:N,transitionDuration:I=a,TransitionProps:{onEnter:z,onExited:D,...$}={},...j}=r,W={...r,anchorOrigin:{vertical:u,horizontal:c},autoHideDuration:f,disableWindowBlurListener:y,TransitionComponent:N,transitionDuration:I},B=iU(W),{getRootProps:H,onClickAway:q}=ZV({...W}),[X,F]=O.useState(!0),Q=Rt=>{F(!0),D&&D(Rt)},et=(Rt,St)=>{F(!1),z&&z(Rt,St)},nt={slots:{transition:N,...M},slotProps:{content:g,clickAwayListener:v,transition:$,...k}},[lt,pt]=ge("root",{ref:n,className:[B.root,p],elementType:sU,getSlotProps:H,externalForwardedProps:{...nt,...j},ownerState:W}),[vt,{ownerState:bt,...yt}]=ge("clickAwayListener",{elementType:t6,externalForwardedProps:nt,getSlotProps:Rt=>({onClickAway:(...St)=>{const zt=St[0];Rt.onClickAway?.(...St),!zt?.defaultMuiPrevented&&q(...St)}}),ownerState:W}),[wt,Et]=ge("content",{elementType:oU,shouldForwardComponentProp:!0,externalForwardedProps:nt,additionalProps:{message:x,action:s},ownerState:W}),[xt,At]=ge("transition",{elementType:Wh,externalForwardedProps:nt,getSlotProps:Rt=>({onEnter:(...St)=>{Rt.onEnter?.(...St),et(...St)},onExited:(...St)=>{Rt.onExited?.(...St),Q(...St)}}),additionalProps:{appear:!0,in:R,timeout:I,direction:u==="top"?"down":"up"},ownerState:W});return!R&&X?null:U.jsx(vt,{...yt,...M.clickAwayListener&&{ownerState:bt},children:U.jsx(lt,{...pt,children:U.jsx(xt,{...At,children:h||U.jsx(wt,{...Et})})})})});function uU(t){return he("MuiTextField",t)}fe("MuiTextField",["root"]);const lU={standard:Vp,filled:_b,outlined:kb},cU=t=>{const{classes:e}=t;return de({root:["root"]},uU,e)},fU=Tt(jh,{name:"MuiTextField",slot:"Root"})({}),fs=O.forwardRef(function(e,n){const r=me({props:e,name:"MuiTextField"}),{autoComplete:o,autoFocus:a=!1,children:s,className:u,color:c="primary",defaultValue:f,disabled:h=!1,error:p=!1,FormHelperTextProps:v,fullWidth:g=!1,helperText:y,id:x,InputLabelProps:w,inputProps:S,InputProps:A,inputRef:E,label:T,maxRows:R,minRows:_,multiline:M=!1,name:k,onBlur:N,onChange:I,onFocus:z,placeholder:D,required:$=!1,rows:j,select:W=!1,SelectProps:B,slots:H={},slotProps:q={},type:X,value:F,variant:Q="outlined",...et}=r,nt={...r,autoFocus:a,color:c,disabled:h,error:p,fullWidth:g,multiline:M,required:$,select:W,variant:Q},lt=cU(nt),pt=el(x),vt=y&&pt?`${pt}-helper-text`:void 0,bt=T&&pt?`${pt}-label`:void 0,yt=lU[Q],wt={slots:H,slotProps:{input:A,inputLabel:w,htmlInput:S,formHelperText:v,select:B,...q}},Et={},xt=wt.slotProps.inputLabel;Q==="outlined"&&(xt&&typeof xt.shrink<"u"&&(Et.notched=xt.shrink),Et.label=T),W&&((!B||!B.native)&&(Et.id=void 0),Et["aria-describedby"]=void 0);const[At,Rt]=ge("root",{elementType:fU,shouldForwardComponentProp:!0,externalForwardedProps:{...wt,...et},ownerState:nt,className:Ht(lt.root,u),ref:n,additionalProps:{disabled:h,error:p,fullWidth:g,required:$,color:c,variant:Q}}),[St,zt]=ge("input",{elementType:yt,externalForwardedProps:wt,additionalProps:Et,ownerState:nt}),[Xt,Qt]=ge("inputLabel",{elementType:T_,externalForwardedProps:wt,ownerState:nt}),[se,te]=ge("htmlInput",{elementType:"input",externalForwardedProps:wt,ownerState:nt}),[oe,Zt]=ge("formHelperText",{elementType:J6,externalForwardedProps:wt,ownerState:nt}),[_t,Ve]=ge("select",{elementType:M_,externalForwardedProps:wt,ownerState:nt}),be=U.jsx(St,{"aria-describedby":vt,autoComplete:o,autoFocus:a,defaultValue:f,fullWidth:g,multiline:M,name:k,rows:j,maxRows:R,minRows:_,type:X,value:F,id:pt,inputRef:E,onBlur:N,onChange:I,onFocus:z,placeholder:D,inputProps:te,slots:{input:H.htmlInput?se:void 0},...zt});return U.jsxs(At,{...Rt,children:[T!=null&&T!==""&&U.jsx(Xt,{htmlFor:pt,id:bt,...Qt,children:T}),W?U.jsx(_t,{"aria-describedby":vt,id:pt,labelId:bt,value:F,input:be,...Ve,children:s}):be,y&&U.jsx(oe,{id:vt,...Zt,children:y})]})}),dU=()=>{const t=nl();return U.jsx("div",{className:"",children:U.jsxs("div",{className:"relative w-screen h-screen",children:[U.jsx("img",{src:"https://i.pinimg.com/originals/0e/80/3f/0e803ff6dbf0f871b957238c6e3df18b.gif",className:"absolute top-0 left-0 w-full h-full object-cover"}),U.jsx("div",{className:"w-full h-full absolute top-0 left-0 flex justify-center",children:U.jsxs("div",{className:"w-[60%] mx-auto h-[80%]  absolute bg-cloudy p-8 my-8 ",children:[U.jsx(Ca,{component:"h5",variant:"h5",children:U.jsx("div",{className:"comic-neue-regular",children:"InnerNote is your personal safe space to capture thoughts, feelings, and reflections. Write with ease, organize your moments, and return whenever you need clarity. Simple, private, and made just for you — secured with face login so only you can unlock your space."})}),U.jsx("div",{className:"mt-20 flex justify-center",children:U.jsxs("div",{className:"flex-col w-52 gap-y-6",children:[U.jsxs(Dh,{to:"/login",children:[" ",U.jsx(Xn,{variant:"contained",size:"large",sx:{textTransform:"capitalize",width:"100%",marginBottom:"1rem"},children:"Login"})]}),U.jsxs(Dh,{to:"/signin",children:["  ",U.jsx(Xn,{size:"large",sx:{textTransform:"capitalize",width:"100%"},style:{background:t.palette.secondary.main,color:t.palette.secondary.contrastText},children:"Register"})," "]})]})})]})})]})})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var N_=function(t,e){return(N_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)r.hasOwnProperty(o)&&(n[o]=r[o])})(t,e)};function yo(t,e){function n(){this.constructor=t}N_(t,e),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function Mt(t,e,n,r){return new(n||(n=Promise))(function(o,a){function s(f){try{c(r.next(f))}catch(h){a(h)}}function u(f){try{c(r.throw(f))}catch(h){a(h)}}function c(f){f.done?o(f.value):new n(function(h){h(f.value)}).then(s,u)}c((r=r.apply(t,[])).next())})}function Nt(t,e){var n,r,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function u(c){return function(f){return function(h){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&h[0]?r.return:h[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,h[1])).done)return o;switch(r=0,o&&(h=[2&h[0],o.value]),h[0]){case 0:case 1:o=h;break;case 4:return s.label++,{value:h[1],done:!1};case 5:s.label++,r=h[1],h=[0];continue;case 7:h=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){s=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){s.label=h[1];break}if(h[0]===6&&s.label<o[1]){s.label=o[1],o=h;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(h);break}o[2]&&s.ops.pop(),s.trys.pop();continue}h=e.call(t,s)}catch(p){h=[6,p],r=0}finally{n=o=0}if(5&h[0])throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}([c,f])}}}var hU=function(){function t(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.populateURLFlags()}return t.prototype.setPlatform=function(e,n){this.platform!=null&&console.warn("Platform "+this.platformName+" has already been set. Overwriting the platform with "+n+"."),this.platformName=e,this.platform=n},t.prototype.registerFlag=function(e,n,r){if(this.flagRegistry[e]={evaluationFn:n,setHook:r},this.urlFlags[e]!=null){var o=this.urlFlags[e];console.warn("Setting feature override from URL "+e+": "+o+"."),this.set(e,o)}},t.prototype.get=function(e){return e in this.flags?this.flags[e]:(this.flags[e]=this.evaluateFlag(e),this.flags[e])},t.prototype.getNumber=function(e){return this.get(e)},t.prototype.getBool=function(e){return this.get(e)},t.prototype.getFlags=function(){return this.flags},Object.defineProperty(t.prototype,"features",{get:function(){return this.flags},enumerable:!0,configurable:!0}),t.prototype.set=function(e,n){if(this.flagRegistry[e]==null)throw new Error("Cannot set flag "+e+" as it has not been registered.");this.flags[e]=n,this.flagRegistry[e].setHook!=null&&this.flagRegistry[e].setHook(n)},t.prototype.evaluateFlag=function(e){if(this.flagRegistry[e]==null)throw new Error("Cannot evaluate flag '"+e+"': no evaluation function found.");return this.flagRegistry[e].evaluationFn()},t.prototype.setFlags=function(e){this.flags=Object.assign({},e)},t.prototype.reset=function(){this.flags={},this.urlFlags={},this.populateURLFlags()},t.prototype.populateURLFlags=function(){var e=this;if(this.global!==void 0&&this.global.location!==void 0&&this.global.location.search!==void 0){var n,r,o=(n=this.global.location.search,r={},n.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,function(a){for(var s=[],u=1;u<arguments.length;u++)s[u-1]=arguments[u];return pU(r,s[0],s[1]),s.join("=")}),r);"tfjsflags"in o&&o.tfjsflags.split(",").forEach(function(a){var s=a.split(":"),u=s[0],c=s[1];e.urlFlags[u]=function(f,h){if((h=h.toLowerCase())==="true"||h==="false")return h==="true";if(""+ +h===h)return+h;throw new Error("Could not parse value flag value "+h+" for flag "+f+".")}(u,c)})}},t}();function pU(t,e,n){t[decodeURIComponent(e)]=decodeURIComponent(n||"")}function ft(){return O_}var O_=null,Gh=new Map,Qy=new Map;function P_(t,e){var n=B_(t,e);return Gh.get(n)}function mU(t){return Qy.get(t)}function IE(t){for(var e=Gh.entries(),n=[];;){var r=e.next(),o=r.done,a=r.value;if(o)break;var s=a[0],u=a[1];s.split("_")[0]===t&&n.push(u)}return n}function I_(t){var e=t.kernelName,n=t.backendName,r=B_(e,n);if(Gh.has(r))throw new Error("The kernel '"+e+"' for backend '"+n+"' is already registered");Gh.set(r,t)}function vU(t){var e=t.kernelName;Qy.has(e)&&console.warn("Overriding the gradient for '"+e+"'"),Qy.set(e,t)}function B_(t,e){return e+"_"+t}function Zy(t,e,n){return Math.max(t,Math.min(e,n))}function F_(t){return t%2==0?t:t+1}function gU(t){for(var e=0,n=0;n<t.length;n++)e+=t[n];return e}function G(t,e){if(!t)throw new Error(typeof e=="string"?e:e())}function De(t,e,n){n===void 0&&(n=""),G(Mn(t,e),function(){return n+" Shapes "+t+" and "+e+" must match"})}function sl(t){G(t!=null,function(){return"The input to the tensor constructor must be a non-null value."})}function $u(t,e,n){if(e===void 0&&(e=[]),n===void 0&&(n=!1),e==null&&(e=[]),Array.isArray(t)||Uo(t)&&!n)for(var r=0;r<t.length;++r)$u(t[r],e,n);else e.push(t);return e}function Ot(t){if(t.length===0)return 1;for(var e=t[0],n=1;n<t.length;n++)e*=t[n];return e}function Mn(t,e){if(t===e)return!0;if(t==null||e==null||t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function fn(t){return t%1==0}function yU(t){if(Math.tanh!=null)return Math.tanh(t);if(t===1/0)return 1;if(t===-1/0)return-1;var e=Math.exp(2*t);return(e-1)/(e+1)}function Jy(t){var e=Math.ceil(Math.sqrt(t));return[e,Math.ceil(t/e)]}function Mu(t,e){return e<=t.length?t:t+" ".repeat(e-t.length)}function BE(t,e,n){return e===void 0&&(e=function(r){return 0}),new Promise(function(r,o){var a=0,s=function(){if(t())r();else{a++;var u=e(a);n!=null&&a>=n?o():setTimeout(s,u)}};s()})}function bU(t,e){for(var n=1,r=-1,o=0;o<t.length;++o)if(t[o]>=0)n*=t[o];else if(t[o]===-1){if(r!==-1)throw Error("Shapes can only have 1 implicit size. Found -1 at dim "+r+" and dim "+o);r=o}else if(t[o]<0)throw Error("Shapes can not be < 0. Found "+t[o]+" at dim "+o);if(r===-1){if(e>0&&e!==n)throw Error("Size("+e+") must match the product of shape "+t);return t}if(n===0)throw Error("Cannot infer the missing size in ["+t+"] when there are 0 elements");if(e%n!=0)throw Error("The implicit shape can't be a fractional number. Got "+e+" / "+n);var a=t.slice();return a[r]=e/n,a}function Tn(t,e){var n=e.length;return G((t=t==null?e.map(function(r,o){return o}):[].concat(t)).every(function(r){return r>=-n&&r<n}),function(){return"All values in axis param must be in range [-"+n+", "+n+") but got axis "+t}),G(t.every(function(r){return fn(r)}),function(){return"All values in axis param must be integers but got axis "+t}),t.map(function(r){return r<0?n+r:r})}function rs(t,e){for(var n=[],r=[],o=e!=null&&Array.isArray(e)&&e.length===0,a=e==null||o?null:Tn(e,t).sort(),s=0,u=0;u<t.length;++u){if(a!=null){if(a[s]===u&&t[u]!==1)throw new Error("Can't squeeze axis "+u+" since its dim '"+t[u]+"' is not 1");(a[s]==null||a[s]>u)&&t[u]===1&&(n.push(t[u]),r.push(u)),a[s]<=u&&s++}t[u]!==1&&(n.push(t[u]),r.push(u))}return{newShape:n,keptDims:r}}function qc(t,e){var n=null;if(t==null||t==="float32")n=new Float32Array(e);else if(t==="int32")n=new Int32Array(e);else{if(t!=="bool")throw new Error("Unknown data type "+t);n=new Uint8Array(e)}return n}function $h(t,e){var n=null;if(t==null||t==="float32")n=new Float32Array(e);else if(t==="int32")n=new Int32Array(e);else if(t==="bool")n=new Uint8Array(e);else{if(t!=="string")throw new Error("Unknown data type "+t);n=new Array(e)}return n}function xU(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(isNaN(r)||!isFinite(r))throw Error("A tensor of type "+e+" being uploaded contains "+r+".")}}function wU(t){return t==="bool"||t==="complex64"||t==="float32"||t==="int32"||t==="string"}function SU(t,e){return e!=="complex64"&&(e!=="float32"||t==="complex64")&&(e!=="int32"||t==="float32"||t==="complex64")&&(e!=="bool"||t!=="bool")}function Uo(t){return t instanceof Float32Array||t instanceof Int32Array||t instanceof Uint8Array}function L_(t){if(t==="float32"||t==="int32")return 4;if(t==="complex64")return 8;if(t==="bool")return 1;throw new Error("Unknown dtype "+t)}function CU(t){if(t==null)return 0;var e=0;return t.forEach(function(n){return e+=n.length}),e}function Nb(t){return typeof t=="string"||t instanceof String}function EU(t){return typeof t=="boolean"}function TU(t){return typeof t=="number"}function xf(t){return Array.isArray(t)?xf(t[0]):t instanceof Float32Array?"float32":t instanceof Int32Array||t instanceof Uint8Array?"int32":TU(t)?"float32":Nb(t)?"string":EU(t)?"bool":"float32"}function t0(t){return!!(t&&t.constructor&&t.call&&t.apply)}function e0(t,e){for(var n=e;n<t;++n)if(t%n==0)return n;return t}function jo(t){var e=t.length;if(e<2)return[];var n=new Array(e-1);n[e-2]=t[e-1];for(var r=e-3;r>=0;--r)n[r]=n[r+1]*t[r+1];return n}function z_(t,e,n){if(e==="string")throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(t)&&(t=$u(t)),n&&xU(t,e),function(a,s){return a instanceof Float32Array&&s==="float32"||a instanceof Int32Array&&s==="int32"||a instanceof Uint8Array&&s==="bool"}(t,e))return t;if(e==null||e==="float32"||e==="complex64")return new Float32Array(t);if(e==="int32")return new Int32Array(t);if(e==="bool"){for(var r=new Uint8Array(t.length),o=0;o<r.length;++o)Math.round(t[o])!==0&&(r[o]=1);return r}throw new Error("Unknown data type "+e)}function FE(t,e){if(t.length===0)return e[0];var n=t.reduce(function(r,o){return r*o});if(n===0)return[];if(n!==e.length)throw new Error("["+t+"] does not match the input size.");return function r(o,a,s){var u=new Array;if(a.length===1)for(var c=a[0],f=0;f<c;f++)u[f]=s[o+f];else{c=a[0];var h=a.slice(1),p=h.reduce(function(v,g){return v*g});for(f=0;f<c;f++)u[f]=r(o+f*p,h,s)}return u}(0,t,e)}function V_(t,e){for(var n=wf(t,e),r=0;r<n.length;r++)n[r]=1;return n}function wf(t,e){if(e==null||e==="float32"||e==="complex64")return new Float32Array(t);if(e==="int32")return new Int32Array(t);if(e==="bool")return new Uint8Array(t);throw new Error("Unknown data type "+e)}function No(){return ft().platform.now()}function U_(t){t.forEach(function(e){G(Number.isInteger(e)&&e>=0,function(){return"Tensor must have a shape comprised of positive integers but got shape ["+t+"]."})})}function RU(t,e){return e===void 0&&(e="utf-8"),e=e||"utf-8",ft().platform.encode(t,e)}function qh(t,e){return e===void 0&&(e="utf-8"),e=e||"utf-8",ft().platform.decode(t,e)}function LE(t,e,n){if(e===0)return 0;if(e===1)return t[0];for(var r=t[t.length-1],o=0;o<t.length-1;++o)r+=n[o]*t[o];return r}function AU(t,e,n){if(e===0)return[];if(e===1)return[t];for(var r=new Array(e),o=0;o<r.length-1;++o)r[o]=Math.floor(t/n[o]),t-=r[o]*n[o];return r[r.length-1]=t,r}var _U=function(){function t(e,n){this.backendTimer=e,this.logger=n,n==null&&(this.logger=new DU)}return t.prototype.profileKernel=function(e,n,r){var o,a=this,s=this.backendTimer.time(function(){o=r()});return o.forEach(function(u){u.data().then(function(c){(function(f,h,p){if(h!=="float32")return!1;for(var v=0;v<f.length;v++){var g=f[v];if(isNaN(g)||!isFinite(g))return console.warn("Found "+g+" in the result of '"+p+"'"),!0}})(c,u.dtype,e),s.then(function(f){var h="";f.getExtraProfileInfo!=null&&(h=f.getExtraProfileInfo()),a.logger.logKernelProfile(e,u,c,f.kernelMs,n,h)})})}),o},t}(),DU=function(){function t(){}return t.prototype.logKernelProfile=function(e,n,r,o,a,s){var u=typeof o=="number"?Mu(o+"ms",9):o.error,c=Mu(e,25),f=n.rank,h=n.size,p=Mu(n.shape.toString(),14),v="";for(var g in a){var y=a[g].shape||n.shape,x=y.length;v+=g+": "+x+"D "+(x>0?y:"")+" "}console.log("%c"+c+"	%c"+u+"	%c"+f+"D "+p+"	%c"+h+"	%c"+v+"	%c"+s,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")},t}(),zE=20,gc=3,zg=7;function kU(t,e,n,r){var o=jo(e),a=function(f,h,p,v){var g=Ot(h),y=v[v.length-1],x=new Array(y).fill(0),w=h.length,S=p==="complex64"?bc(f):f;if(w>1)for(var A=0;A<g/y;A++)for(var E=A*y,T=0;T<y;T++)x[T]=Math.max(x[T],yc(S[E+T],0,p).length);return x}(t,e,n,o),s=e.length,u=function f(h,p,v,g,y,x){x===void 0&&(x=!0);var w=v==="complex64"?2:1,S=p[0],A=p.length;if(A===0)return v==="complex64"?[yc(bc(h)[0],0,v)]:v==="bool"?[j_(h[0])]:[h[0].toString()];if(A===1){if(S>zE){var E=gc*w,T=Array.from(h.slice(0,E)),R=Array.from(h.slice((S-gc)*w,S*w));return v==="complex64"&&(T=bc(T),R=bc(R)),["["+T.map(function(W,B){return yc(W,y[B],v)}).join(", ")+", ..., "+R.map(function(W,B){return yc(W,y[S-gc+B],v)}).join(", ")+"]"]}return["["+(v==="complex64"?bc(h):Array.from(h)).map(function(W,B){return yc(W,y[B],v)}).join(", ")+"]"]}var _=p.slice(1),M=g.slice(1),k=g[0]*w,N=[];if(S>zE){for(var I=0;I<gc;I++){var z=(D=I*k)+k;N.push.apply(N,f(h.slice(D,z),_,v,M,y,!1))}for(N.push("..."),I=S-gc;I<S;I++)z=(D=I*k)+k,N.push.apply(N,f(h.slice(D,z),_,v,M,y,I===S-1))}else for(I=0;I<S;I++){var D;z=(D=I*k)+k,N.push.apply(N,f(h.slice(D,z),_,v,M,y,I===S-1))}var $=A===2?",":"";for(N[0]="["+N[0]+$,I=1;I<N.length-1;I++)N[I]=" "+N[I]+$;var j=`,
`;for(I=2;I<A;I++)j+=`
`;return N[N.length-1]=" "+N[N.length-1]+"]"+(x?"":j),N}(t,e,n,o,a),c=["Tensor"];return r&&(c.push("  dtype: "+n),c.push("  rank: "+s),c.push("  shape: ["+e+"]"),c.push("  values:")),c.push(u.map(function(f){return"    "+f}).join(`
`)),c.join(`
`)}function yc(t,e,n){return Mu(Array.isArray(t)?parseFloat(t[0].toFixed(zg))+" + "+parseFloat(t[1].toFixed(zg))+"j":Nb(t)?"'"+t+"'":n==="bool"?j_(t):parseFloat(t.toFixed(zg)).toString(),e)}function j_(t){return t===0?"false":"true"}function bc(t){for(var e=[],n=0;n<t.length;n+=2)e.push([t[n],t[n+1]]);return e}var Kc=function(){function t(e,n,r){var o=this;if(this.dtype=n,this.shape=e.slice(),this.size=Ot(e),r!=null){var a=r.length;G(a===this.size,function(){return"Length of values '"+a+"' does not match the size inferred by the shape '"+o.size+"'."})}if(n==="complex64")throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=r||$h(n,this.size),this.strides=jo(e)}return t.prototype.set=function(e){for(var n=this,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];r.length===0&&(r=[0]),G(r.length===this.rank,function(){return"The number of provided coordinates ("+r.length+") must match the rank ("+n.rank+")"});var a=this.locToIndex(r);this.values[a]=e},t.prototype.get=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];e.length===0&&(e=[0]);for(var r=0,o=0,a=e;o<a.length;o++){var s=a[o];if(s<0||s>=this.shape[r]){var u="Requested out of range element at "+e+".   Buffer shape="+this.shape;throw new Error(u)}r++}for(var c=e[e.length-1],f=0;f<e.length-1;++f)c+=this.strides[f]*e[f];return this.values[c]},t.prototype.locToIndex=function(e){if(this.rank===0)return 0;if(this.rank===1)return e[0];for(var n=e[e.length-1],r=0;r<e.length-1;++r)n+=this.strides[r]*e[r];return n},t.prototype.indexToLoc=function(e){if(this.rank===0)return[];if(this.rank===1)return[e];for(var n=new Array(this.shape.length),r=0;r<n.length-1;++r)n[r]=Math.floor(e/this.strides[r]),e-=n[r]*this.strides[r];return n[n.length-1]=e,n},Object.defineProperty(t.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),t.prototype.toTensor=function(){return Po().makeTensor(this.values,this.shape,this.dtype)},t}(),Po=null,ut=null,W_=null,Ye=function(){function t(e,n,r,o){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=n||"float32",this.size=Ot(e),this.strides=jo(e),this.dataId=r,this.id=o,this.rankType=this.rank<5?this.rank.toString():"higher"}return t.prototype.flatten=function(){return this.throwIfDisposed(),this.as1D()},t.prototype.asScalar=function(){return this.throwIfDisposed(),G(this.size===1,function(){return"The array must have only 1 element."}),this.reshape([])},t.prototype.as1D=function(){return this.throwIfDisposed(),this.reshape([this.size])},t.prototype.as2D=function(e,n){return this.throwIfDisposed(),this.reshape([e,n])},t.prototype.as3D=function(e,n,r){return this.throwIfDisposed(),this.reshape([e,n,r])},t.prototype.as4D=function(e,n,r,o){return this.throwIfDisposed(),this.reshape([e,n,r,o])},t.prototype.as5D=function(e,n,r,o,a){return this.throwIfDisposed(),this.reshape([e,n,r,o,a])},t.prototype.asType=function(e){return this.throwIfDisposed(),ut.cast(this,e)},Object.defineProperty(t.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),t.prototype.buffer=function(){return Mt(this,void 0,void 0,function(){var e;return Nt(this,function(n){switch(n.label){case 0:return[4,this.data()];case 1:return e=n.sent(),[2,ut.buffer(this.shape,this.dtype,e)]}})})},t.prototype.bufferSync=function(){return ut.buffer(this.shape,this.dtype,this.dataSync())},t.prototype.array=function(){return Mt(this,void 0,void 0,function(){var e;return Nt(this,function(n){switch(n.label){case 0:return[4,this.data()];case 1:return e=n.sent(),[2,FE(this.shape,e)]}})})},t.prototype.arraySync=function(){return FE(this.shape,this.dataSync())},t.prototype.data=function(){return Mt(this,void 0,void 0,function(){var e,n;return Nt(this,function(r){switch(r.label){case 0:return this.throwIfDisposed(),e=Po().read(this.dataId),this.dtype!=="string"?[3,2]:[4,e];case 1:n=r.sent();try{return[2,n.map(function(o){return qh(o)})]}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}r.label=2;case 2:return[2,e]}})})},t.prototype.dataSync=function(){this.throwIfDisposed();var e=Po().readSync(this.dataId);if(this.dtype==="string")try{return e.map(function(n){return qh(n)})}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e},t.prototype.bytes=function(){return Mt(this,void 0,void 0,function(){var e;return Nt(this,function(n){switch(n.label){case 0:return this.throwIfDisposed(),[4,Po().read(this.dataId)];case 1:return e=n.sent(),this.dtype==="string"?[2,e]:[2,new Uint8Array(e.buffer)]}})})},t.prototype.dispose=function(){this.isDisposed||(Po().disposeTensor(this),this.isDisposedInternal=!0)},Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this.isDisposedInternal},enumerable:!0,configurable:!0}),t.prototype.throwIfDisposed=function(){if(this.isDisposed)throw new Error("Tensor is disposed.")},t.prototype.toFloat=function(){return this.asType("float32")},t.prototype.toInt=function(){return this.asType("int32")},t.prototype.toBool=function(){return this.asType("bool")},t.prototype.print=function(e){return e===void 0&&(e=!1),ut.print(this,e)},t.prototype.reshape=function(e){return this.throwIfDisposed(),ut.reshape(this,e)},t.prototype.reshapeAs=function(e){return this.throwIfDisposed(),this.reshape(e.shape)},t.prototype.expandDims=function(e){return e===void 0&&(e=0),ut.expandDims(this,e)},t.prototype.cumsum=function(e,n,r){return e===void 0&&(e=0),n===void 0&&(n=!1),r===void 0&&(r=!1),ut.cumsum(this,e,n,r)},t.prototype.squeeze=function(e){return this.throwIfDisposed(),ut.squeeze(this,e)},t.prototype.clone=function(){return this.throwIfDisposed(),ut.clone(this)},t.prototype.oneHot=function(e,n,r){return this.throwIfDisposed(),ut.oneHot(this,e,n,r)},t.prototype.toString=function(e){return e===void 0&&(e=!1),kU(this.dataSync(),this.shape,this.dtype,e)},t.prototype.tile=function(e){return this.throwIfDisposed(),ut.tile(this,e)},t.prototype.gather=function(e,n){return n===void 0&&(n=0),this.throwIfDisposed(),ut.gather(this,e,n)},t.prototype.matMul=function(e,n,r){return n===void 0&&(n=!1),r===void 0&&(r=!1),this.throwIfDisposed(),ut.matMul(this,e,n,r)},t.prototype.dot=function(e){return this.throwIfDisposed(),ut.dot(this,e)},t.prototype.norm=function(e,n,r){return e===void 0&&(e="euclidean"),n===void 0&&(n=null),r===void 0&&(r=!1),this.throwIfDisposed(),ut.norm(this,e,n,r)},t.prototype.slice=function(e,n){return this.throwIfDisposed(),ut.slice(this,e,n)},t.prototype.reverse=function(e){return this.throwIfDisposed(),ut.reverse(this,e)},t.prototype.concat=function(e,n){return n===void 0&&(n=0),this.throwIfDisposed(),e instanceof t&&(e=[e]),ut.concat([this].concat(e),n)},t.prototype.split=function(e,n){return n===void 0&&(n=0),this.throwIfDisposed(),ut.split(this,e,n)},t.prototype.stack=function(e,n){return n===void 0&&(n=0),ut.stack([this,e],n)},t.prototype.unstack=function(e){return e===void 0&&(e=0),ut.unstack(this,e)},t.prototype.pad=function(e,n){return n===void 0&&(n=0),ut.pad(this,e,n)},t.prototype.batchNormalization=function(e,n,r,o,a){return r===void 0&&(r=.001),W_("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon"),this.batchNorm(e,n,a,o,r)},t.prototype.batchNorm=function(e,n,r,o,a){return a===void 0&&(a=.001),this.throwIfDisposed(),ut.batchNorm(this,e,n,r,o,a)},t.prototype.all=function(e,n){return e===void 0&&(e=null),n===void 0&&(n=!1),this.throwIfDisposed(),ut.all(this,e,n)},t.prototype.any=function(e,n){return e===void 0&&(e=null),n===void 0&&(n=!1),this.throwIfDisposed(),ut.any(this,e,n)},t.prototype.logSumExp=function(e,n){return e===void 0&&(e=null),n===void 0&&(n=!1),this.throwIfDisposed(),ut.logSumExp(this,e,n)},t.prototype.sum=function(e,n){return e===void 0&&(e=null),n===void 0&&(n=!1),this.throwIfDisposed(),ut.sum(this,e,n)},t.prototype.prod=function(e,n){return e===void 0&&(e=null),n===void 0&&(n=!1),this.throwIfDisposed(),ut.prod(this,e,n)},t.prototype.mean=function(e,n){return e===void 0&&(e=null),n===void 0&&(n=!1),this.throwIfDisposed(),ut.mean(this,e,n)},t.prototype.min=function(e,n){return e===void 0&&(e=null),n===void 0&&(n=!1),this.throwIfDisposed(),ut.min(this,e,n)},t.prototype.max=function(e,n){return e===void 0&&(e=null),n===void 0&&(n=!1),this.throwIfDisposed(),ut.max(this,e,n)},t.prototype.argMin=function(e){return e===void 0&&(e=null),this.throwIfDisposed(),ut.argMin(this,e)},t.prototype.argMax=function(e){return e===void 0&&(e=null),this.throwIfDisposed(),ut.argMax(this,e)},t.prototype.cast=function(e){return this.throwIfDisposed(),ut.cast(this,e)},t.prototype.add=function(e){return this.throwIfDisposed(),ut.add(this,e)},t.prototype.addStrict=function(e){return this.throwIfDisposed(),ut.addStrict(this,e)},t.prototype.atan2=function(e){return this.throwIfDisposed(),ut.atan2(this,e)},t.prototype.sub=function(e){return this.throwIfDisposed(),ut.sub(this,e)},t.prototype.subStrict=function(e){return this.throwIfDisposed(),ut.subStrict(this,e)},t.prototype.pow=function(e){return this.throwIfDisposed(),ut.pow(this,e)},t.prototype.powStrict=function(e){return this.throwIfDisposed(),ut.powStrict(this,e)},t.prototype.mul=function(e){return this.throwIfDisposed(),ut.mul(this,e)},t.prototype.mulStrict=function(e){return this.throwIfDisposed(),ut.mulStrict(this,e)},t.prototype.div=function(e){return this.throwIfDisposed(),ut.div(this,e)},t.prototype.divNoNan=function(e){return this.throwIfDisposed(),ut.divNoNan(this,e)},t.prototype.floorDiv=function(e){return this.throwIfDisposed(),ut.floorDiv(this,e)},t.prototype.divStrict=function(e){return this.throwIfDisposed(),ut.divStrict(this,e)},t.prototype.minimum=function(e){return this.throwIfDisposed(),ut.minimum(this,e)},t.prototype.minimumStrict=function(e){return this.throwIfDisposed(),ut.minimumStrict(this,e)},t.prototype.maximum=function(e){return this.throwIfDisposed(),ut.maximum(this,e)},t.prototype.maximumStrict=function(e){return this.throwIfDisposed(),ut.maximumStrict(this,e)},t.prototype.mod=function(e){return this.throwIfDisposed(),ut.mod(this,e)},t.prototype.modStrict=function(e){return this.throwIfDisposed(),ut.modStrict(this,e)},t.prototype.squaredDifferenceStrict=function(e){return this.throwIfDisposed(),ut.squaredDifferenceStrict(this,e)},t.prototype.transpose=function(e){return this.throwIfDisposed(),ut.transpose(this,e)},t.prototype.notEqual=function(e){return this.throwIfDisposed(),ut.notEqual(this,e)},t.prototype.notEqualStrict=function(e){return this.throwIfDisposed(),ut.notEqualStrict(this,e)},t.prototype.less=function(e){return this.throwIfDisposed(),ut.less(this,e)},t.prototype.lessStrict=function(e){return this.throwIfDisposed(),ut.lessStrict(this,e)},t.prototype.equal=function(e){return this.throwIfDisposed(),ut.equal(this,e)},t.prototype.equalStrict=function(e){return this.throwIfDisposed(),ut.equalStrict(this,e)},t.prototype.lessEqual=function(e){return this.throwIfDisposed(),ut.lessEqual(this,e)},t.prototype.lessEqualStrict=function(e){return this.throwIfDisposed(),ut.lessEqualStrict(this,e)},t.prototype.greater=function(e){return this.throwIfDisposed(),ut.greater(this,e)},t.prototype.greaterStrict=function(e){return this.throwIfDisposed(),ut.greaterStrict(this,e)},t.prototype.greaterEqual=function(e){return this.throwIfDisposed(),ut.greaterEqual(this,e)},t.prototype.greaterEqualStrict=function(e){return this.throwIfDisposed(),ut.greaterEqualStrict(this,e)},t.prototype.logicalAnd=function(e){return this.throwIfDisposed(),ut.logicalAnd(this,e)},t.prototype.logicalOr=function(e){return this.throwIfDisposed(),ut.logicalOr(this,e)},t.prototype.logicalNot=function(){return this.throwIfDisposed(),ut.logicalNot(this)},t.prototype.logicalXor=function(e){return this.throwIfDisposed(),ut.logicalXor(this,e)},t.prototype.where=function(e,n){return this.throwIfDisposed(),ut.where(e,this,n)},t.prototype.neg=function(){return this.throwIfDisposed(),ut.neg(this)},t.prototype.ceil=function(){return this.throwIfDisposed(),ut.ceil(this)},t.prototype.floor=function(){return this.throwIfDisposed(),ut.floor(this)},t.prototype.sign=function(){return this.throwIfDisposed(),ut.sign(this)},t.prototype.isNaN=function(){return this.throwIfDisposed(),ut.isNaN(this)},t.prototype.isInf=function(){return this.throwIfDisposed(),ut.isInf(this)},t.prototype.isFinite=function(){return this.throwIfDisposed(),ut.isFinite(this)},t.prototype.exp=function(){return this.throwIfDisposed(),ut.exp(this)},t.prototype.expm1=function(){return this.throwIfDisposed(),ut.expm1(this)},t.prototype.log=function(){return this.throwIfDisposed(),ut.log(this)},t.prototype.log1p=function(){return this.throwIfDisposed(),ut.log1p(this)},t.prototype.sqrt=function(){return this.throwIfDisposed(),ut.sqrt(this)},t.prototype.rsqrt=function(){return this.throwIfDisposed(),ut.rsqrt(this)},t.prototype.square=function(){return this.throwIfDisposed(),ut.square(this)},t.prototype.reciprocal=function(){return this.throwIfDisposed(),ut.reciprocal(this)},t.prototype.abs=function(){return this.throwIfDisposed(),ut.abs(this)},t.prototype.clipByValue=function(e,n){return this.throwIfDisposed(),ut.clipByValue(this,e,n)},t.prototype.relu=function(){return this.throwIfDisposed(),ut.relu(this)},t.prototype.relu6=function(){return this.throwIfDisposed(),ut.relu6(this)},t.prototype.elu=function(){return this.throwIfDisposed(),ut.elu(this)},t.prototype.selu=function(){return this.throwIfDisposed(),ut.selu(this)},t.prototype.leakyRelu=function(e){return e===void 0&&(e=.2),this.throwIfDisposed(),ut.leakyRelu(this,e)},t.prototype.prelu=function(e){return this.throwIfDisposed(),ut.prelu(this,e)},t.prototype.sigmoid=function(){return this.throwIfDisposed(),ut.sigmoid(this)},t.prototype.logSigmoid=function(){return this.throwIfDisposed(),ut.logSigmoid(this)},t.prototype.softplus=function(){return this.throwIfDisposed(),ut.softplus(this)},t.prototype.zerosLike=function(){return this.throwIfDisposed(),ut.zerosLike(this)},t.prototype.onesLike=function(){return this.throwIfDisposed(),ut.onesLike(this)},t.prototype.sin=function(){return this.throwIfDisposed(),ut.sin(this)},t.prototype.cos=function(){return this.throwIfDisposed(),ut.cos(this)},t.prototype.tan=function(){return this.throwIfDisposed(),ut.tan(this)},t.prototype.asin=function(){return this.throwIfDisposed(),ut.asin(this)},t.prototype.acos=function(){return this.throwIfDisposed(),ut.acos(this)},t.prototype.atan=function(){return this.throwIfDisposed(),ut.atan(this)},t.prototype.sinh=function(){return this.throwIfDisposed(),ut.sinh(this)},t.prototype.cosh=function(){return this.throwIfDisposed(),ut.cosh(this)},t.prototype.tanh=function(){return this.throwIfDisposed(),ut.tanh(this)},t.prototype.asinh=function(){return this.throwIfDisposed(),ut.asinh(this)},t.prototype.acosh=function(){return this.throwIfDisposed(),ut.acosh(this)},t.prototype.atanh=function(){return this.throwIfDisposed(),ut.atanh(this)},t.prototype.erf=function(){return this.throwIfDisposed(),ut.erf(this)},t.prototype.round=function(){return this.throwIfDisposed(),ut.round(this)},t.prototype.step=function(e){return e===void 0&&(e=0),this.throwIfDisposed(),ut.step(this,e)},t.prototype.softmax=function(e){return e===void 0&&(e=-1),this.throwIfDisposed(),ut.softmax(this,e)},t.prototype.logSoftmax=function(e){return e===void 0&&(e=-1),this.throwIfDisposed(),ut.logSoftmax(this,e)},t.prototype.resizeBilinear=function(e,n){return n===void 0&&(n=!1),this.throwIfDisposed(),ut.image.resizeBilinear(this,e,n)},t.prototype.resizeNearestNeighbor=function(e,n){return n===void 0&&(n=!1),this.throwIfDisposed(),ut.image.resizeNearestNeighbor(this,e,n)},t.prototype.conv1d=function(e,n,r,o,a,s){return o===void 0&&(o="NWC"),a===void 0&&(a=1),this.throwIfDisposed(),ut.conv1d(this,e,n,r,o,a,s)},t.prototype.conv2d=function(e,n,r,o,a,s){return o===void 0&&(o="NHWC"),a===void 0&&(a=[1,1]),this.throwIfDisposed(),ut.conv2d(this,e,n,r,o,a,s)},t.prototype.conv2dTranspose=function(e,n,r,o,a){return this.throwIfDisposed(),ut.conv2dTranspose(this,e,n,r,o,a)},t.prototype.depthwiseConv2D=function(e,n,r,o,a,s){return o===void 0&&(o="NHWC"),a===void 0&&(a=[1,1]),this.throwIfDisposed(),ut.depthwiseConv2d(this,e,n,r,o,a,s)},t.prototype.separableConv2d=function(e,n,r,o,a,s){return a===void 0&&(a=[1,1]),s===void 0&&(s="NHWC"),this.throwIfDisposed(),ut.separableConv2d(this,e,n,r,o,a,s)},t.prototype.avgPool=function(e,n,r,o){return this.throwIfDisposed(),ut.avgPool(this,e,n,r,o)},t.prototype.maxPool=function(e,n,r,o){return this.throwIfDisposed(),ut.maxPool(this,e,n,r,o)},t.prototype.localResponseNormalization=function(e,n,r,o){return e===void 0&&(e=5),n===void 0&&(n=1),r===void 0&&(r=1),o===void 0&&(o=.5),ut.localResponseNormalization(this,e,n,r,o)},t.prototype.pool=function(e,n,r,o,a){return this.throwIfDisposed(),ut.pool(this,e,n,r,o,a)},t.prototype.variable=function(e,n,r){return e===void 0&&(e=!0),this.throwIfDisposed(),Po().makeVariable(this,e,n,r)},t.prototype.unsortedSegmentSum=function(e,n){return this.throwIfDisposed(),ut.unsortedSegmentSum(this,e,n)},t.prototype.batchToSpaceND=function(e,n){return this.throwIfDisposed(),ut.batchToSpaceND(this,e,n)},t.prototype.spaceToBatchND=function(e,n){return this.throwIfDisposed(),ut.spaceToBatchND(this,e,n)},t.prototype.topk=function(e,n){return e===void 0&&(e=1),n===void 0&&(n=!0),this.throwIfDisposed(),ut.topk(this,e,n)},t.prototype.stridedSlice=function(e,n,r,o,a,s,u,c){return o===void 0&&(o=0),a===void 0&&(a=0),s===void 0&&(s=0),u===void 0&&(u=0),c===void 0&&(c=0),this.throwIfDisposed(),ut.stridedSlice(this,e,n,r,o,a,s,u,c)},t.prototype.depthToSpace=function(e,n){return this.throwIfDisposed(),ut.depthToSpace(this,e,n)},t.prototype.fft=function(){return this.throwIfDisposed(),ut.spectral.fft(this)},t.prototype.ifft=function(){return this.throwIfDisposed(),ut.spectral.ifft(this)},t.prototype.rfft=function(){return this.throwIfDisposed(),ut.spectral.rfft(this)},t.prototype.irfft=function(){return this.throwIfDisposed(),ut.spectral.irfft(this)},t}();Object.defineProperty(Ye,Symbol.hasInstance,{value:function(t){return!!t&&t.dataId!=null&&t.shape!=null&&t.dtype!=null}});var VE,n0,r0,o0,a0,qu=function(t){function e(n,r,o,a){var s=t.call(this,n.shape,n.dtype,n.dataId,a)||this;return s.trainable=r,s.name=o,s}return yo(e,t),e.prototype.assign=function(n){if(n.dtype!==this.dtype)throw new Error("dtype of the new value ("+n.dtype+") and previous value ("+this.dtype+") must match");if(!Mn(n.shape,this.shape))throw new Error("shape of the new value ("+n.shape+") and previous value ("+this.shape+") must match");Po().disposeTensor(this),this.dataId=n.dataId,Po().incRef(this,null)},e.prototype.dispose=function(){Po().disposeVariable(this),this.isDisposedInternal=!0},e}(Ye);Object.defineProperty(qu,Symbol.hasInstance,{value:function(t){return t instanceof Ye&&t.assign!=null&&t.assign instanceof Function}}),function(t){t.R0="R0",t.R1="R1",t.R2="R2",t.R3="R3",t.R4="R4",t.R5="R5",t.R6="R6"}(VE||(VE={})),function(t){t.float32="float32",t.int32="int32",t.bool="int32",t.complex64="complex64"}(n0||(n0={})),function(t){t.float32="float32",t.int32="int32",t.bool="bool",t.complex64="complex64"}(r0||(r0={})),function(t){t.float32="float32",t.int32="float32",t.bool="float32",t.complex64="complex64"}(o0||(o0={})),function(t){t.float32="complex64",t.int32="complex64",t.bool="complex64",t.complex64="complex64"}(a0||(a0={}));var MU={float32:o0,int32:n0,bool:r0,complex64:a0};function zn(t,e){if(t==="string"||e==="string"){if(t==="string"&&e==="string")return"string";throw new Error("Can not upcast "+t+" with "+e)}return MU[t][e]}function Vg(t){return zn(t,"int32")}function tn(t,e){if(t.dtype===e.dtype)return[t,e];var n=zn(t.dtype,e.dtype);return[t.cast(n),e.cast(n)]}function NU(t,e){G(t.dtype===e.dtype,function(){return"The dtypes of the first("+t.dtype+") and second("+e.dtype+") input must match"})}function H_(t){var e=[];return function n(r,o,a){if(r!=null){if(r instanceof Ye)return void o.push(r);if(s=r,!(!Array.isArray(s)&&typeof s!="object")){var s,u=r;for(var c in u){var f=u[c];a.has(f)||(a.add(f),n(f,o,a))}}}}(t,e,new Set),e}var Ug,UE=function(){function t(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null}}return t.prototype.dispose=function(){for(var e in this.registeredVariables)this.registeredVariables[e].dispose()},t}(),OU=function(){function t(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new UE}return t.prototype.ready=function(){return Mt(this,void 0,void 0,function(){var e,n,r;return Nt(this,function(o){switch(o.label){case 0:if(this.pendingBackendInit!=null)return[2,this.pendingBackendInit.then(function(){})];if(this.backendInstance!=null)return[2];e=this.getSortedBackends(),n=0,o.label=1;case 1:return n<e.length?(r=e[n],[4,this.initializeBackend(r).success]):[3,5];case 2:return o.sent()?[4,this.setBackend(r)]:[3,4];case 3:return o.sent(),[2];case 4:return n++,[3,1];case 5:throw new Error("Could not initialize any backends, all backend initializations failed.")}})})},Object.defineProperty(t.prototype,"backend",{get:function(){if(this.pendingBackendInit!=null)throw new Error("Backend '"+this.backendName+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");if(this.backendInstance==null){var e=this.initializeBackendsAndReturnBest(),n=e.name;if(e.asyncInit)throw new Error("The highest priority backend '"+n+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");this.setBackend(n)}return this.backendInstance},enumerable:!0,configurable:!0}),t.prototype.backendNames=function(){return Object.keys(this.registryFactory)},t.prototype.findBackend=function(e){return!(e in this.registry)&&(!(e in this.registryFactory)||this.initializeBackend(e).asyncInit)?null:this.registry[e]},t.prototype.findBackendFactory=function(e){return e in this.registryFactory?this.registryFactory[e].factory:null},t.prototype.registerBackend=function(e,n,r){return r===void 0&&(r=1),e in this.registryFactory?(console.warn(e+" backend was already registered. Reusing existing backend factory."),!1):(this.registryFactory[e]={factory:n,priority:r},!0)},t.prototype.setBackend=function(e){return Mt(this,void 0,void 0,function(){var n,r,o;return Nt(this,function(a){switch(a.label){case 0:if(this.registryFactory[e]==null)throw new Error("Backend name '"+e+"' not found in registry");return this.backendName=e,this.registry[e]!=null?[3,4]:(this.backendInstance=null,n=this.initializeBackend(e),r=n.success,n.asyncInit?[4,r]:[3,2]);case 1:return o=a.sent(),[3,3];case 2:o=r,a.label=3;case 3:if(!o)return[2,!1];a.label=4;case 4:return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new _U(this.backendInstance),[2,!0]}})})},t.prototype.setupRegisteredKernels=function(){var e=this;IE(this.backendName).forEach(function(n){n.setupFunc!=null&&n.setupFunc(e.backendInstance)})},t.prototype.disposeRegisteredKernels=function(e){var n=this;IE(e).forEach(function(r){r.disposeFunc!=null&&r.disposeFunc(n.registry[e])})},t.prototype.initializeBackend=function(e){var n=this,r=this.registryFactory[e];if(r==null)throw new Error("Cannot initialize backend "+e+", no registration found.");try{var o=r.factory();if(Promise.resolve(o)===o){var a=++this.pendingBackendInitId,s=o.then(function(u){return!(a<n.pendingBackendInitId)&&(n.registry[e]=u,n.pendingBackendInit=null,!0)}).catch(function(u){return!(a<n.pendingBackendInitId)&&(n.pendingBackendInit=null,console.warn("Initialization of backend "+e+" failed"),console.warn(u.stack||u.message),!1)});return this.pendingBackendInit=s,{success:s,asyncInit:!0}}return this.registry[e]=o,{success:!0,asyncInit:!1}}catch(u){return console.warn("Initialization of backend "+e+" failed"),console.warn(u.stack||u.message),{success:!1,asyncInit:!1}}},t.prototype.removeBackend=function(e){if(!(e in this.registryFactory))throw new Error(e+" backend not found in registry");this.backendName===e&&this.pendingBackendInit!=null&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)},t.prototype.getSortedBackends=function(){var e=this;if(Object.keys(this.registryFactory).length===0)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort(function(n,r){return e.registryFactory[r].priority-e.registryFactory[n].priority})},t.prototype.initializeBackendsAndReturnBest=function(){for(var e=this.getSortedBackends(),n=0;n<e.length;n++){var r=e[n],o=this.initializeBackend(r),a=o.success,s=o.asyncInit;if(s||a)return{name:r,asyncInit:s}}throw new Error("Could not initialize any backends, all backend initializations failed.")},t.prototype.moveData=function(e,n){var r=this.state.tensorInfo.get(n),o=r.backend,a=this.readSync(n);o.disposeData(n),r.backend=e,e.move(n,a,r.shape,r.dtype),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++},t.prototype.tidy=function(e,n){var r,o=this,a=null;if(n==null){if(typeof e!="function")throw new Error("Please provide a function to tidy()");n=e}else{if(typeof e!="string"&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if(typeof n!="function")throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");a=e}return this.scopedRun(function(){return o.startScope(a)},function(){return o.endScope(r)},function(){return(r=n())instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),r})},t.prototype.scopedRun=function(e,n,r){e();try{var o=r();return n(),o}catch(a){throw n(),a}},t.prototype.nextTensorId=function(){return t.nextTensorId++},t.prototype.nextVariableId=function(){return t.nextVariableId++},t.prototype.clone=function(e){var n=this.makeTensorFromDataId(e.dataId,e.shape,e.dtype),r={x:e};return this.addTapeNode(this.state.activeScope.name,r,[n],function(o){return{x:function(){return o.toFloat()}}},[]),n},t.prototype.runKernel=function(e,n,r,o,a){return this.runKernelFunc(null,n,null,e,r,o,a)},t.prototype.shouldCheckForMemLeaks=function(){return this.ENV.getBool("IS_TEST")},t.prototype.checkKernelForMemLeak=function(e,n,r){var o=this.backend.numDataIds(),a=0;r.forEach(function(c){a+=c.dtype==="complex64"?3:1});var s=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],u=o-n-a-s;if(u>0)throw new Error("Backend '"+this.backendName+"' has an internal memory leak ("+u+" data ids) after running '"+e+"'")},t.prototype.runKernelFunc=function(e,n,r,o,a,s,u){var c,f=this;s===void 0&&(s=[]),u===void 0&&(u=[]);var h=[],p=this.isTapeOn();o==null&&(o=this.state.activeScope!=null?this.state.activeScope.name:"");var v,g=function(A){p&&(h=A.map(function(E){return f.keep(f.clone(E))}))},y=this.state.numBytes,x=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);var w,S=P_(o,this.backendName);return v=S!=null?function(){var A=f.backend.numDataIds();w=S.kernelFunc({inputs:n,attrs:a,backend:f.backend});var E=Array.isArray(w)?w:[w];f.shouldCheckForMemLeaks()&&f.checkKernelForMemLeak(o,A,E);var T=E.map(function(_){var M=_.dataId,k=_.shape,N=_.dtype;return f.makeTensorFromDataId(M,k,N)}),R=T.filter(function(_,M){return u[M]});return g((s||[]).slice().concat(R)),T}:function(){var A=f.backend.numDataIds();w=f.tidy(function(){return e(f.backend,g)});var E=Array.isArray(w)?w:[w];return f.shouldCheckForMemLeaks()&&f.checkKernelForMemLeak(o,A,E),E},this.scopedRun(function(){return f.state.kernelDepth++},function(){return f.state.kernelDepth--},function(){c=f.ENV.getBool("DEBUG")?f.profiler.profileKernel(o,n,function(){return v()}):v()}),p&&this.addTapeNode(o,n,c,r,h),this.state.profiling&&this.state.activeProfile.kernels.push({name:o,bytesAdded:this.state.numBytes-y,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-x,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(n).map(function(A){return n[A].shape}),outputShapes:c.map(function(A){return A.shape})}),Array.isArray(w)?c:c[0]},t.prototype.makeTensor=function(e,n,r,o){if(e==null)throw new Error("Values passed to engine.makeTensor() are null");r=r||"float32",o=o||this.backend;var a=e;r==="string"&&Nb(e[0])&&(a=e.map(function(h){return RU(h)}));var s=o.write(a,n,r),u=new Ye(n,r,s,this.nextTensorId());if(this.incRef(u,o),r==="string"){var c=this.state.tensorInfo.get(s),f=CU(a);this.state.numBytes+=f-c.bytes,c.bytes=f}return u},t.prototype.makeTensorFromDataId=function(e,n,r,o){var a=new Ye(n,r=r||"float32",e,this.nextTensorId());return this.incRef(a,o),a},t.prototype.makeVariable=function(e,n,r,o){n===void 0&&(n=!0),r=r||this.nextVariableId().toString(),o!=null&&o!==e.dtype&&(e=e.asType(o));var a=new qu(e,n,r,this.nextTensorId());if(this.state.registeredVariables[a.name]!=null)throw new Error("Variable with name "+a.name+" was already registered");return this.state.registeredVariables[a.name]=a,this.incRef(a,this.backend),a},t.prototype.incRef=function(e,n){var r=this.state.tensorInfo.has(e.dataId)?this.state.tensorInfo.get(e.dataId).refCount:0;if(this.state.numTensors++,e.dtype==="string"&&this.state.numStringTensors++,r===0){this.state.numDataBuffers++;var o=0;e.dtype!=="complex64"&&e.dtype!=="string"&&(o=e.size*L_(e.dtype)),this.state.tensorInfo.set(e.dataId,{backend:n||this.backend,dtype:e.dtype,shape:e.shape,bytes:o,refCount:0}),this.state.numBytes+=o}this.state.tensorInfo.get(e.dataId).refCount++,e instanceof qu||this.track(e)},t.prototype.disposeTensor=function(e){if(this.state.tensorInfo.has(e.dataId)){this.state.numTensors--,e.dtype==="string"&&this.state.numStringTensors--;var n=this.state.tensorInfo.get(e.dataId);n.refCount<=1?(e.dtype!=="complex64"&&(this.state.numBytes-=n.bytes),this.state.numDataBuffers--,n.backend.disposeData(e.dataId),this.state.tensorInfo.delete(e.dataId)):this.state.tensorInfo.get(e.dataId).refCount--}},t.prototype.disposeVariables=function(){for(var e in this.state.registeredVariables){var n=this.state.registeredVariables[e];this.disposeVariable(n)}},t.prototype.disposeVariable=function(e){this.disposeTensor(e),this.state.registeredVariables[e.name]!=null&&delete this.state.registeredVariables[e.name]},t.prototype.memory=function(){var e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,e.reasons==null&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e},t.prototype.profile=function(e){return Mt(this,void 0,void 0,function(){var n,r;return Nt(this,function(o){return this.state.profiling=!0,n=this.state.numBytes,r=this.state.numTensors,this.state.activeProfile.kernels=[],this.state.activeProfile.result=e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max.apply(Math,this.state.activeProfile.kernels.map(function(a){return a.totalBytesSnapshot})),this.state.activeProfile.newBytes=this.state.numBytes-n,this.state.activeProfile.newTensors=this.state.numTensors-r,[2,this.state.activeProfile]})})},t.prototype.isTapeOn=function(){return this.state.gradientDepth>0&&this.state.kernelDepth===0},t.prototype.addTapeNode=function(e,n,r,o,a){var s=this,u={id:this.state.nextTapeNodeId++,kernelName:e,inputs:n,outputs:r,saved:a},c=mU(e);c!=null&&(o=c.gradFunc),o!=null&&(u.gradient=function(f){return f=f.map(function(h,p){if(h==null){var v=r[p],g=wf(v.size,v.dtype);return s.makeTensor(g,v.shape,v.dtype)}return h}),o(f.length>1?f:f[0],a)}),this.state.activeTape.push(u)},t.prototype.keep=function(e){return e.kept=!0,e},t.prototype.startTape=function(){this.state.gradientDepth===0&&(this.state.activeTape=[]),this.state.gradientDepth++},t.prototype.endTape=function(){this.state.gradientDepth--},t.prototype.startScope=function(e){var n={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(n.name=e),this.state.scopeStack.push(n),this.state.activeScope=n},t.prototype.endScope=function(e){for(var n=this,r=H_(e),o=new Set(r.map(function(c){return c.id})),a=0;a<this.state.activeScope.track.length;a++){var s=this.state.activeScope.track[a];s.kept||o.has(s.id)||s.dispose()}var u=this.state.scopeStack.pop();this.state.activeScope=this.state.scopeStack.length===0?null:this.state.scopeStack[this.state.scopeStack.length-1],r.forEach(function(c){c.kept||c.scopeId!==u.id||n.track(c)})},t.prototype.gradients=function(e,n,r,o){var a=this;if(o===void 0&&(o=!1),G(n.length>0,function(){return"gradients() received an empty list of xs."}),r!=null&&r.dtype!=="float32")throw new Error("dy must have 'float32' dtype, but has '"+r.dtype+"'");var s=this.scopedRun(function(){return a.startTape()},function(){return a.endTape()},function(){return a.tidy("forward",e)});G(s instanceof Ye,function(){return"The result y returned by f() must be a tensor."});var u=function(c,f,h){for(var p={},v={},g=0;g<f.length;g++)p[f[g].id]=!0;for(g=0;g<c.length;g++){var y=(_=c[g]).inputs;for(var x in y){for(var w=y[x],S=!1,A=0;A<f.length;A++)if(p[w.id]){_.outputs.forEach(function(I){return p[I.id]=!0}),S=!0,v[_.id]=!0;break}if(S)break}}var E={};E[h.id]=!0;var T={};for(g=c.length-1;g>=0;g--)for(y=(_=c[g]).inputs,A=0;A<_.outputs.length;A++)if(E[_.outputs[A].id]){for(var x in y)E[y[x].id]=!0,T[_.id]=!0;break}var R=[];for(g=0;g<c.length;g++){var _;if(v[(_=c[g]).id]&&T[_.id]){var M={};for(var x in _.inputs){var k=_.inputs[x];p[k.id]&&(M[x]=k)}var N=Object.assign({},_);N.inputs=M,N.outputs=_.outputs,R.push(N)}}return R}(this.state.activeTape,n,s);if(!o&&u.length===0&&n.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",function(){var c,f,h={};h[s.id]=r??(c=s.shape,f=V_(Ot(c),"float32"),J.makeTensor(f,c,"float32")),function(v,g,y){for(var x=function(S){var A=g[S],E=[];if(A.outputs.forEach(function(M){var k=v[M.id];k!=null?E.push(k):E.push(null)}),A.gradient==null)throw new Error("Cannot compute gradient: gradient function not found for "+A.kernelName+".");var T=A.gradient(E),R=function(M){if(!(M in T))throw new Error("Cannot backprop through input "+M+". Available gradients found: "+Object.keys(T)+".");var k=y(function(){return T[M]()});if(k.dtype!=="float32")throw new Error("Error in gradient for op "+A.kernelName+". The gradient of input "+M+" must have 'float32' dtype, but has '"+k.dtype+"'");var N=A.inputs[M];if(!Mn(k.shape,N.shape))throw new Error("Error in gradient for op "+A.kernelName+". The gradient of input '"+M+"' has shape '"+k.shape+"', which does not match the shape of the input '"+N.shape+"'");if(v[N.id]==null)v[N.id]=k;else{var I=v[N.id];v[N.id]=I.add(k),I.dispose()}};for(var _ in A.inputs)R(_)},w=g.length-1;w>=0;w--)x(w)}(h,u,function(v){return a.tidy(v)});var p=n.map(function(v){return h[v.id]});return a.state.gradientDepth===0&&(a.state.activeTape.forEach(function(v){for(var g=0,y=v.saved;g<y.length;g++)y[g].dispose()}),a.state.activeTape=null),{value:s,grads:p}})},t.prototype.customGrad=function(e){var n=this;return G(t0(e),function(){return"The f passed in customGrad(f) must be a function."}),function(){for(var r,o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];G(o.every(function(u){return u instanceof Ye}),function(){return"The args passed in customGrad(f)(x1, x2,...) must all be tensors"});var s={};return o.forEach(function(u,c){s[c]=u}),n.runKernelFunc(function(u,c){return G((r=e.apply(void 0,o.concat([c]))).value instanceof Ye,function(){return"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"}),G(t0(r.gradFunc),function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."}),r.value},s,function(u,c){var f=r.gradFunc(u,c),h=Array.isArray(f)?f:[f];G(h.length===o.length,function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."}),G(h.every(function(v){return v instanceof Ye}),function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."});var p={};return h.forEach(function(v,g){p[g]=function(){return v}}),p})}},t.prototype.readSync=function(e){return this.state.tensorInfo.get(e).backend.readSync(e)},t.prototype.read=function(e){return this.state.tensorInfo.get(e).backend.read(e)},t.prototype.time=function(e){return Mt(this,void 0,void 0,function(){var n,r;return Nt(this,function(o){switch(o.label){case 0:return n=No(),[4,this.backend.time(e)];case 1:return(r=o.sent()).wallMs=No()-n,[2,r]}})})},t.prototype.track=function(e){return this.state.activeScope!=null&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e},Object.defineProperty(t.prototype,"registeredVariables",{get:function(){return this.state.registeredVariables},enumerable:!0,configurable:!0}),t.prototype.reset=function(){for(var e in this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new UE,this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null},t.nextTensorId=0,t.nextVariableId=0,t}(),J=function(){var t=function(){if(Ug==null){var n=void 0;if(typeof window<"u")n=window;else if(typeof global<"u")n=global;else if(typeof process<"u")n=process;else{if(typeof self>"u")throw new Error("Could not find a global object");n=self}Ug=n}return Ug}();if(t._tfengine==null){var e=new hU(t);t._tfengine=new OU(e)}return function(n){O_=n}(t._tfengine.ENV),Po=function(){return t._tfengine},t._tfengine}();function G_(){return typeof window<"u"&&window.document!=null||typeof WorkerGlobalScope<"u"}var xa=ft();xa.registerFlag("DEBUG",function(){return!1},function(t){t&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")}),xa.registerFlag("IS_BROWSER",function(){return G_()}),xa.registerFlag("IS_NODE",function(){return typeof process<"u"&&process.versions!==void 0&&process.versions.node!==void 0}),xa.registerFlag("IS_CHROME",function(){return typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}),xa.registerFlag("PROD",function(){return!1}),xa.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",function(){return xa.getBool("DEBUG")}),xa.registerFlag("DEPRECATION_WARNINGS_ENABLED",function(){return!0}),xa.registerFlag("IS_TEST",function(){return!1});var Xc,Mr,Dr,ts={},jg={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function PU(t,e){ts[t]=e}function Jo(t){t in ts||(ts[t]=function(n){if(n!==1&&n!==2)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");var r=function(o){if(typeof OffscreenCanvas<"u"&&o===2)return new OffscreenCanvas(300,150);if(typeof document<"u")return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}(n);return r.addEventListener("webglcontextlost",function(o){o.preventDefault(),delete ts[n]},!1),n===1?r.getContext("webgl",jg)||r.getContext("experimental-webgl",jg):r.getContext("webgl2",jg)}(t));var e=ts[t];return e.isContextLost()?(delete ts[t],Jo(t)):(e.disable(e.DEPTH_TEST),e.disable(e.STENCIL_TEST),e.disable(e.BLEND),e.disable(e.DITHER),e.disable(e.POLYGON_OFFSET_FILL),e.disable(e.SAMPLE_COVERAGE),e.enable(e.SCISSOR_TEST),e.enable(e.CULL_FACE),e.cullFace(e.BACK),ts[t])}function Up(t,e){return[e,t]}function Nc(t){var e=Ot(t);return Jy(Math.ceil(e/4))}function Sf(t,e){return[Math.max(1,Math.ceil(e/2)),Math.max(1,Math.ceil(t/2))]}function Ob(t,e){var n,r,o,a,s,u,c,f,h,p=t;return ft().getNumber("WEBGL_VERSION")===2?(n=p.R32F,r=p.R16F,o=p.RGBA16F,a=p.RGBA32F,s=p.RED,u=4,c=1,f=p.HALF_FLOAT,h=p.FLOAT):(n=t.RGBA,r=t.RGBA,o=t.RGBA,a=p.RGBA,s=t.RGBA,u=4,c=4,f=e!=null?e.HALF_FLOAT_OES:null,h=t.FLOAT),{internalFormatFloat:n,internalFormatHalfFloat:r,internalFormatPackedHalfFloat:o,internalFormatPackedFloat:a,textureFormatFloat:s,downloadTextureFormat:t.RGBA,downloadUnpackNumChannels:u,defaultNumChannels:c,textureTypeHalfFloat:f,textureTypeFloat:h}}function It(t,e,n){var r=n();return e&&function(o){var a=o.getError();if(a!==o.NO_ERROR)throw new Error("WebGL Error: "+LU(o,a))}(t),r}(function(t){t[t.DENSE=0]="DENSE",t[t.SHARED_BATCH=1]="SHARED_BATCH"})(Xc||(Xc={})),function(t){t[t.RENDER=0]="RENDER",t[t.UPLOAD=1]="UPLOAD",t[t.PIXELS=2]="PIXELS",t[t.DOWNLOAD=3]="DOWNLOAD"}(Mr||(Mr={})),function(t){t[t.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",t[t.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",t[t.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",t[t.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",t[t.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"}(Dr||(Dr={}));var IU=596e-10,BU=65504;function FU(t){return!!(ft().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||t===0||IU<Math.abs(t)&&Math.abs(t)<BU)}function LU(t,e){switch(e){case t.NO_ERROR:return"NO_ERROR";case t.INVALID_ENUM:return"INVALID_ENUM";case t.INVALID_VALUE:return"INVALID_VALUE";case t.INVALID_OPERATION:return"INVALID_OPERATION";case t.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case t.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case t.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"Unknown error code "+e}}function Jd(t,e,n){return Oa(t,e,function(){return t.getExtension(n)},'Extension "'+n+'" not supported on this browser.')}function zU(t,e,n){var r=Oa(t,e,function(){return t.createShader(t.VERTEX_SHADER)},"Unable to create vertex WebGLShader.");if(It(t,e,function(){return t.shaderSource(r,n)}),It(t,e,function(){return t.compileShader(r)}),t.getShaderParameter(r,t.COMPILE_STATUS)===!1)throw console.log(t.getShaderInfoLog(r)),new Error("Failed to compile vertex shader.");return r}function VU(t,e,n){var r=Oa(t,e,function(){return t.createShader(t.FRAGMENT_SHADER)},"Unable to create fragment WebGLShader.");if(It(t,e,function(){return t.shaderSource(r,n)}),It(t,e,function(){return t.compileShader(r)}),t.getShaderParameter(r,t.COMPILE_STATUS)===!1)throw function(o,a){var s=UU.exec(a);if(s==null)return console.log("Couldn't parse line number in error: "+a),void console.log(o);for(var u=+s[1],c=o.split(`
`),f=c.length.toString().length+2,h=c.map(function(w,S){return Mu((S+1).toString(),f)+w}),p=0,v=0;v<h.length;v++)p=Math.max(h[v].length,p);var g=h.slice(0,u-1),y=h.slice(u-1,u),x=h.slice(u);console.log(g.join(`
`)),console.log(a.split(`
`)[0]),console.log("%c "+Mu(y[0],p),"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(x.join(`
`))}(n,t.getShaderInfoLog(r)),new Error("Failed to compile fragment shader.");return r}var Wg,Hg,UU=/ERROR: [0-9]+:([0-9]+):/g;function jU(t,e){return Oa(t,e,function(){return t.createProgram()},"Unable to create WebGLProgram.")}function WU(t,e,n){if(It(t,e,function(){return t.linkProgram(n)}),t.getProgramParameter(n,t.LINK_STATUS)===!1)throw console.log(t.getProgramInfoLog(n)),new Error("Failed to link vertex and fragment shaders.")}function Gg(t,e,n){if(It(t,e,function(){return t.validateProgram(n)}),t.getProgramParameter(n,t.VALIDATE_STATUS)===!1)throw console.log(t.getProgramInfoLog(n)),new Error("Shader program validation failed.")}function HU(t,e,n){var r=Oa(t,e,function(){return t.createBuffer()},"Unable to create WebGLBuffer");return It(t,e,function(){return t.bindBuffer(t.ARRAY_BUFFER,r)}),It(t,e,function(){return t.bufferData(t.ARRAY_BUFFER,n,t.STATIC_DRAW)}),r}function GU(t,e,n){var r=Oa(t,e,function(){return t.createBuffer()},"Unable to create WebGLBuffer");return It(t,e,function(){return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,r)}),It(t,e,function(){return t.bufferData(t.ELEMENT_ARRAY_BUFFER,n,t.STATIC_DRAW)}),r}function $U(t,e){return Oa(t,e,function(){return t.createTexture()},"Unable to create WebGLTexture.")}function qU(t,e){var n=ft().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(t<=0||e<=0){var r="["+t+"x"+e+"]";throw new Error("Requested texture size "+r+" is invalid.")}if(t>n||e>n)throw r="["+t+"x"+e+"]",new Error("Requested texture size "+r+" greater than WebGL maximum on this browser / GPU "+("["+n+"x"+n+"]")+".")}function KU(t,e){return Oa(t,e,function(){return t.createFramebuffer()},"Unable to create WebGLFramebuffer.")}function jE(t,e,n,r,o,a,s,u){var c=t.getAttribLocation(n,r);return c!==-1&&(It(t,e,function(){return t.bindBuffer(t.ARRAY_BUFFER,o)}),It(t,e,function(){return t.vertexAttribPointer(c,a,t.FLOAT,!1,s,u)}),It(t,e,function(){return t.enableVertexAttribArray(c)}),!0)}function XU(t,e,n,r){tj(t,r),It(t,e,function(){return t.activeTexture(t.TEXTURE0+r)}),It(t,e,function(){return t.bindTexture(t.TEXTURE_2D,n)})}function YU(t,e,n,r){return Oa(t,e,function(){return t.getUniformLocation(n,r)},'uniform "'+r+'" not present in program.')}function QU(t,e,n){return t.getUniformLocation(e,n)}function ZU(t,e,n,r,o,a){It(t,e,function(){return XU(t,e,r,a)}),It(t,e,function(){return t.uniform1i(o,a)})}function $g(t,e,n,r){It(t,e,function(){return t.bindFramebuffer(t.FRAMEBUFFER,r)}),It(t,e,function(){return t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,n,0)})}function WE(t,e,n){It(t,e,function(){return t.bindFramebuffer(t.FRAMEBUFFER,n)}),It(t,e,function(){return t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,null,0)})}function th(t){var e=t.checkFramebufferStatus(t.FRAMEBUFFER);if(e!==t.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+JU(t,e))}function JU(t,e){switch(e){case t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case t.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return"unknown error "+e}}function Oa(t,e,n,r){var o=It(t,e,function(){return n()});if(o==null)throw new Error(r);return o}function tj(t,e){var n=t.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=e+t.TEXTURE0;if(r<t.TEXTURE0||r>n)throw new Error("textureUnit must be in "+("[gl.TEXTURE0, gl.TEXTURE"+n+"]")+".")}function Kh(t,e){return e===void 0&&(e=2),Ot(t.slice(0,t.length-e))}function Xh(t){if(t.length===0)throw Error("Cannot get rows and columns of an empty shape array.");return[t.length>1?t[t.length-2]:1,t[t.length-1]]}function qg(t){var e=[1,1,1];return t.length===0||t.length===1&&t[0]===1||(e=[Kh(t)].concat(Xh(t))),e}function ej(t,e){var n;e===void 0&&(e=!1);var r=ft().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e&&(r*=2,(t=t.map(function(f,h){return h>=t.length-2?F_(t[h]):t[h]})).length===1&&(t=[2,t[0]])),t.length!==2){var o=rs(t);t=o.newShape}var a=Ot(t);if(t.length<=1&&a<=r)return[1,a];if(t.length===2&&t[0]<=r&&t[1]<=r)return t;if(t.length===3&&t[0]*t[1]<=r&&t[2]<=r)return[t[0]*t[1],t[2]];if(t.length===3&&t[0]<=r&&t[1]*t[2]<=r)return[t[0],t[1]*t[2]];if(t.length===4&&t[0]*t[1]*t[2]<=r&&t[3]<=r)return[t[0]*t[1]*t[2],t[3]];if(t.length===4&&t[0]<=r&&t[1]*t[2]*t[3]<=r)return[t[0],t[1]*t[2]*t[3]];if(e){var s=Kh(t),u=2,c=2;return t.length&&(u=(n=Xh(t))[0],c=n[1]),Jy(a=s*(u/2)*(c/2)).map(function(f){return 2*f})}return Jy(a)}function eh(t){return t%2==0}function nh(t,e){if(Mn(t=t.slice(-2),e=e.slice(-2))||!t.length||!e.length||t[0]===0||t[1]===0||e[0]===0||e[1]===0)return!0;if(t.length!==e.length){var n=t.slice(-1)[0],r=e.slice(-1)[0];if(n===r||eh(n)&&eh(r)&&(t[0]===1||e[0]===1))return!0}return t[1]===e[1]&&eh(t[0])&&eh(e[0])}function nj(t){if(Wg==null){var e=Jo(t);Wg=e.getParameter(e.MAX_TEXTURE_SIZE)}return Wg}function rj(t){if(Hg==null){var e=Jo(t);Hg=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,Hg)}function oj(t){if(t===0)return 0;var e=Jo(t);return Jr(e,"EXT_disjoint_timer_query_webgl2")&&t===2?2:Jr(e,"EXT_disjoint_timer_query")?1:0}function Jr(t,e){return t.getExtension(e)!=null}function HE(t){try{if(Jo(t)!=null)return!0}catch{return!1}return!1}function aj(t){if(t===0)return!1;var e=Jo(t);if(t===1){if(!Jr(e,"OES_texture_float"))return!1}else if(!Jr(e,"EXT_color_buffer_float"))return!1;return i0(e)}function ij(t){if(t===0)return!1;var e=Jo(t);if(t!==1){if(Jr(e,"EXT_color_buffer_float"))return i0(e);if(Jr(e,"EXT_color_buffer_half_float")){var n=e.getExtension("EXT_color_buffer_half_float");return function(r,o){var a=Ob(r,o),s=r.createTexture();r.bindTexture(r.TEXTURE_2D,s),r.texImage2D(r.TEXTURE_2D,0,a.internalFormatHalfFloat,1,1,0,a.textureFormatFloat,a.textureTypeHalfFloat,null);var u=r.createFramebuffer();r.bindFramebuffer(r.FRAMEBUFFER,u),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,s,0);var c=r.checkFramebufferStatus(r.FRAMEBUFFER)===r.FRAMEBUFFER_COMPLETE;return r.bindTexture(r.TEXTURE_2D,null),r.bindFramebuffer(r.FRAMEBUFFER,null),r.deleteTexture(s),r.deleteFramebuffer(u),c}(e,n)}return!1}return!!Jr(e,"OES_texture_float")&&!!Jr(e,"WEBGL_color_buffer_float")&&i0(e)}function i0(t){var e=Ob(t),n=t.createTexture();t.bindTexture(t.TEXTURE_2D,n),t.texImage2D(t.TEXTURE_2D,0,e.internalFormatFloat,1,1,0,e.textureFormatFloat,e.textureTypeFloat,null);var r=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,r),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,n,0);var o=t.checkFramebufferStatus(t.FRAMEBUFFER)===t.FRAMEBUFFER_COMPLETE;return t.bindTexture(t.TEXTURE_2D,null),t.bindFramebuffer(t.FRAMEBUFFER,null),t.deleteTexture(n),t.deleteFramebuffer(r),o}function sj(t){return t===2&&Jo(t).fenceSync!=null}var qt=ft();function $_(t){ft().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(t+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function Dt(t,e){return J.tidy(t,e)}function vr(t){H_(t).forEach(function(e){return e.dispose()})}function uj(t){return J.keep(t)}function Yh(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];ft().getBool("IS_TEST")||console.warn.apply(console,t)}function Ri(t,e){var n=t;if(Uo(t))return e==="string"?[]:[t.length];if(!Array.isArray(t))return[];for(var r=[];Array.isArray(n)||Uo(n)&&e!=="string";)r.push(n.length),n=n[0];return Array.isArray(t)&&ft().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&function o(a,s,u){if(u=u||[],!Array.isArray(a)&&!Uo(a))return void G(s.length===0,function(){return"Element arr["+u.join("][")+"] is a primitive, but should be an array/TypedArray of "+s[0]+" elements"});G(s.length>0,function(){return"Element arr["+u.join("][")+"] should be a primitive, but is an array of "+a.length+" elements"}),G(a.length===s[0],function(){return"Element arr["+u.join("][")+"] should have "+s[0]+" elements, but has "+a.length+" elements"});for(var c=s.slice(1),f=0;f<a.length;++f)o(a[f],c,u.concat(f))}(t,r,[]),r}function GE(t,e,n,r){if(t!=null&&(t!=="numeric"&&t!==e||t==="numeric"&&e==="string"))throw new Error("Argument '"+n+"' passed to '"+r+"' must be "+t+" tensor, but got "+e+" tensor")}function V(t,e,n,r){if(r===void 0&&(r="numeric"),t instanceof Ye)return GE(r,t.dtype,e,n),t;var o=xf(t);if(o!=="string"&&["bool","int32","float32"].indexOf(r)>=0&&(o=r),GE(r,o,e,n),t==null||!Uo(t)&&!Array.isArray(t)&&typeof t!="number"&&typeof t!="boolean"&&typeof t!="string"){var a=t==null?"null":t.constructor.name;throw new Error("Argument '"+e+"' passed to '"+n+"' must be a Tensor or TensorLike, but got '"+a+"'")}var s=Ri(t,o);Uo(t)||Array.isArray(t)||(t=[t]);var u=o!=="string"?z_(t,o,ft().getBool("DEBUG")):$u(t,[],!0);return J.makeTensor(u,s,o)}function Qh(t,e,n,r){if(r===void 0&&(r="numeric"),!Array.isArray(t))throw new Error("Argument "+e+" passed to "+n+" must be a `Tensor[]` or `TensorLike[]`");return t.map(function(o,a){return V(o,e+"["+a+"]",n)},r)}function q_(t,e){for(var n=0;n<t.length;++n)if(t[t.length-n-1]!==e-1-n)return!1;return!0}function lj(t,e,n){for(var r=t.length+e.length,o=[],a=0,s=0,u=0;u<r;u++)n.indexOf(u)===-1?o.push(t[a++]):o.push(e[s++]);return o}function qn(t,e){for(var n=[],r=t.length,o=0;o<r;o++)e.indexOf(o)===-1&&n.push(t[o]);return[n,e.map(function(a){return t[a]})]}function yr(t,e){return lj(t,e.map(function(n){return 1}),e)}function _r(t,e,n){G(q_(e,n),function(){return t+" supports only inner-most axes for now. Got axes "+e+" and rank-"+n+" input."})}function ta(t,e){if(q_(t,e))return null;for(var n=[],r=0;r<e;++r)t.indexOf(r)===-1&&n.push(r);return t.forEach(function(o){return n.push(o)}),n}function Pb(t){return t.map(function(e,n){return[n,e]}).sort(function(e,n){return e[1]-n[1]}).map(function(e){return e[0]})}function ea(t,e){for(var n=[],r=e-t;r<e;++r)n.push(r);return n}function cj(t,e){var n=t[0].length;t.forEach(function(o,a){G(o.length===n,function(){return"Error in concat"+n+"D: rank of tensors["+a+"] must be the same as the rank of the rest ("+n+")"})}),G(e>=0&&e<n,function(){return"Error in concat"+n+"D: axis must be between 0 and "+(n-1)+"."});var r=t[0];t.forEach(function(o,a){for(var s=0;s<n;s++)G(s===e||o[s]===r[s],function(){return"Error in concat"+n+"D: Shape of tensors["+a+"] ("+o+") does not match the shape of the rest ("+r+") along the non-concatenated axis "+a+"."})})}function Ku(t,e){for(var n=t[0].slice(),r=1;r<t.length;r++)n[e]+=t[r][e];return n}function Y(t){var e=Object.keys(t);if(e.length!==1)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+e.length+" keys.");var n=e[0],r=t[n];n.endsWith("_")&&(n=n.substring(0,n.length-1));var o=function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];J.startScope(n);try{var u=r.apply(void 0,a);return u instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),J.endScope(u),u}catch(c){throw J.endScope(null),c}};return Object.defineProperty(o,"name",{value:n,configurable:!0}),o}qt.registerFlag("HAS_WEBGL",function(){return qt.getNumber("WEBGL_VERSION")>0}),qt.registerFlag("WEBGL_VERSION",function(){return HE(2)?2:HE(1)?1:0}),qt.registerFlag("WEBGL_BUFFER_SUPPORTED",function(){return qt.get("WEBGL_VERSION")===2}),qt.registerFlag("WEBGL_CPU_FORWARD",function(){return!0}),qt.registerFlag("WEBGL_FORCE_F16_TEXTURES",function(){return!1}),qt.registerFlag("WEBGL_PACK",function(){return qt.getBool("HAS_WEBGL")}),qt.registerFlag("WEBGL_PACK_NORMALIZATION",function(){return qt.getBool("WEBGL_PACK")}),qt.registerFlag("WEBGL_PACK_CLIP",function(){return qt.getBool("WEBGL_PACK")}),qt.registerFlag("WEBGL_PACK_DEPTHWISECONV",function(){return!1}),qt.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",function(){return qt.getBool("WEBGL_PACK")}),qt.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",function(){return qt.getBool("WEBGL_PACK")}),qt.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",function(){return qt.getBool("WEBGL_PACK")}),qt.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",function(){return qt.getBool("WEBGL_PACK")}),qt.registerFlag("WEBGL_PACK_REDUCE",function(){return qt.getBool("WEBGL_PACK")}),qt.registerFlag("WEBGL_LAZILY_UNPACK",function(){return qt.getBool("WEBGL_PACK")}),qt.registerFlag("WEBGL_CONV_IM2COL",function(){return qt.getBool("WEBGL_PACK")}),qt.registerFlag("WEBGL_MAX_TEXTURE_SIZE",function(){return nj(qt.getNumber("WEBGL_VERSION"))}),qt.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",function(){return rj(qt.getNumber("WEBGL_VERSION"))}),qt.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",function(){var t=qt.getNumber("WEBGL_VERSION");return t===0?0:oj(t)}),qt.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",function(){return qt.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&(t=navigator.userAgent||navigator.vendor||window.opera,!(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))));var t}),qt.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",function(){return aj(qt.getNumber("WEBGL_VERSION"))}),qt.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",function(){return!qt.getBool("WEBGL_FORCE_F16_TEXTURES")&&qt.getBool("WEBGL_RENDER_FLOAT32_CAPABLE")}),qt.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",function(){return ij(qt.getNumber("WEBGL_VERSION"))}),qt.registerFlag("WEBGL_FENCE_API_ENABLED",function(){return sj(qt.getNumber("WEBGL_VERSION"))}),qt.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",function(){return qt.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0}),W_=$_;var Ln=Y({complex_:function(t,e){var n=V(t,"real","complex"),r=V(e,"imag","complex");return De(n.shape,r.shape,"real and imag shapes, "+n.shape+" and "+r.shape+", must match in call to tf.complex()."),J.runKernelFunc(function(o){return o.complex(n,r)},{$real:n,$imag:r})}}),Qr=Y({real_:function(t){var e=V(t,"input","real");return J.runKernelFunc(function(n){return n.real(e)},{$input:e})}}),Io=Y({imag_:function(t){var e=V(t,"input","imag");return J.runKernelFunc(function(n){return n.imag(e)},{$input:e})}});function Un(t,e,n){return Ai(t,e,Ri(t,n),n)}function Ai(t,e,n,r){if(r==null&&(r=xf(t)),r==="complex64")throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!Uo(t)&&!Array.isArray(t)&&typeof t!="number"&&typeof t!="boolean"&&typeof t!="string")throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(e!=null){U_(e);var o=Ot(e),a=Ot(n);G(o===a,function(){return"Based on the provided shape, ["+e+"], the tensor should have "+o+" values but has "+a});for(var s=0;s<n.length;++s){var u=n[s],c=s!==n.length-1||u!==Ot(e.slice(s));G(n[s]===e[s]||!c,function(){return"Error creating a new Tensor. Inferred shape ("+n+") does not match the provided shape ("+e+"). "})}}return Uo(t)||Array.isArray(t)||(t=[t]),e=e||n,t=r!=="string"?z_(t,r,ft().getBool("DEBUG")):$u(t,[],!0),J.makeTensor(t,e,r)}function Ct(t,e){if((Uo(t)&&e!=="string"||Array.isArray(t))&&e!=="complex64")throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if(e==="string"&&Uo(t)&&!(t instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return Ai(t,[],[],e)}function gn(t,e){sl(t);var n=Ri(t,e);if(n.length!==1)throw new Error("tensor1d() requires values to be a flat/TypedArray");return Ai(t,null,n,e)}function vi(t,e,n){if(sl(t),e!=null&&e.length!==2)throw new Error("tensor2d() requires shape to have two numbers");var r=Ri(t,n);if(r.length!==2&&r.length!==1)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return Ai(t,e,r,n)}function Ib(t,e,n){if(sl(t),e!=null&&e.length!==3)throw new Error("tensor3d() requires shape to have three numbers");var r=Ri(t,n);if(r.length!==3&&r.length!==1)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return Ai(t,e,r,n)}function fr(t,e,n){if(sl(t),e!=null&&e.length!==4)throw new Error("tensor4d() requires shape to have four numbers");var r=Ri(t,n);if(r.length!==4&&r.length!==1)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return Ai(t,e,r,n)}function fj(t,e,n){if(sl(t),e!=null&&e.length!==5)throw new Error("tensor5d() requires shape to have five numbers");var r=Ri(t,n);if(r.length!==5&&r.length!==1)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return Ai(t,e,r,n)}function dj(t,e,n){if(sl(t),e!=null&&e.length!==6)throw new Error("tensor6d() requires shape to have six numbers");var r=Ri(t,n);if(r.length!==6&&r.length!==1)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return Ai(t,e=e||r,r,n)}function hj(t,e,n,r){return e===void 0&&(e=!0),J.makeVariable(t,e,n,r)}function ul(t,e){if(e===void 0&&(e="float32"),e==="complex64"){var n=ul(t,"float32"),r=We(t,"float32");return Ln(n,r)}var o=V_(Ot(t),e);return J.makeTensor(o,t,e)}function We(t,e){if(e===void 0&&(e="float32"),e==="complex64"){var n=We(t,"float32"),r=We(t,"float32");return Ln(n,r)}var o=wf(Ot(t),e);return J.makeTensor(o,t,e)}function Wo(t,e,n){return J.runKernelFunc(function(r){return r.fill(t,e,n)},{})}function pj(t,e,n){if(n<=0)throw new Error("The number of values should be positive.");return J.runKernelFunc(function(r){return r.linspace(t,e,n)},{})}function Zh(t,e,n,r){if(n===void 0&&(n=1),r===void 0&&(r="float32"),n===0)throw new Error("Cannot have a step of zero");if(t===e||t<e&&n<0||e<t&&n>1)return We([0],r);var o=wf(Math.abs(Math.ceil((e-t)/n)),r);e<t&&n===1&&(n=-1),o[0]=t;for(var a=1;a<o.length;a++)o[a]=o[a-1]+n;return gn(o,r)}var K_=Y({onesLike_:function(t){var e=V(t,"x","onesLike");if(e.dtype==="complex64"){var n=K_(Qr(e)),r=ye(Io(e));return Ln(n,r)}return J.runKernelFunc(function(o){return o.onesLike(e)},{$x:e},function(o,a){return{$x:function(){return ye(o)}}})}}),ye=Y({zerosLike_:function(t){var e=V(t,"x","zerosLike");return J.runKernelFunc(function(n){return n.zerosLike(e)},{$x:e},function(n,r){return{$x:function(){return ye(n)}}})}}),wn=Y({concat_:function(t,e){e===void 0&&(e=0),G(t.length>=1,function(){return"Pass at least one tensor to concat"});var n=Qh(t,"tensors","concat");n[0].dtype==="complex64"&&n.forEach(function(u){if(u.dtype!=="complex64")throw new Error(`Cannot concatenate complex64 tensors with a tensor
          with dtype `+u.dtype+". ")}),e=Tn(e,n[0].shape)[0];var r=Ku(n.map(function(u){return u.shape}),e);if(Ot(r)===0)return Un([],r);if((n=n.filter(function(u){return u.size>0})).length===1)return n[0];var o=n.map(function(u){return u.shape});cj(o,e);var a=n,s={axis:e};return J.runKernelFunc(function(u){return u.concat(n,e)},a,function(u){var c=o.map(function(f){return f[e]});return Bb(u,c,e).map(function(f){return function(){return f}})},"Concat",s)}}),mj=Y({concat1d_:function(t){return wn(t,0)}}),vj=Y({concat2d_:function(t,e){return wn(t,e)}}),gj=Y({concat3d_:function(t,e){return wn(t,e)}}),yj=Y({concat4d_:function(t,e){return wn(t,e)}}),Bb=Y({split_:function(t,e,n){n===void 0&&(n=0);var r,o=V(t,"x","split");return n=Tn(n,o.shape)[0],typeof e=="number"?(G(o.shape[n]%e==0,function(){return"Number of splits must evenly divide the axis."}),r=new Array(e).fill(o.shape[n]/e)):(G(o.shape[n]===e.reduce(function(a,s){return a+s}),function(){return"The sum of sizes must match the size of the axis dimension."}),r=e),J.runKernelFunc(function(a){return a.split(o,r,n)},{$x:o},function(a){return{$x:function(){return wn(a,n)}}})}});function bs(t,e){return t(e={exports:{}},e.exports),e.exports}var bj=bs(function(t){(function(e,n,r){function o(u){var c,f=this,h=(c=4022871197,function(p){p=p.toString();for(var v=0;v<p.length;v++){var g=.02519603282416938*(c+=p.charCodeAt(v));g-=c=g>>>0,c=(g*=c)>>>0,c+=4294967296*(g-=c)}return 23283064365386963e-26*(c>>>0)});f.next=function(){var p=2091639*f.s0+23283064365386963e-26*f.c;return f.s0=f.s1,f.s1=f.s2,f.s2=p-(f.c=0|p)},f.c=1,f.s0=h(" "),f.s1=h(" "),f.s2=h(" "),f.s0-=h(u),f.s0<0&&(f.s0+=1),f.s1-=h(u),f.s1<0&&(f.s1+=1),f.s2-=h(u),f.s2<0&&(f.s2+=1),h=null}function a(u,c){return c.c=u.c,c.s0=u.s0,c.s1=u.s1,c.s2=u.s2,c}function s(u,c){var f=new o(u),h=c&&c.state,p=f.next;return p.int32=function(){return 4294967296*f.next()|0},p.double=function(){return p()+11102230246251565e-32*(2097152*p()|0)},p.quick=p,h&&(typeof h=="object"&&a(h,f),p.state=function(){return a(f,{})}),p}n&&n.exports?n.exports=s:this.alea=s})(0,t)}),xj=bs(function(t){(function(e,n,r){function o(u){var c=this,f="";c.x=0,c.y=0,c.z=0,c.w=0,c.next=function(){var p=c.x^c.x<<11;return c.x=c.y,c.y=c.z,c.z=c.w,c.w^=c.w>>>19^p^p>>>8},u===(0|u)?c.x=u:f+=u;for(var h=0;h<f.length+64;h++)c.x^=0|f.charCodeAt(h),c.next()}function a(u,c){return c.x=u.x,c.y=u.y,c.z=u.z,c.w=u.w,c}function s(u,c){var f=new o(u),h=c&&c.state,p=function(){return(f.next()>>>0)/4294967296};return p.double=function(){do var v=((f.next()>>>11)+(f.next()>>>0)/4294967296)/2097152;while(v===0);return v},p.int32=f.next,p.quick=p,h&&(typeof h=="object"&&a(h,f),p.state=function(){return a(f,{})}),p}n&&n.exports?n.exports=s:this.xor128=s})(0,t)}),wj=bs(function(t){(function(e,n,r){function o(u){var c=this,f="";c.next=function(){var p=c.x^c.x>>>2;return c.x=c.y,c.y=c.z,c.z=c.w,c.w=c.v,(c.d=c.d+362437|0)+(c.v=c.v^c.v<<4^p^p<<1)|0},c.x=0,c.y=0,c.z=0,c.w=0,c.v=0,u===(0|u)?c.x=u:f+=u;for(var h=0;h<f.length+64;h++)c.x^=0|f.charCodeAt(h),h==f.length&&(c.d=c.x<<10^c.x>>>4),c.next()}function a(u,c){return c.x=u.x,c.y=u.y,c.z=u.z,c.w=u.w,c.v=u.v,c.d=u.d,c}function s(u,c){var f=new o(u),h=c&&c.state,p=function(){return(f.next()>>>0)/4294967296};return p.double=function(){do var v=((f.next()>>>11)+(f.next()>>>0)/4294967296)/2097152;while(v===0);return v},p.int32=f.next,p.quick=p,h&&(typeof h=="object"&&a(h,f),p.state=function(){return a(f,{})}),p}n&&n.exports?n.exports=s:this.xorwow=s})(0,t)}),Sj=bs(function(t){(function(e,n,r){function o(u){var c=this;c.next=function(){var f,h,p=c.x,v=c.i;return f=p[v],h=(f^=f>>>7)^f<<24,h^=(f=p[v+1&7])^f>>>10,h^=(f=p[v+3&7])^f>>>3,h^=(f=p[v+4&7])^f<<7,f=p[v+7&7],h^=(f^=f<<13)^f<<9,p[v]=h,c.i=v+1&7,h},function(f,h){var p,v=[];if(h===(0|h))v[0]=h;else for(h=""+h,p=0;p<h.length;++p)v[7&p]=v[7&p]<<15^h.charCodeAt(p)+v[p+1&7]<<13;for(;v.length<8;)v.push(0);for(p=0;p<8&&v[p]===0;++p);for(p==8?v[7]=-1:v[p],f.x=v,f.i=0,p=256;p>0;--p)f.next()}(c,u)}function a(u,c){return c.x=u.x.slice(),c.i=u.i,c}function s(u,c){u==null&&(u=+new Date);var f=new o(u),h=c&&c.state,p=function(){return(f.next()>>>0)/4294967296};return p.double=function(){do var v=((f.next()>>>11)+(f.next()>>>0)/4294967296)/2097152;while(v===0);return v},p.int32=f.next,p.quick=p,h&&(h.x&&a(h,f),p.state=function(){return a(f,{})}),p}n&&n.exports?n.exports=s:this.xorshift7=s})(0,t)}),Cj=bs(function(t){(function(e,n,r){function o(u){var c=this;c.next=function(){var f,h,p=c.w,v=c.X,g=c.i;return c.w=p=p+1640531527|0,h=v[g+34&127],f=v[g=g+1&127],h^=h<<13,f^=f<<17,h^=h>>>15,f^=f>>>12,h=v[g]=h^f,c.i=g,h+(p^p>>>16)|0},function(f,h){var p,v,g,y,x,w=[],S=128;for(h===(0|h)?(v=h,h=null):(h+="\0",v=0,S=Math.max(S,h.length)),g=0,y=-32;y<S;++y)h&&(v^=h.charCodeAt((y+32)%h.length)),y===0&&(x=v),v^=v<<10,v^=v>>>15,v^=v<<4,v^=v>>>13,y>=0&&(x=x+1640531527|0,g=(p=w[127&y]^=v+x)==0?g+1:0);for(g>=128&&(w[127&(h&&h.length||0)]=-1),g=127,y=512;y>0;--y)v=w[g+34&127],p=w[g=g+1&127],v^=v<<13,p^=p<<17,v^=v>>>15,p^=p>>>12,w[g]=v^p;f.w=x,f.X=w,f.i=g}(c,u)}function a(u,c){return c.i=u.i,c.w=u.w,c.X=u.X.slice(),c}function s(u,c){u==null&&(u=+new Date);var f=new o(u),h=c&&c.state,p=function(){return(f.next()>>>0)/4294967296};return p.double=function(){do var v=((f.next()>>>11)+(f.next()>>>0)/4294967296)/2097152;while(v===0);return v},p.int32=f.next,p.quick=p,h&&(h.X&&a(h,f),p.state=function(){return a(f,{})}),p}n&&n.exports?n.exports=s:this.xor4096=s})(0,t)}),Ej=bs(function(t){(function(e,n,r){function o(u){var c=this,f="";c.next=function(){var p=c.b,v=c.c,g=c.d,y=c.a;return p=p<<25^p>>>7^v,v=v-g|0,g=g<<24^g>>>8^y,y=y-p|0,c.b=p=p<<20^p>>>12^v,c.c=v=v-g|0,c.d=g<<16^v>>>16^y,c.a=y-p|0},c.a=0,c.b=0,c.c=-1640531527,c.d=1367130551,u===Math.floor(u)?(c.a=u/4294967296|0,c.b=0|u):f+=u;for(var h=0;h<f.length+20;h++)c.b^=0|f.charCodeAt(h),c.next()}function a(u,c){return c.a=u.a,c.b=u.b,c.c=u.c,c.d=u.d,c}function s(u,c){var f=new o(u),h=c&&c.state,p=function(){return(f.next()>>>0)/4294967296};return p.double=function(){do var v=((f.next()>>>11)+(f.next()>>>0)/4294967296)/2097152;while(v===0);return v},p.int32=f.next,p.quick=p,h&&(typeof h=="object"&&a(h,f),p.state=function(){return a(f,{})}),p}n&&n.exports?n.exports=s:this.tychei=s})(0,t)}),es=bs(function(t){(function(e,n){var r,o=this,a=256,s=6,u="random",c=n.pow(a,s),f=n.pow(2,52),h=2*f,p=a-1;function v(S,A,E){var T=[],R=x(function k(N,I){var z,D=[],$=typeof N;if(I&&$=="object")for(z in N)try{D.push(k(N[z],I-1))}catch{}return D.length?D:$=="string"?N:N+"\0"}((A=A==1?{entropy:!0}:A||{}).entropy?[S,w(e)]:S??function(){try{var k;return r&&(k=r.randomBytes)?k=k(a):(k=new Uint8Array(a),(o.crypto||o.msCrypto).getRandomValues(k)),w(k)}catch{var N=o.navigator,I=N&&N.plugins;return[+new Date,o,I,o.screen,w(e)]}}(),3),T),_=new g(T),M=function(){for(var k=_.g(s),N=c,I=0;k<f;)k=(k+I)*a,N*=a,I=_.g(1);for(;k>=h;)k/=2,N/=2,I>>>=1;return(k+I)/N};return M.int32=function(){return 0|_.g(4)},M.quick=function(){return _.g(4)/4294967296},M.double=M,x(w(_.S),e),(A.pass||E||function(k,N,I,z){return z&&(z.S&&y(z,_),k.state=function(){return y(_,{})}),I?(n[u]=k,N):k})(M,R,"global"in A?A.global:this==n,A.state)}function g(S){var A,E=S.length,T=this,R=0,_=T.i=T.j=0,M=T.S=[];for(E||(S=[E++]);R<a;)M[R]=R++;for(R=0;R<a;R++)M[R]=M[_=p&_+S[R%E]+(A=M[R])],M[_]=A;(T.g=function(k){for(var N,I=0,z=T.i,D=T.j,$=T.S;k--;)N=$[z=p&z+1],I=I*a+$[p&($[z]=$[D=p&D+N])+($[D]=N)];return T.i=z,T.j=D,I})(a)}function y(S,A){return A.i=S.i,A.j=S.j,A.S=S.S.slice(),A}function x(S,A){for(var E,T=S+"",R=0;R<T.length;)A[p&R]=p&(E^=19*A[p&R])+T.charCodeAt(R++);return w(A)}function w(S){return String.fromCharCode.apply(0,S)}if(n["seed"+u]=v,x(n.random(),e),t.exports){t.exports=v;try{r=require("crypto")}catch{}}})([],Math)});es.alea=bj,es.xor128=xj,es.xorwow=wj,es.xorshift7=Sj,es.xor4096=Cj,es.tychei=Ej;var jp=es.alea,Fb=function(){function t(e,n,r,o,a){this.mean=e,this.stdDev=n,this.dtype=r,this.nextVal=NaN,this.truncated=o,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);var s=a||Math.random();this.random=jp(s.toString())}return t.prototype.nextValue=function(){if(!isNaN(this.nextVal)){var e=this.nextVal;return this.nextVal=NaN,e}for(var n,r,o=!1;!o;){var a=void 0,s=void 0,u=void 0;do u=(a=2*this.random()-1)*a+(s=2*this.random()-1)*s;while(u>=1||u===0);var c=Math.sqrt(-2*Math.log(u)/u);n=this.mean+this.stdDev*a*c,r=this.mean+this.stdDev*s*c,this.truncated&&!this.isValidTruncated(n)||(o=!0)}return this.truncated&&!this.isValidTruncated(r)||(this.nextVal=this.convertValue(r)),this.convertValue(n)},t.prototype.convertValue=function(e){return this.dtype==null||this.dtype==="float32"?e:Math.round(e)},t.prototype.isValidTruncated=function(e){return e<=this.upper&&e>=this.lower},t}(),Tj=function(){function t(e,n,r,o){this.alpha=e,this.beta=1/n,this.dtype=r;var a=o||Math.random();this.randu=jp(a.toString()),this.randn=new Fb(0,1,r,!1,this.randu()),this.d=e<1?e+2/3:e-1/3,this.c=1/Math.sqrt(9*this.d)}return t.prototype.nextValue=function(){for(var e,n,r,o,a,s;;){do o=this.randn.nextValue(),s=1+this.c*o;while(s<=0);if(s*=s*s,n=1-.331*(e=o*o)*e,r=.5*e+this.d*(1-s+Math.log(s)),(a=this.randu())<n||Math.log(a)<r)break}return s=1/this.beta*this.d*s,this.alpha<1&&(s*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(s)},t.prototype.convertValue=function(e){return this.dtype==="float32"?e:Math.round(e)},t}(),Rj=function(){function t(e,n,r,o){var a=this;if(e===void 0&&(e=0),n===void 0&&(n=1),this.canReturnFloat=function(){return a.dtype==null||a.dtype==="float32"},this.min=e,this.range=n-e,this.dtype=r,o==null&&(o=Math.random()),typeof o=="number"&&(o=o.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error("The difference between "+e+" - "+n+" <= 1 and dtype is not float");this.random=jp(o)}return t.prototype.convertValue=function(e){return this.canReturnFloat()?e:Math.round(e)},t.prototype.nextValue=function(){return this.convertValue(this.min+this.range*this.random())},t}();function Yt(t,e,n){return e===void 0&&(e="float32"),e=e||"float32",U_(t),new Kc(t,e,n)}function Aj(t,e){e===void 0&&(e=!1),console.log(t.toString(e))}var X_=Y({batchToSpaceND_:function(t,e,n){var r=V(t,"x","batchToSpaceND"),o=e.reduce(function(a,s){return a*s});return G(r.rank>=1+e.length,function(){return"input rank is "+r.rank+" but should be > than blockShape.length "+e.length}),G(n.length===e.length,function(){return"crops.length is "+n.length+" but should be equal to blockShape.length  "+e.length}),G(r.shape[0]%o==0,function(){return"input tensor batch is "+r.shape[0]+" but is not divisible by the product of the elements of blockShape "+e.join(" * ")+" === "+o}),J.runKernelFunc(function(a){return a.batchToSpaceND(r,e,n)},{$x:r},function(a){return{$x:function(){return a.spaceToBatchND(e,n)}}})}}),_j=Y({broadcastTo_:function(t,e){var n=V(t,"broadcastTo","x"),r=n.shape;if(e.some(function(c){return!(c>0)||c%1!=0}))throw new Error("broadcastTo(): Invalid broadcast shape ["+e+"].");if(e.length<n.rank)throw new Error("broadcastTo(): shape.length="+e.length+" < input.rank="+n.rank+".");if(e.length>n.rank){for(var o=n.shape.slice();o.length<e.length;)o.unshift(1);n=n.reshape(o)}for(var a=Array.from(e),s=e.length-1;s>=0;s--)if(n.shape[s]===e[s])a[s]=1;else if(n.shape[s]!==1)throw new Error("broadcastTo(): ["+r+"] cannot be broadcast to ["+e+"].");var u=a.map(function(c,f){return c>1?f:-1}).filter(function(c){return c>=0});return u.length===0?n.clone():J.runKernelFunc(function(c){return c.tile(n,a)},{input:n},function(c){return{input:function(){return c.sum(u,!0)}}})}}),Dj=Y({cast_:function(t,e){var n=V(t,"x","cast");if(!wU(e))throw new Error("Failed to cast to unknown dtype "+e);if(e==="string"&&n.dtype!=="string"||e!=="string"&&n.dtype==="string")throw new Error("Only strings can be casted to strings");var r={dtype:e};return J.runKernelFunc(function(o){return o.cast(n,e)},{x:n},function(o){return{x:function(){return o.clone()}}},"Cast",r)}}),kj=Y({clone_:function(t){var e=V(t,"x","clone",null);return J.runKernelFunc(function(){return J.makeTensorFromDataId(e.dataId,e.shape,e.dtype)},{$x:e},function(n){return{$x:function(){return n.toFloat()}}})}}),Mj=Y({cumsum_:function(t,e,n,r){e===void 0&&(e=0),n===void 0&&(n=!1),r===void 0&&(r=!1);var o=V(t,"x","cumsum"),a=ta([e|=0],o.rank),s=o;a!=null&&(s=o.transpose(a));var u=ea(1,o.rank)[0],c=J.runKernelFunc(function(f){return f.cumsum(s,u,n,r)},{permutedX:s},function(f){return{permutedX:function(){return f.cumsum(e,n,!r)}}});return a!=null&&(c=c.transpose(a)),c}}),Nj=Y({depthToSpace_:function(t,e,n){n===void 0&&(n="NHWC");var r=V(t,"x","depthToSpace"),o=n==="NHWC"?r.shape[1]:r.shape[2],a=n==="NHWC"?r.shape[2]:r.shape[3],s=n==="NHWC"?r.shape[3]:r.shape[1];return G(o*e>=0,function(){return`Negative dimension size caused by overflow when multiplying
      `+o+" and "+e+`  for depthToSpace with input shape
      `+r.shape}),G(a*e>=0,function(){return`Negative dimension size caused by overflow when multiplying
      `+a+" and "+e+` for depthToSpace with input shape
          `+r.shape}),G(s%(e*e)==0,function(){return"Dimension size must be evenly divisible by "+e*e+" but is "+s+" for depthToSpace with input shape "+r.shape}),J.runKernelFunc(function(u){return u.depthToSpace(r,e,n)},{$x:r})}}),Yr=Y({expandDims_:function(t,e){e===void 0&&(e=0);var n=V(t,"x","expandDims",null);G(e<=n.rank,function(){return"Axis must be <= rank of the tensor"});var r=n.shape.slice();return e<0&&(G(-(n.rank+1)<=e,function(){return"Axis must be in the interval ["+-(n.rank+1)+", "+n.rank+"]"}),e=n.rank+e+1),r.splice(e,0,1),mo(n,r)}}),Y_=Y({eye_:function(t,e,n,r){r===void 0&&(r="float32"),e==null&&(e=t);for(var o=Yt([t,e],r),a=t<=e?t:e,s=0;s<a;++s)o.set(1,s,s);var u=o.toTensor().as2D(t,e);if(n==null)return u;if(n.length===1)return Nu(Yr(u,0),[n[0],1,1]);if(n.length===2)return Nu(Yr(Yr(u,0),0),[n[0],n[1],1,1]);if(n.length===3)return Nu(Yr(Yr(Yr(u,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error("eye() currently supports only 1D and 2D batchShapes, but received "+n.length+"D.")}}),Oj=Y({multinomial_:function(t,e,n,r){r===void 0&&(r=!1);var o=V(t,"logits","multinomial"),a=o.size,s=o.rank;if(a<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+a+".");if(s>2)throw new Error("Rank of probabilities must be 1 or 2, but is "+s);n=n||Math.random();var u=s===1?o.as2D(1,-1):o,c=J.runKernelFunc(function(f){return f.multinomial(u,r,e,n)},{logits2D:u});return s===1?c.as1D():c}}),s0=Y({oneHot_:function(t,e,n,r){if(n===void 0&&(n=1),r===void 0&&(r=0),e<2)throw new Error("Error in oneHot: depth must be >=2, but it is "+e);var o=V(t,"indices","oneHot","int32"),a=o.shape.concat([e]);return o=o.flatten(),J.runKernelFunc(function(s){return s.oneHot(o,e,n,r)},{$indices:o},function(s){return{$indices:function(){return We(o.shape,"float32")}}}).reshape(a)}}),xs=Y({pad_:function(t,e,n){n===void 0&&(n=0);var r=V(t,"x","pad");if(r.rank===0)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");var o={paddings:e,constantValue:n};return J.runKernelFunc(function(a){return a.pad(r,e,n)},{x:r},function(a){var s=e.map(function(u){return u[0]});return{x:function(){return a.slice(s,r.shape)}}},"PadV2",o)}}),Pj=Y({pad1d_:function(t,e,n){return n===void 0&&(n=0),G(e.length===2,function(){return"Invalid number of paddings. Must be length of 2."}),xs(t,[e],n)}}),Ij=Y({pad2d_:function(t,e,n){return n===void 0&&(n=0),G(e.length===2&&e[0].length===2&&e[1].length===2,function(){return"Invalid number of paddings. Must be length of 2 each."}),xs(t,e,n)}}),Bj=Y({pad3d_:function(t,e,n){return n===void 0&&(n=0),G(e.length===3&&e[0].length===2&&e[1].length===2&&e[2].length===2,function(){return"Invalid number of paddings. Must be length of 2 each."}),xs(t,e,n)}}),Fj=Y({pad4d_:function(t,e,n){return n===void 0&&(n=0),G(e.length===4&&e[0].length===2&&e[1].length===2&&e[2].length===2&&e[3].length===2,function(){return"Invalid number of paddings. Must be length of 2 each."}),xs(t,e,n)}}),Lj=Y({rand_:function(t,e,n){var r=Ot(t),o=null;if(n==null||n==="float32")o=new Float32Array(r);else if(n==="int32")o=new Int32Array(r);else{if(n!=="bool")throw new Error("Unknown data type "+n);o=new Uint8Array(r)}for(var a=0;a<r;a++)o[a]=e();return J.makeTensor(o,t,n)}}),zj=Y({randomNormal_:function(t,e,n,r,o){if(e===void 0&&(e=0),n===void 0&&(n=1),r!=null&&r==="bool")throw new Error("Unsupported data type "+r);for(var a=new Fb(e,n,r,!1,o),s=Yt(t,r),u=0;u<s.values.length;u++)s.values[u]=a.nextValue();return s.toTensor()}}),Vj=Y({randomGamma_:function(t,e,n,r,o){if(n===void 0&&(n=1),r===void 0&&(r="float32"),n==null&&(n=1),r==null&&(r="float32"),r!=="float32"&&r!=="int32")throw new Error("Unsupported data type "+r);for(var a=new Tj(e,n,r,o),s=Yt(t,r),u=0;u<s.values.length;u++)s.values[u]=a.nextValue();return s.toTensor()}}),Q_=Y({randomUniform_:function(t,e,n,r,o){e===void 0&&(e=0),n===void 0&&(n=1),r===void 0&&(r="float32");for(var a=Yt(t,r),s=new Rj(e,n,null,o),u=0;u<a.values.length;u++)a.values[u]=s.nextValue();return a.toTensor()}}),mo=Y({reshape_:function(t,e){var n=V(t,"x","reshape",null);e=bU(e,n.size),G(n.size===Ot(e),function(){return"new shape and old shape must have the same number of elements."});var r={shape:e};return J.runKernelFunc(function(o){return o.reshape(n,e)},{x:n},function(o){return{x:function(){return o.reshape(n.shape)}}},"Reshape",r)}}),Z_=Y({spaceToBatchND_:function(t,e,n){var r=V(t,"x","spaceToBatchND");return G(r.rank>=1+e.length,function(){return"input rank "+r.rank+" should be > than [blockShape] "+e.length}),G(n.length===e.length,function(){return"paddings.shape[0] "+n.length+" must be equal to [blockShape] "+e.length}),G(r.shape.reduce(function(o,a,s){return s>0&&s<=e.length?o&&(a+n[s-1][0]+n[s-1][1])%e[s-1]==0:o},!0),function(){return"input spatial dimensions "+r.shape.slice(1)+" with paddings "+n.toString()+" must be divisible by blockShapes "+e.toString()}),J.runKernelFunc(function(o){return o.spaceToBatchND(r,e,n)},{$x:r},function(o){return{$x:function(){return o.batchToSpaceND(e,n)}}})}}),J_=Y({squeeze_:function(t,e){var n=V(t,"x","squeeze");return mo(n,rs(n.shape,e).newShape)}}),Ir=Y({stack_:function(t,e){e===void 0&&(e=0);var n=Qh(t,"tensors","stack");if(G(n.length>=1,function(){return"Pass at least one tensor to tf.stack"}),n.length===1)return n[0].expandDims(e);var r=n[0].rank,o=n[0].shape,a=n[0].dtype;G(e<=r,function(){return"Axis must be <= rank of the tensor"}),n.forEach(function(u){De(o,u.shape,"All tensors passed to stack must have matching shapes")}),n.forEach(function(u){G(a===u.dtype,function(){return"All tensors passed to stack must have matching dtypes"})});var s=n.map(function(u){return u.expandDims(e)});return wn(s,e)}}),Nu=Y({tile_:function(t,e){var n=V(t,"x","tile",null);G(n.rank===e.length,function(){return"Error in transpose: rank of input "+n.rank+" must match length of reps "+e+"."});var r=[n],o={reps:e};return J.runKernelFunc(function(a,s){var u=a.tile(n,e);return s([n]),u},{x:n},function(a,s){var u=s[0];return{x:function(){var c=ye(u);if(u.rank===1)for(var f=0;f<e[0];++f)c=c.add(a.slice([f*u.shape[0]],[u.shape[0]]));else if(u.rank===2)for(f=0;f<e[0];++f)for(var h=0;h<e[1];++h)c=c.add(a.slice([f*u.shape[0],h*u.shape[1]],[u.shape[0],u.shape[1]]));else if(u.rank===3)for(f=0;f<e[0];++f)for(h=0;h<e[1];++h)for(var p=0;p<e[2];++p)c=c.add(a.slice([f*u.shape[0],h*u.shape[1],p*u.shape[2]],[u.shape[0],u.shape[1],u.shape[2]]));else{if(u.rank!==4)throw new Error("Gradient for tile operation is not implemented for rank-"+u.rank+" tensors yet.");for(f=0;f<e[0];++f)for(h=0;h<e[1];++h)for(p=0;p<e[2];++p)for(var v=0;v<e[3];++v)c=c.add(a.slice([f*u.shape[0],h*u.shape[1],p*u.shape[2],v*u.shape[3]],[u.shape[0],u.shape[1],u.shape[2],u.shape[3]]))}return c}}},"Tile",o,r)}}),Uj=Y({truncatedNormal_:function(t,e,n,r,o){if(e===void 0&&(e=0),n===void 0&&(n=1),r!=null&&r==="bool")throw new Error("Unsupported data type "+r);for(var a=new Fb(e,n,r,!0,o),s=Yt(t,r),u=0;u<s.values.length;u++)s.values[u]=a.nextValue();return s.toTensor()}}),Sn=Y({unstack_:function(t,e){e===void 0&&(e=0),e=e||0;var n=V(t,"x","unstack");G(e>=-n.shape.length&&e<n.shape.length,function(){return"Axis = "+e+" is not in [-"+n.shape.length+", "+n.shape.length+")"}),e<0&&(e+=n.shape.length);var r={axis:e};return J.runKernelFunc(function(o){return o.unstack(n,e)},{x:n},function(o){return{x:function(){return Ir(o,e)}}},"Unpack",r)}}),jj=function(t,e){return Mt(this,void 0,void 0,function(){var n,r,o,a,s,u,c,f,h,p;return Nt(this,function(v){switch(v.label){case 0:return n=V(t,"x","setdiff1d"),r=V(e,"y","setdiff1d"),G(n.dtype===r.dtype,function(){return"x and y should have the same dtype, but got x ("+n.dtype+") and y ("+r.dtype+")."}),G(n.rank===1,function(){return"x should be 1D tensor, but got x ("+n.shape+")."}),G(r.rank===1,function(){return"y should be 1D tensor, but got y ("+r.shape+")."}),[4,n.data()];case 1:return o=v.sent(),[4,r.data()];case 2:for(a=v.sent(),s=new Set(a),u=0,h=0;h<o.length;h++)s.has(o[h])||u++;for(c=new Kc([u],n.dtype),f=new Kc([u],"int32"),h=0,p=0;h<o.length;h++)s.has(o[h])||(c.values[p]=o[h],f.values[p]=h,p++);return[2,[c.toTensor(),f.toTensor()]]}})})};function Jh(t,e,n,r){r===void 0&&(r=!0);var o=[];if(r)(o=o.concat(e.slice(0))).push(t[0]/n),o=o.concat(t.slice(1));else{o=o.concat(t[0]);for(var a=e.length,s=0;s<a;++s)o=o.concat([t[s+1]/e[s],e[s]]);o=o.concat(t.slice(a+1))}return o}function tp(t,e,n){n===void 0&&(n=!0);var r=[];if(n){r.push(e);for(var o=e+1;o<t;++o)o<=2*e?(r.push(o),r.push(o-(e+1))):r.push(o)}else{var a=[],s=[];for(o=1;o<t;++o)o>=2*e+1||o%2==1?s.push(o):a.push(o);r.push.apply(r,a),r.push(0),r.push.apply(r,s)}return r}function ep(t,e,n,r){r===void 0&&(r=!0);var o=[];r?o.push(t[0]/n):o.push(t[0]*n);for(var a=1;a<t.length;++a)a<=e.length?r?o.push(e[a-1]*t[a]):o.push(t[a]/e[a-1]):o.push(t[a]);return o}function tD(t,e){for(var n=[0],r=0;r<e;++r)n.push(t[r][0]);return n}function eD(t,e,n){for(var r=t.slice(0,1),o=0;o<n;++o)r.push(t[o+1]-e[o][0]-e[o][1]);return r}function nD(t,e){if(t.rank<1)throw new Error("tf.gatherND() expects the input to be rank 1 or higher, but the rank was "+t.rank+".");if(e.rank<1)throw new Error("tf.gatherND() expects the indices to be rank 1 or higher, but the rank was "+e.rank+".");if(e.dtype!=="int32")throw new Error("tf.gatherND() expects the indices to be int32 type, but the dtype was "+e.dtype+".");if(e.shape[e.rank-1]>t.rank)throw new Error("index innermost dimension length must be <= tensor rank; saw: "+e.shape[e.rank-1]+" vs. "+t.rank);if(t.size===0)throw new Error("Requested more than 0 entries, but input is empty. Input shape: "+t.shape+".");for(var n=e.shape,r=n[n.length-1],o=1,a=0;a<n.length-1;++a)o*=n[a];var s=t.shape,u=n.slice();u.pop();var c=1;for(a=r;a<t.rank;++a)c*=s[a],u.push(s[a]);var f=jo(t.shape).map(function(h){return h/c}).concat([1]).slice(0,r);return[u,o,c,f]}var rD=30;function Kg(t){return t<=rD?t:e0(t,Math.floor(Math.sqrt(t)))}function Wj(t,e,n){var r=e.rank>1?e.shape[e.rank-1]:1,o=e.rank>1?e.rank-1:1,a="Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: "+n.shape+", indices.shape: "+e.shape+", shape: "+t+", sliceDim: "+r+", and batchDim: "+o+".";if(n.rank<o)throw new Error(a+" update.rank < "+o+". ");if(t.length<r+(n.rank-o))throw new Error(a+" Output shape length < "+(r+(n.rank-o)));if(n.rank!==o+t.length-r)throw new Error(a+" update.rank != "+(o+t.length-r));for(var s=0;s<o;++s)if(n.shape[s]!==e.shape[s])throw new Error(a+" updates.shape["+s+"] ("+n.shape[s]+") != indices.shape["+s+"] ("+e.shape[s]+").");for(s=0;s<n.rank-o;++s)if(n.shape[s+o]!==t[s+r])throw new Error(a+" updates.shape["+(s+o)+"] ("+n.shape[s+o]+") != shape["+(s+o)+"] ("+t[s+o]+")")}function Hj(t,e,n){if(e.rank<1)throw new Error("tf.scatterND() expects the indices to be rank 1 or higher, but the rank was "+e.rank+".");if(t.rank<1)throw new Error("tf.scatterND() expects the updates to be rank 1 or higher, but the rank was "+t.rank+".");if(e.dtype!=="int32")throw new Error("The dtype of 'indices' should be int32, but got dtype: "+e.dtype);if(n.length<1)throw new Error("Output rank must be greater or equal to 1, but got shape: "+n);if(n.length===0){if(e.size===0)throw new Error("Indices specified for empty output. indices shape: "+e.shape);if(t.size===0)throw new Error("Updates specified for empty output. updates shape: "+t.shape)}Wj(n,e,t)}function np(t,e,n){for(var r=e.shape.length,o=r>1?e.shape[r-1]:1,a=n.length,s=1,u=o;u<a;++u)s*=n[u];var c=o<1?1:o;return{sliceRank:o,numUpdates:Ot(e.shape)/c,sliceSize:s,strides:jo(n.slice(0,o)).concat([1]),outputSize:Ot(n)}}function Gj(t,e,n){G(t.rank===e.length,function(){return"Error in slice"+t.rank+"D: Length of begin "+e+" must match the rank of the array ("+t.rank+")."}),G(t.rank===n.length,function(){return"Error in slice"+t.rank+"D: Length of size "+n+" must match the rank of the array ("+t.rank+")."});for(var r=function(a){G(e[a]+n[a]<=t.shape[a],function(){return"Error in slice"+t.rank+"D: begin["+a+"] + size["+a+"] ("+(e[a]+n[a])+") would overflow input.shape["+a+"] ("+t.shape[a]+")"})},o=0;o<t.rank;++o)r(o)}function $E(t){for(var e=[],n=0;t>0;)1&t&&e.push(n),t/=2,n++;return e}function Lb(t,e,n){for(var r=[],o=0;o<t.length;o++)r[o]=Math.ceil((e[o]-t[o])/n[o]);return r}function $j(t,e,n,r,o){var a=e[o],s=n[o]||1;(t&1<<o||a==null)&&(a=s>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);var u=r[o];return a<0&&(a+=u),a=Zy(0,a,u-1)}function qj(t,e,n,r,o){var a=e[o],s=n[o]||1;(t&1<<o||a==null)&&(a=s>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);var u=r[o];return a<0&&(a+=u),a=s>0?Zy(0,a,u):Zy(-1,a,u-1)}function oD(t,e,n){for(var r=n.length,o=0;o<n.length;o++)if(n[o]>1){r=o;break}for(o=r+1;o<n.length;o++)if(e[o]>0||n[o]!==t[o])return!1;return!0}function aD(t,e){for(var n=t.length>0?t[t.length-1]:1,r=0;r<t.length-1;r++)n+=t[r]*e[r];return n}function Kj(t,e){G(t0(t),function(){return"The f passed in variableGrads(f) must be a function"}),G(e==null||Array.isArray(e)&&e.every(function(h){return h instanceof qu}),function(){return"The varList passed in variableGrads(f, varList) must be an array of variables"});var n=e!=null;if(!n)for(var r in e=[],J.registeredVariables)e.push(J.registeredVariables[r]);var o=n?e.filter(function(h){return!h.trainable}):null,a=e.length;G((e=e.filter(function(h){return h.trainable})).length>0,function(){return"variableGrads() expects at least one of the input variables to be trainable, but none of the "+a+" variables is trainable."});var s=J.gradients(t,e,null,!0),u=s.value,c=s.grads;G(c.some(function(h){return h!=null}),function(){return"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."}),G(u.rank===0,function(){return"The f passed in variableGrads(f) must return a scalar, but it returned a rank-"+u.rank+" tensor"});var f={};return e.forEach(function(h,p){c[p]!=null&&(f[h.name]=c[p])}),o?.forEach(function(h){return f[h.name]=null}),{value:u,grads:f}}function Wp(t){return J.customGrad(t)}var Pa=Y({softmax_:function(t,e){e===void 0&&(e=-1);var n=V(t,"logits","softmax","float32");if(e===-1&&(e=n.rank-1),e!==n.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. Logits was rank "+n.rank+" and dim was "+e);return J.runKernelFunc(function(r,o){var a=r.softmax(n,e);return o([a]),a},{logits:n},function(r,o){var a=o[0],s=r.mul(a);return{logits:function(){return s.sub(s.sum([e],!0).mul(a))}}},"Softmax",{dim:e},[],[!0])}}),Xj=Y({logSoftmax_:function(t,e){e===void 0&&(e=-1);var n=V(t,"logits","logSoftmax");if(e===-1&&(e=n.rank-1),e!==n.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. Logits was rank "+n.rank+" and axis was "+e);return Wp(function(r,o){var a=r.max(e,!0),s=r.sub(a),u=s.toFloat().sub(s.exp().sum(e,!0).log());return o([u]),{value:u,gradFunc:function(c,f){var h=f[0].exp();return c.sub(c.sum(e,!0).mul(h))}}})(n)}}),iD=function(){function t(e,n){this.backend=e,this.dataMover=n,this.data=new WeakMap,this.dataIdsCount=0}return t.prototype.get=function(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)},t.prototype.set=function(e,n){this.dataIdsCount++,this.data.set(e,n)},t.prototype.has=function(e){return this.data.has(e)},t.prototype.delete=function(e){return this.dataIdsCount--,this.data.delete(e)},t.prototype.numDataIds=function(){return this.dataIdsCount},t}(),sD=function(){function t(){}return t.prototype.time=function(e){return st("time")},t.prototype.read=function(e){return st("read")},t.prototype.readSync=function(e){return st("readSync")},t.prototype.numDataIds=function(){return st("numDataIds")},t.prototype.disposeData=function(e){return st("disposeData")},t.prototype.write=function(e,n,r){return st("write")},t.prototype.move=function(e,n,r,o){return st("move")},t.prototype.memory=function(){return st("memory")},t.prototype.floatPrecision=function(){return st("floatPrecision")},t.prototype.epsilon=function(){return this.floatPrecision()===32?1e-7:1e-4},t.prototype.batchMatMul=function(e,n,r,o){return st("batchMatMul")},t.prototype.fusedBatchMatMul=function(e){return e.a,e.b,e.transposeA,e.transposeB,e.bias,e.activation,e.preluActivationWeights,st("fusedBatchMatMul")},t.prototype.slice=function(e,n,r){return st("slice")},t.prototype.stridedSlice=function(e,n,r,o){return st("stridedSlice")},t.prototype.unstack=function(e,n){return st("unstack")},t.prototype.reverse=function(e,n){return st("reverse")},t.prototype.concat=function(e,n){return st("concat")},t.prototype.neg=function(e){return st("neg")},t.prototype.add=function(e,n){return st("add")},t.prototype.addN=function(e){return st("addN")},t.prototype.subtract=function(e,n){return st("subtract")},t.prototype.multiply=function(e,n){return st("multiply")},t.prototype.realDivide=function(e,n){return st("realDivide")},t.prototype.floorDiv=function(e,n){return st("floorDiv")},t.prototype.sum=function(e,n){return st("sum")},t.prototype.prod=function(e,n){return st("prod")},t.prototype.unsortedSegmentSum=function(e,n,r){return st("unsortedSegmentSum")},t.prototype.argMin=function(e,n){return st("argMin")},t.prototype.argMax=function(e,n){return st("argMax")},t.prototype.equal=function(e,n){return st("equal")},t.prototype.notEqual=function(e,n){return st("notEqual")},t.prototype.less=function(e,n){return st("less")},t.prototype.lessEqual=function(e,n){return st("lessEqual")},t.prototype.greater=function(e,n){return st("greater")},t.prototype.greaterEqual=function(e,n){return st("greaterEqual")},t.prototype.logicalNot=function(e){return st("logicalNot")},t.prototype.logicalAnd=function(e,n){return st("logicalAnd")},t.prototype.logicalOr=function(e,n){return st("logicalOr")},t.prototype.where=function(e){return st("where")},t.prototype.select=function(e,n,r){return st("select")},t.prototype.topk=function(e,n,r){return st("topk")},t.prototype.min=function(e,n){return st("min")},t.prototype.minimum=function(e,n){return st("minimum")},t.prototype.mod=function(e,n){return st("mod")},t.prototype.max=function(e,n){return st("max")},t.prototype.maximum=function(e,n){return st("maximum")},t.prototype.all=function(e,n){return st("all")},t.prototype.any=function(e,n){return st("any")},t.prototype.squaredDifference=function(e,n){return st("squaredDifference")},t.prototype.ceil=function(e){return st("ceil")},t.prototype.floor=function(e){return st("floor")},t.prototype.round=function(e){return st("round")},t.prototype.sign=function(e){return st("sign")},t.prototype.isNaN=function(e){return st("isNaN")},t.prototype.isInf=function(e){return st("isInf")},t.prototype.isFinite=function(e){return st("isFinite")},t.prototype.pow=function(e,n){return st("pow")},t.prototype.exp=function(e){return st("exp")},t.prototype.expm1=function(e){return st("expm1")},t.prototype.softmax=function(e,n){return st("softmax")},t.prototype.log=function(e){return st("log")},t.prototype.log1p=function(e){return st("log1p")},t.prototype.sqrt=function(e){return st("sqrt")},t.prototype.rsqrt=function(e){return st("rsqrt")},t.prototype.square=function(e){return st("square")},t.prototype.reciprocal=function(e){return st("reciprocal")},t.prototype.relu=function(e){return st("relu")},t.prototype.relu6=function(e){return st("relu6")},t.prototype.prelu=function(e,n){return st("prelu")},t.prototype.elu=function(e){return st("elu")},t.prototype.eluDer=function(e,n){return st("eluDer")},t.prototype.selu=function(e){return st("selu")},t.prototype.int=function(e){return st("int")},t.prototype.clip=function(e,n,r){return st("clip")},t.prototype.abs=function(e){return st("abs")},t.prototype.complexAbs=function(e){return st("complexAbs")},t.prototype.sigmoid=function(e){return st("sigmoid")},t.prototype.softplus=function(e){return st("softplus")},t.prototype.sin=function(e){return st("sin")},t.prototype.cos=function(e){return st("cos")},t.prototype.tan=function(e){return st("tan")},t.prototype.asin=function(e){return st("asin")},t.prototype.acos=function(e){return st("acos")},t.prototype.atan=function(e){return st("atan")},t.prototype.atan2=function(e,n){return st("atan2")},t.prototype.sinh=function(e){return st("sinh")},t.prototype.cosh=function(e){return st("cosh")},t.prototype.tanh=function(e){return st("tanh")},t.prototype.asinh=function(e){return st("asinh")},t.prototype.acosh=function(e){return st("acosh")},t.prototype.atanh=function(e){return st("atanh")},t.prototype.erf=function(e){return st("erf")},t.prototype.step=function(e,n){return st("step")},t.prototype.fusedConv2d=function(e){return e.input,e.filter,e.convInfo,e.bias,e.activation,e.preluActivationWeights,st("fusedConv2d")},t.prototype.conv2d=function(e,n,r){return st("conv2d")},t.prototype.conv2dDerInput=function(e,n,r){return st("conv2dDerInput")},t.prototype.conv2dDerFilter=function(e,n,r){return st("conv2dDerFilter")},t.prototype.fusedDepthwiseConv2D=function(e){return e.input,e.filter,e.convInfo,e.bias,e.activation,e.preluActivationWeights,st("fusedDepthwiseConv2D")},t.prototype.depthwiseConv2D=function(e,n,r){return st("depthwiseConv2D")},t.prototype.depthwiseConv2DDerInput=function(e,n,r){return st("depthwiseConv2DDerInput")},t.prototype.depthwiseConv2DDerFilter=function(e,n,r){return st("depthwiseConv2DDerFilter")},t.prototype.conv3d=function(e,n,r){return st("conv3d")},t.prototype.conv3dDerInput=function(e,n,r){return st("conv3dDerInput")},t.prototype.conv3dDerFilter=function(e,n,r){return st("conv3dDerFilter")},t.prototype.maxPool=function(e,n){return st("maxPool")},t.prototype.maxPoolBackprop=function(e,n,r,o){return st("maxPoolBackprop")},t.prototype.avgPool=function(e,n){return st("avgPool")},t.prototype.avgPoolBackprop=function(e,n,r){return st("avgPoolBackprop")},t.prototype.avgPool3d=function(e,n){return st("avgPool3d")},t.prototype.avgPool3dBackprop=function(e,n,r){return st("avgPool3dBackprop")},t.prototype.maxPool3d=function(e,n){return st("maxPool3d")},t.prototype.maxPool3dBackprop=function(e,n,r,o){return st("maxPool3dBackprop")},t.prototype.reshape=function(e,n){return st("reshape")},t.prototype.cast=function(e,n){return st("cast")},t.prototype.tile=function(e,n){return st("tile")},t.prototype.pad=function(e,n,r){return st("pad")},t.prototype.transpose=function(e,n){return st("transpose")},t.prototype.gather=function(e,n,r){return st("gather")},t.prototype.gatherND=function(e,n){return st("gatherND")},t.prototype.scatterND=function(e,n,r){return st("scatterND")},t.prototype.batchToSpaceND=function(e,n,r){return st("batchToSpaceND")},t.prototype.spaceToBatchND=function(e,n,r){return st("spaceToBatchND")},t.prototype.resizeBilinear=function(e,n,r,o){return st("resizeBilinear")},t.prototype.resizeBilinearBackprop=function(e,n,r){return st("resizeBilinearBackprop")},t.prototype.resizeNearestNeighbor=function(e,n,r,o){return st("resizeNearestNeighbor")},t.prototype.resizeNearestNeighborBackprop=function(e,n,r){return st("resizeNearestNeighborBackprop")},t.prototype.batchNormalization=function(e,n,r,o,a,s){return st("batchNormalization")},t.prototype.localResponseNormalization4D=function(e,n,r,o,a){return st("localResponseNormalization4D")},t.prototype.LRNGrad=function(e,n,r,o,a,s,u){return st("LRNGrad")},t.prototype.multinomial=function(e,n,r,o){return st("multinomial")},t.prototype.oneHot=function(e,n,r,o){return st("oneHot")},t.prototype.cumsum=function(e,n,r,o){return st("cumsum")},t.prototype.nonMaxSuppression=function(e,n,r,o,a){return st("nonMaxSuppression")},t.prototype.fft=function(e){return st("fft")},t.prototype.ifft=function(e){return st("ifft")},t.prototype.complex=function(e,n){return st("complex")},t.prototype.real=function(e){return st("real")},t.prototype.imag=function(e){return st("imag")},t.prototype.cropAndResize=function(e,n,r,o,a,s){return st("cropAndResize")},t.prototype.depthToSpace=function(e,n,r){return st("depthToSpace")},t.prototype.split=function(e,n,r){return st("split")},t.prototype.sparseToDense=function(e,n,r,o){return st("sparseToDense")},t.prototype.diag=function(e){return st("diag")},t.prototype.fill=function(e,n,r){return st("fill")},t.prototype.onesLike=function(e){return st("onesLike")},t.prototype.zerosLike=function(e){return st("zerosLike")},t.prototype.linspace=function(e,n,r){return st("linspace")},t.prototype.dispose=function(){return st("dispose")},t}();function st(t){throw new Error("'"+t+"' not yet implemented or not found in the registry. Did you forget to import the kernel?")}function hi(t,e){for(var n=t.length,r=[],o=0;o<n;o++){var a=n-1-o,s=t[a]||1;(e[e.length-1-o]||1)>1&&s===1&&r.unshift(a)}return r}function Cn(t,e){for(var n=[],r=0;r<e.length;r++){var o=t[t.length-r-1],a=e.length-r-1,s=e[a];(o==null||o===1&&s>1)&&n.unshift(a)}return n}function ce(t,e){for(var n=[],r=Math.max(t.length,e.length),o=0;o<r;o++){var a=t[t.length-o-1];a==null&&(a=1);var s=e[e.length-o-1];if(s==null&&(s=1),a===1)n.unshift(s);else if(s===1)n.unshift(a);else{if(a!==s)throw Error("Operands could not be broadcast together with shapes "+t+" and "+e+".");n.unshift(a)}}return n}function Yc(t,e,n,r,o,a,s){s===void 0&&(s="channelsLast");var u,c=ap(e),f=c[0],h=c[1];if(s==="channelsLast")u=[f,h,t[3],t[3]];else{if(s!=="channelsFirst")throw new Error("Unknown dataFormat "+s);u=[f,h,t[1],t[1]]}return ws(t,u,n,r,o,a,!1,s)}function rp(t,e,n,r,o,a,s){s===void 0&&(s="NDHWC");var u,c,f=u0(e),h=f[0],p=f[1],v=f[2];if(s==="NDHWC")c="channelsLast",u=[h,p,v,t[4],t[4]];else{if(s!=="NCDHW")throw new Error("Unknown dataFormat "+s);c="channelsFirst",u=[h,p,v,t[1],t[1]]}return op(t,u,n,r,o,!1,c,a)}function ws(t,e,n,r,o,a,s,u){s===void 0&&(s=!1),u===void 0&&(u="channelsLast");var c=[-1,-1,-1,-1],f=c[0],h=c[1],p=c[2],v=c[3];if(u==="channelsLast")f=t[0],h=t[1],p=t[2],v=t[3];else{if(u!=="channelsFirst")throw new Error("Unknown dataFormat "+u);f=t[0],v=t[1],h=t[2],p=t[3]}var g,y=e[0],x=e[1],w=e[3],S=ap(n),A=S[0],E=S[1],T=ap(r),R=T[0],_=T[1],M=Ou(y,R),k=Ou(x,_),N=function(j,W,B,H,q,X,F,Q){var et,nt,lt;if(typeof j=="number"){et={top:j,bottom:j,left:j,right:j,type:j===0?"VALID":"NUMBER"};var pt=function(xt,At,Rt,St,zt){St==null&&(St=uD(xt,At,Rt));var Xt=xt[0],Qt=xt[1],se=Oc((Xt-At+2*St)/Rt+1,zt);G(fn(se),function(){return"The output # of rows ("+se+") must be an integer. Change the stride and/or zero pad parameters"});var te=Oc((Qt-At+2*St)/Rt+1,zt);return G(fn(te),function(){return"The output # of columns ("+te+") must be an integer. Change the stride and/or zero pad parameters"}),[se,te]}([W,B],X,H,j,Q);nt=pt[0],lt=pt[1]}else if(j==="same"){nt=Math.ceil(W/H),lt=Math.ceil(B/q);var vt=Math.max(0,(nt-1)*H+X-W),bt=Math.max(0,(lt-1)*q+F-B),yt=Math.floor(vt/2),wt=vt-yt,Et=Math.floor(bt/2);et={top:yt,bottom:wt,left:Et,right:bt-Et,type:"SAME"}}else{if(j!=="valid")throw Error("Unknown padding parameter: "+j);et={top:0,bottom:0,left:0,right:0,type:"VALID"},nt=Math.ceil((W-X+1)/H),lt=Math.ceil((B-F+1)/q)}return{padInfo:et,outHeight:nt,outWidth:lt}}(o,h,p,A,E,M,k,a),I=N.padInfo,z=N.outHeight,D=N.outWidth,$=s?w*v:w;return u==="channelsFirst"?g=[f,$,z,D]:u==="channelsLast"&&(g=[f,z,D,$]),{batchSize:f,dataFormat:u,inHeight:h,inWidth:p,inChannels:v,outHeight:z,outWidth:D,outChannels:$,padInfo:I,strideHeight:A,strideWidth:E,filterHeight:y,filterWidth:x,effectiveFilterHeight:M,effectiveFilterWidth:k,dilationHeight:R,dilationWidth:_,inShape:t,outShape:g,filterShape:e}}function op(t,e,n,r,o,a,s,u){a===void 0&&(a=!1),s===void 0&&(s="channelsLast");var c=[-1,-1,-1,-1,-1],f=c[0],h=c[1],p=c[2],v=c[3],g=c[4];if(s==="channelsLast")f=t[0],h=t[1],p=t[2],v=t[3],g=t[4];else{if(s!=="channelsFirst")throw new Error("Unknown dataFormat "+s);f=t[0],g=t[1],h=t[2],p=t[3],v=t[4]}var y,x=e[0],w=e[1],S=e[2],A=e[4],E=u0(n),T=E[0],R=E[1],_=E[2],M=u0(r),k=M[0],N=M[1],I=M[2],z=Ou(x,k),D=Ou(w,N),$=Ou(S,I),j=function(F,Q,et,nt,lt,pt,vt,bt,yt,wt,Et){var xt,At,Rt,St;if(typeof F=="number"){xt={top:F,bottom:F,left:F,right:F,front:F,back:F,type:F===0?"VALID":"NUMBER"};var zt=function(be,He,we,Ut,Jt,pe){Jt==null&&(Jt=uD(be,He,Ut));var On=be[0],Re=be[1],xo=be[2],xr=Oc((On-He+2*Jt)/Ut+1,pe);G(fn(xr),function(){return"The output # of depths ("+xr+") must be an integer. Change the stride and/or zero pad parameters"});var uo=Oc((Re-He+2*Jt)/Ut+1,pe);G(fn(uo),function(){return"The output # of rows ("+uo+") must be an integer. Change the stride and/or zero pad parameters"});var Pt=Oc((xo-He+2*Jt)/Ut+1,pe);return G(fn(Pt),function(){return"The output # of columns ("+Pt+") must be an integer. Change the stride and/or zero pad parameters"}),[xr,uo,Pt,we]}([Q,et,nt,1],bt,1,lt,F,Et);At=zt[0],Rt=zt[1],St=zt[2]}else if(F==="same"){At=Math.ceil(Q/lt),Rt=Math.ceil(et/pt),St=Math.ceil(nt/vt);var Xt=(At-1)*lt+bt-Q,Qt=(Rt-1)*pt+yt-et,se=(St-1)*vt+wt-nt,te=Math.floor(Xt/2),oe=Xt-te,Zt=Math.floor(Qt/2),_t=Qt-Zt,Ve=Math.floor(se/2);xt={top:Zt,bottom:_t,left:Ve,right:se-Ve,front:te,back:oe,type:"SAME"}}else{if(F!=="valid")throw Error("Unknown padding parameter: "+F);xt={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},At=Math.ceil((Q-bt+1)/lt),Rt=Math.ceil((et-yt+1)/pt),St=Math.ceil((nt-wt+1)/vt)}return{padInfo:xt,outDepth:At,outHeight:Rt,outWidth:St}}(o,h,p,v,T,R,_,z,D,$,u),W=j.padInfo,B=j.outDepth,H=j.outHeight,q=j.outWidth,X=a?A*g:A;return s==="channelsFirst"?y=[f,X,B,H,q]:s==="channelsLast"&&(y=[f,B,H,q,X]),{batchSize:f,dataFormat:s,inDepth:h,inHeight:p,inWidth:v,inChannels:g,outDepth:B,outHeight:H,outWidth:q,outChannels:X,padInfo:W,strideDepth:T,strideHeight:R,strideWidth:_,filterDepth:x,filterHeight:w,filterWidth:S,effectiveFilterDepth:z,effectiveFilterHeight:D,effectiveFilterWidth:$,dilationDepth:k,dilationHeight:N,dilationWidth:I,inShape:t,outShape:y,filterShape:e}}function uD(t,e,n,r){r===void 0&&(r=1);var o=Ou(e,r);return Math.floor((t[0]*(n-1)-n+o)/2)}function ap(t){return typeof t=="number"?[t,t,t]:t.length===2?[t[0],t[1],1]:t}function u0(t){return typeof t=="number"?[t,t,t]:t}function Ou(t,e){return e<=1?t:t+(t-1)*(e-1)}function Oc(t,e){if(!e)return t;switch(e){case"round":return Math.round(t);case"ceil":return Math.ceil(t);case"floor":return Math.floor(t);default:throw new Error("Unknown roundingMode "+e)}}function Xu(t){var e=ap(t),n=e[0],r=e[1],o=e[2];return n===1&&r===1&&o===1}function br(t,e){return Xu(t)||Xu(e)}function zb(t){if(t==="NHWC")return"channelsLast";if(t==="NCHW")return"channelsFirst";throw new Error("Unknown dataFormat "+t)}function lD(t,e,n){if(e==="complex64"){if(t.dtype==="complex64")return t.clone();var r=We(t.shape),o=t.toFloat(),a=n.complex(o,r);return r.dispose(),o.dispose(),a}if(!SU(t.dtype,e))return J.makeTensorFromDataId(t.dataId,t.shape,e);if(t.dtype==="complex64"){var s=n.real(t);return a=s.cast(e),s.dispose(),a}if(e==="int32")return n.int(t);if(e==="bool"){var u=Ct(0,t.dtype);return a=n.notEqual(t,u),u.dispose(),a}throw new Error("Error in Cast: failed to cast "+t.dtype+" to "+e)}function l0(t,e){return J.makeTensorFromDataId(t.dataId,e,t.dtype)}function cD(t,e,n){var r=(e-t)/(n-1),o=wf(n,"float32");o[0]=t;for(var a=1;a<o.length;a++)o[a]=o[a-1]+r;return gn(o,"float32")}function c0(t,e){if(t.length!==e.length)throw new Error("Cannot merge real and imag arrays of different lengths. real:"+t.length+", imag: "+e.length+".");for(var n=new Float32Array(2*t.length),r=0;r<n.length;r+=2)n[r]=t[r/2],n[r+1]=e[r/2];return n}function qE(t,e){return{real:t[2*e],imag:t[2*e+1]}}function Yj(t,e,n,r){t[2*r]=e,t[2*r+1]=n}function Qj(t,e,n){var r=(n?2:-2)*Math.PI*(t/e);return{real:Math.cos(r),imag:Math.sin(r)}}function Zj(t,e,n){var r=function(a,s,u){return function(c,f,h){for(var p=0,v=c.length,g=0,y=!1;p<v;){var x=h(f,c[g=p+(v-p>>>1)]);x>0?p=g+1:(v=g,y=!x)}return y?p:-p-1}(a,s,u||Jj)}(t,e,n),o=r<0?-(r+1):r;t.splice(o,0,e)}function Jj(t,e){return t>e?1:t<e?-1:0}function Vb(t,e,n,r,o){return fD(t,e,n,r,o,0).selectedIndices}function Ub(t,e,n,r,o,a){var s=fD(t,e,n,r,o,a);return s.numValidOutputs.dispose(),{selectedIndices:s.selectedIndices,selectedScores:s.selectedScores}}function fD(t,e,n,r,o,a,s,u){u===void 0&&(u=!1);for(var c=Array.from(e).map(function(T,R){return{score:T,boxIndex:R,suppressBeginIndex:0}}).filter(function(T){return T.score>o}).sort(KE),f=a>0?-.5/a:0,h=[],p=[];h.length<n&&c.length>0;){var v=c.pop(),g=v.score,y=v.boxIndex,x=v.suppressBeginIndex;if(g<o)break;for(var w=!1,S=h.length-1;S>=x;--S){var A=tW(t,y,h[S]);if(A>=r){w=!0;break}if(v.score=v.score*eW(r,f,A),v.score<=o)break}v.suppressBeginIndex=h.length,w||(v.score===g?(h.push(y),p.push(v.score)):v.score>o&&Zj(c,v,KE))}var E=h.length;return u&&(h.fill(0,E),p.fill(0,E)),{selectedIndices:gn(h,"int32"),selectedScores:gn(p,"float32"),numValidOutputs:Ct(E,"int32")}}function tW(t,e,n){var r=t.subarray(4*e,4*e+4),o=t.subarray(4*n,4*n+4),a=Math.min(r[0],r[2]),s=Math.min(r[1],r[3]),u=Math.max(r[0],r[2]),c=Math.max(r[1],r[3]),f=Math.min(o[0],o[2]),h=Math.min(o[1],o[3]),p=Math.max(o[0],o[2]),v=Math.max(o[1],o[3]),g=(u-a)*(c-s),y=(p-f)*(v-h);if(g<=0||y<=0)return 0;var x=Math.max(a,f),w=Math.max(s,h),S=Math.min(u,p),A=Math.min(c,v),E=Math.max(S-x,0)*Math.max(A-w,0);return E/(g+y-E)}function eW(t,e,n){var r=Math.exp(e*n*n);return n<=t?r:0}function KE(t,e){return t.score-e.score||t.score===e.score&&e.boxIndex-t.boxIndex}function dD(t,e,n){var r=new Array(t.rank).fill(0),o=t.shape.slice();return e.map(function(a){o[n]=a;var s=t.slice(r,o);return r[n]+=a,s})}function hD(t,e){for(var n=new Array(t.rank),r=0;r<n.length;r++)n[r]=t.shape[r]*e[r];var o=Yt(n,t.dtype);for(r=0;r<o.values.length;++r){for(var a=o.indexToLoc(r),s=new Array(t.rank),u=0;u<s.length;u++)s[u]=a[u]%t.shape[u];var c=t.locToIndex(s);o.values[r]=t.values[c]}return o.toTensor()}function pD(t,e,n,r,o){for(var a=e[e.length-1],s=[t.length/a,a],u=s[0],c=s[1],f=qc(n,u*r),h=qc("int32",u*r),p=0;p<u;p++){for(var v=p*c,g=t.subarray(v,v+c),y=[],x=0;x<g.length;x++)y.push({value:g[x],index:x});y.sort(function(T,R){return R.value-T.value});var w=p*r,S=f.subarray(w,w+r),A=h.subarray(w,w+r);for(x=0;x<r;x++)S[x]=y[x].value,A[x]=y[x].index}var E=e.slice();return E[E.length-1]=r,[Un(f,E,n),Un(h,E,"int32")]}function jb(t,e){for(var n=[],r=0;r<e.length;r++)e[r]&&n.push(r);var o=Yt(t,"int32"),a=Yt([n.length,t.length],"int32");for(r=0;r<n.length;r++){var s=o.indexToLoc(n[r]),u=r*t.length;a.values.set(s,u)}return a.toTensor()}var nW=function(t,e){this.outputShape=[],this.outputShape=t,this.variableNames=e.map(function(o,a){return"T"+a});var n=[];this.variableNames.forEach(function(o){n.push("float v"+o+" = get"+o+"AtOutCoords();")});var r=this.variableNames.map(function(o){return"v"+o}).join(" + ");this.userCode=`
      void main() {
        `+n.join(`
        `)+`

        float result = `+r+`;
        setOutput(result);
      }
    `},rW=function(t,e){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.variableNames=e.map(function(o,a){return"T"+a});var n=[];this.variableNames.forEach(function(o){n.push("vec4 v"+o+" = get"+o+"AtOutCoords();")});var r=this.variableNames.map(function(o){return"v"+o}).join(" + ");this.userCode=`
      void main() {
        `+n.join(`
        `)+`

        vec4 result = `+r+`;
        setOutput(result);
      }
    `},oW=function(t,e,n){this.variableNames=["A"];var r=t.windowSize,o=t.batchSize,a=t.inSize,s=Math.ceil(a/r);n||this.variableNames.push("bestIndicesA"),this.outputShape=[o,s];var u=e==="max"?">":"<",c=n?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * `+r+`;

        int bestIndex = inOffset;
        float bestValue = getA(batch, bestIndex);

        for (int i = 0; i < `+r+`; i++) {
          int inIdx = `+c+`;
          float candidate = getA(batch, inIdx);
          if (candidate `+u+` bestValue) {
            bestValue = candidate;
            bestIndex = inIdx;
          }
        }
        setOutput(float(bestIndex));
      }
    `};function mD(t,e){return["x","y","z","w","u","v"].slice(0,e).map(function(n){return t+"."+n})}function dr(t,e){return e===1?[t]:mD(t,e)}function Yn(){var t,e,n,r,o,a,s,u,c,f;return ft().getNumber("WEBGL_VERSION")===2?(t="#version 300 es",e="in",n="out",r="in",o="texture",a="outputColor",s="out vec4 outputColor;",u=`
      bool isnan_custom(float val) {
        return (val > 0.0 || val < 0.0) ? false : val != 0.0;
      }

      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan_custom(val.x),
          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));
      }

      #define isnan(value) isnan_custom(value)
    `,c="",f=`
      #define round(value) newRound(value)
      int newRound(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 newRound(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `):(t="",e="attribute",n="varying",r="varying",o="texture2D",a="gl_FragColor",s="",u=`
      #define isnan(value) isnan_custom(value)
      bool isnan_custom(float val) {
        return (val > 0. || val < 1. || val == 0.) ? false : true;
      }
      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));
      }
    `,c=`
      uniform float INFINITY;

      bool isinf(float val) {
        return abs(val) == INFINITY;
      }
      bvec4 isinf(vec4 val) {
        return equal(abs(val), vec4(INFINITY));
      }
    `,f=`
      int round(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 round(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `),{version:t,attribute:e,varyingVs:n,varyingFs:r,texture2D:o,output:a,defineOutput:s,defineSpecialNaN:u,defineSpecialInf:c,defineRound:f}}function is(t,e,n){n===void 0&&(n="index");var r=jo(e);return r.map(function(o,a){return"int "+t[a]+" = "+n+" / "+o+"; "+(a===r.length-1?"int "+t[a+1]+" = "+n+" - "+t[a]+" * "+o:"index -= "+t[a]+" * "+o)+";"}).join("")}function Wb(t){var e=jo(t).map(function(n){return n.toString()});return`
  int getFlatIndex(ivec3 coords) {
    return coords.x * `+e[0]+" + coords.y * "+e[1]+` + coords.z;
  }
`}var vD=`
  const float FLOAT_MAX = 1.70141184e38;
  const float FLOAT_MIN = 1.17549435e-38;

  lowp vec4 encode_float(highp float v) {
    if (isnan(v)) {
      return vec4(255, 255, 255, 255);
    }

    highp float av = abs(v);

    if(av < FLOAT_MIN) {
      return vec4(0.0, 0.0, 0.0, 0.0);
    } else if(v > FLOAT_MAX) {
      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;
    } else if(v < -FLOAT_MAX) {
      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;
    }

    highp vec4 c = vec4(0,0,0,0);

    highp float e = floor(log2(av));
    highp float m = exp2(fract(log2(av))) - 1.0;

    c[2] = floor(128.0 * m);
    m -= c[2] / 128.0;
    c[1] = floor(32768.0 * m);
    m -= c[1] / 32768.0;
    c[0] = floor(8388608.0 * m);

    highp float ebias = e + 127.0;
    c[3] = floor(ebias / 2.0);
    ebias -= c[3] * 2.0;
    c[2] += floor(ebias) * 128.0;

    c[3] += 128.0 * step(0.0, -v);

    return c / 255.0;
  }
`;function aW(t,e,n,r){var o=[];t.forEach(function(g){var y=Ot(g.shapeInfo.logicalShape);g.shapeInfo.isUniform?o.push("uniform float "+g.name+(y>1?"["+y+"]":"")+";"):(o.push("uniform sampler2D "+g.name+";"),o.push("uniform int offset"+g.name+";"))});var a,s,u=o.join(`
`),c=t.map(function(g){return function(y,x,w){w===void 0&&(w=!1);var S="";S+=w?gD(y):xu(y);var A=y.shapeInfo.logicalShape,E=x.logicalShape;return A.length<=E.length&&(S+=w?function(T,R){var _,M=T.name,k=M.charAt(0).toUpperCase()+M.slice(1),N="get"+k+"AtOutCoords",I=T.shapeInfo.logicalShape.length,z=R.logicalShape.length,D=hi(T.shapeInfo.logicalShape,R.logicalShape),$=je(z),j=z-I,W=["x","y","z","w","u","v"];_=I===0?"":z<2&&D.length>=1?"coords = 0;":D.map(function(et){return"coords."+W[et+j]+" = 0;"}).join(`
`);var B="";B=z<2&&I>0?"coords":T.shapeInfo.logicalShape.map(function(et,nt){return"coords."+W[nt+j]}).join(", ");var H="return outputValue;",q=Ot(T.shapeInfo.logicalShape)===1,X=Ot(R.logicalShape)===1;if(I!==1||q||X){if(q&&!X)H=z===1?`
        return vec4(outputValue.x, outputValue.x, 0., 0.);
      `:`
        return vec4(outputValue.x);
      `;else if(D.length){var F=I-2,Q=I-1;D.indexOf(F)>-1&&D.indexOf(Q)>-1?H="return vec4(outputValue.x);":D.indexOf(F)>-1?H="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":D.indexOf(Q)>-1&&(H="return vec4(outputValue.xx, outputValue.zz);")}}else H=`
      return vec4(outputValue.xy, outputValue.xy);
    `;return`
    vec4 `+N+`() {
      `+$+` coords = getOutputCoords();
      `+_+`
      vec4 outputValue = get`+k+"("+B+`);
      `+H+`
    }
  `}(y,x):function(T,R){var _=T.name,M=_.charAt(0).toUpperCase()+_.slice(1),k="get"+M+"AtOutCoords",N=R.texShape,I=T.shapeInfo.texShape,z=T.shapeInfo.logicalShape.length,D=R.logicalShape.length;if(!T.shapeInfo.isUniform&&z===D&&T.shapeInfo.flatOffset==null&&Mn(I,N))return`
      float `+k+`() {
        return sampleTexture(`+_+`, resultUV);
      }
    `;var $,j=je(D),W=hi(T.shapeInfo.logicalShape,R.logicalShape),B=D-z,H=["x","y","z","w","u","v"];$=z===0?"":D<2&&W.length>=1?"coords = 0;":W.map(function(X){return"coords."+H[X+B]+" = 0;"}).join(`
`);var q="";return q=D<2&&z>0?"coords":T.shapeInfo.logicalShape.map(function(X,F){return"coords."+H[F+B]}).join(", "),`
    float `+k+`() {
      `+j+` coords = getOutputCoords();
      `+$+`
      return get`+M+"("+q+`);
    }
  `}(y,x)),S}(g,e,r)}).join(`
`),f=e.texShape,h=Yn(),p=function(g){return`
    float sampleTexture(sampler2D textureSampler, vec2 uv) {
      return `+g.texture2D+`(textureSampler, uv).r;
    }
  `}(h),v=function(g){return g.version+`
    precision highp float;
    precision highp int;
    precision highp sampler2D;
    `+g.varyingFs+` vec2 resultUV;
    `+g.defineOutput+`
    const vec2 halfCR = vec2(0.5, 0.5);

    struct ivec5
    {
      int x;
      int y;
      int z;
      int w;
      int u;
    };

    struct ivec6
    {
      int x;
      int y;
      int z;
      int w;
      int u;
      int v;
    };

    uniform float NAN;
    `+g.defineSpecialNaN+`
    `+g.defineSpecialInf+`
    `+g.defineRound+`

    int imod(int x, int y) {
      return x - y * (x / y);
    }

    int idiv(int a, int b, float sign) {
      int res = a / b;
      int mod = imod(a, b);
      if (sign < 0. && mod != 0) {
        res -= 1;
      }
      return res;
    }

    //Based on the work of Dave Hoskins
    //https://www.shadertoy.com/view/4djSRW
    #define HASHSCALE1 443.8975
    float random(float seed){
      vec2 p = resultUV * seed;
      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);
      p3 += dot(p3, p3.yzx + 19.19);
      return fract((p3.x + p3.y) * p3.z);
    }

    `+iW+`
    `+sW+`
    `+uW+`
  `}(h);return e.isPacked?(a=function(g,y){switch(g.length){case 0:return`
    int getOutputCoords() {
      return 0;
    }
  `;case 1:return function(T,R){var _=[Math.ceil(R[0]/2),Math.ceil(R[1]/2)];return _[0]===1?`
      int getOutputCoords() {
        return 2 * int(resultUV.x * `+_[1]+`.0);
      }
    `:_[1]===1?`
      int getOutputCoords() {
        return 2 * int(resultUV.y * `+_[0]+`.0);
      }
    `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+_[0]+", "+_[1]+`));
      return 2 * (resTexRC.x * `+_[1]+` + resTexRC.y);
    }
  `}(0,y);case 2:return function(T,R){var _=[Math.ceil(R[0]/2),Math.ceil(R[1]/2)];if(Mn(T,R))return`
      ivec2 getOutputCoords() {
        return 2 * ivec2(resultUV.yx * vec2(`+_[0]+", "+_[1]+`));
      }
    `;var M=Math.ceil(T[1]/2);return`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+_[0]+", "+_[1]+`));

      int index = resTexRC.x * `+_[1]+` + resTexRC.y;
      int r = 2 * (index / `+M+`);
      int c = imod(index, `+M+`) * 2;

      return ivec2(r, c);
    }
  `}(g,y);case 3:return x=g,w=y,S=[Math.ceil(w[0]/2),Math.ceil(w[1]/2)],A=Math.ceil(x[2]/2),E=A*Math.ceil(x[1]/2),`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+S[0]+", "+S[1]+`));
      int index = resTexRC.x * `+S[1]+` + resTexRC.y;

      int b = index / `+E+`;
      index -= b * `+E+`;

      int r = 2 * (index / `+A+`);
      int c = imod(index, `+A+`) * 2;

      return ivec3(b, r, c);
    }
  `;default:return function(T,R){for(var _=[Math.ceil(R[0]/2),Math.ceil(R[1]/2)],M=Math.ceil(T[T.length-1]/2),k=M*Math.ceil(T[T.length-2]/2),N=k,I="",z="b, r, c",D=2;D<T.length-1;D++)N*=T[T.length-D-1],I=`
      int b`+D+" = index / "+N+`;
      index -= b`+D+" * "+N+`;
    `+I,z="b"+D+", "+z;return`
    ivec`+T.length+` getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+_[0]+", "+_[1]+`));
      int index = resTexRC.x * `+_[1]+` + resTexRC.y;

      `+I+`

      int b = index / `+k+`;
      index -= b * `+k+`;

      int r = 2 * (index / `+M+`);
      int c = imod(index, `+M+`) * 2;

      return ivec`+T.length+"("+z+`);
    }
  `}(g,y)}var x,w,S,A,E}(e.logicalShape,f),s=function(g){return`
    void setOutput(vec4 val) {
      `+g.output+` = val;
    }
  `}(h)):(a=function(g,y){switch(g.length){case 0:return`
    int getOutputCoords() {
      return 0;
    }
  `;case 1:return function(S,A){return A[0]===1?`
      int getOutputCoords() {
        return int(resultUV.x * `+A[1]+`.0);
      }
    `:A[1]===1?`
      int getOutputCoords() {
        return int(resultUV.y * `+A[0]+`.0);
      }
    `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+A[0]+", "+A[1]+`));
      return resTexRC.x * `+A[1]+` + resTexRC.y;
    }
  `}(0,y);case 2:return function(S,A){return Mn(S,A)?`
      ivec2 getOutputCoords() {
        return ivec2(resultUV.yx * vec2(`+A[0]+", "+A[1]+`));
      }
    `:S[1]===1?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(`+A[0]+", "+A[1]+`));
        int index = resTexRC.x * `+A[1]+` + resTexRC.y;
        return ivec2(index, 0);
      }
    `:S[0]===1?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(`+A[0]+", "+A[1]+`));
        int index = resTexRC.x * `+A[1]+` + resTexRC.y;
        return ivec2(0, index);
      }
    `:`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+A[0]+", "+A[1]+`));
      int index = resTexRC.x * `+A[1]+` + resTexRC.y;
      int r = index / `+S[1]+`;
      int c = index - r * `+S[1]+`;
      return ivec2(r, c);
    }
  `}(g,y);case 3:return x=y,w=is(["r","c","d"],g),`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+x[0]+", "+x[1]+`));
      int index = resTexRC.x * `+x[1]+` + resTexRC.y;
      `+w+`
      return ivec3(r, c, d);
    }
  `;case 4:return function(S,A){var E=is(["r","c","d","d2"],S);return`
    ivec4 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(`+A[0]+", "+A[1]+`));
      int index = resTexRC.x * `+A[1]+` + resTexRC.y;
      `+E+`
      return ivec4(r, c, d, d2);
    }
  `}(g,y);case 5:return function(S,A){var E=is(["r","c","d","d2","d3"],S);return`
    ivec5 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx * vec2(`+A[0]+`,
                             `+A[1]+`));

      int index = resTexRC.x * `+A[1]+` + resTexRC.y;

      `+E+`

      ivec5 outShape = ivec5(r, c, d, d2, d3);
      return outShape;
    }
  `}(g,y);case 6:return function(S,A){var E=is(["r","c","d","d2","d3","d4"],S);return`
    ivec6 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(`+A[0]+", "+A[1]+`));
      int index = resTexRC.x * `+A[1]+` + resTexRC.y;

      `+E+`

      ivec6 result = ivec6(r, c, d, d2, d3, d4);
      return result;
    }
  `}(g,y);default:throw new Error(g.length+"-D output sampling is not yet supported")}var x,w}(e.logicalShape,f),s=function(g){return`
    void setOutput(float val) {
      `+g.output+` = vec4(val, 0, 0, 0);
    }
  `}(h)),r&&(v+=lW),[v,p,s,u,a,c,n].join(`
`)}function xu(t){var e=t.shapeInfo.logicalShape;switch(e.length){case 0:return function(n){var r=n.name,o="get"+r.charAt(0).toUpperCase()+r.slice(1);if(n.shapeInfo.isUniform)return"float "+o+"() {return "+r+";}";var a=n.shapeInfo.texShape,s=a[0],u=a[1];if(s===1&&u===1)return`
      float `+o+`() {
        return sampleTexture(`+r+`, halfCR);
      }
    `;var c=n.shapeInfo.texShape,f=c[0],h=c[1],p=Yi(r);return`
    float `+o+`() {
      vec2 uv = uvFromFlat(`+f+", "+h+", "+p+`);
      return sampleTexture(`+r+`, uv);
    }
  `}(t);case 1:return function(n){var r=n.name,o="get"+r.charAt(0).toUpperCase()+r.slice(1);if(n.shapeInfo.isUniform)return`
      float `+o+`(int index) {
        `+mu(n)+`
      }
    `;var a=n.shapeInfo.texShape,s=a[0],u=a[1];if(u===1&&s===1)return`
      float `+o+`(int index) {
        return sampleTexture(`+r+`, halfCR);
      }
    `;var c=Yi(r);return u===1?`
      float `+o+`(int index) {
        vec2 uv = vec2(0.5, (float(index + `+c+") + 0.5) / "+s+`.0);
        return sampleTexture(`+r+`, uv);
      }
    `:s===1?`
      float `+o+`(int index) {
        vec2 uv = vec2((float(index + `+c+") + 0.5) / "+u+`.0, 0.5);
        return sampleTexture(`+r+`, uv);
      }
    `:`
    float `+o+`(int index) {
      vec2 uv = uvFromFlat(`+s+", "+u+", index + "+c+`);
      return sampleTexture(`+r+`, uv);
    }
  `}(t);case 2:return function(n){var r=n.shapeInfo.logicalShape,o=n.name,a="get"+o.charAt(0).toUpperCase()+o.slice(1),s=n.shapeInfo.texShape;if(s!=null&&Mn(r,s)){var u=s[0],c=s[1];return`
    float `+a+`(int row, int col) {
      vec2 uv = (vec2(col, row) + halfCR) / vec2(`+c+".0, "+u+`.0);
      return sampleTexture(`+o+`, uv);
    }
  `}var f=rs(r),h=f.newShape,p=f.keptDims,v=h;if(v.length<r.length){var g=wu(n,v);return`
      `+xu(g)+`
      float `+a+`(int row, int col) {
        return `+a+"("+Su(["row","col"],p)+`);
      }
    `}if(n.shapeInfo.isUniform)return`
      float `+a+`(int row, int col) {
        int index = round(dot(vec2(row, col), vec2(`+r[1]+`, 1)));
        `+mu(n)+`
      }
    `;var y=s[0],x=s[1],w=Yi(o);return x===1?`
    float `+a+`(int row, int col) {
      float index = dot(vec3(row, col, `+w+"), vec3("+r[1]+`, 1, 1));
      vec2 uv = vec2(0.5, (index + 0.5) / `+y+`.0);
      return sampleTexture(`+o+`, uv);
    }
  `:y===1?`
    float `+a+`(int row, int col) {
      float index = dot(vec3(row, col, `+w+"), vec3("+r[1]+`, 1, 1));
      vec2 uv = vec2((index + 0.5) / `+x+`.0, 0.5);
      return sampleTexture(`+o+`, uv);
    }
  `:`
  float `+a+`(int row, int col) {
    // Explicitly use integer operations as dot() only works on floats.
    int index = row * `+r[1]+" + col + "+w+`;
    vec2 uv = uvFromFlat(`+y+", "+x+`, index);
    return sampleTexture(`+o+`, uv);
  }
`}(t);case 3:return function(n){var r=n.shapeInfo.logicalShape,o=n.name,a="get"+o.charAt(0).toUpperCase()+o.slice(1),s=r[1]*r[2],u=r[2],c=rs(r),f=c.newShape,h=c.keptDims,p=f;if(p.length<r.length){var v=wu(n,p);return`
        `+xu(v)+`
        float `+a+`(int row, int col, int depth) {
          return `+a+"("+Su(["row","col","depth"],h)+`);
        }
      `}if(n.shapeInfo.isUniform)return`
      float `+a+`(int row, int col, int depth) {
        int index = round(dot(vec3(row, col, depth),
                          vec3(`+s+", "+u+`, 1)));
        `+mu(n)+`
      }
    `;var g=n.shapeInfo.texShape,y=g[0],x=g[1],w=n.shapeInfo.flatOffset;if(x===s&&w==null)return`
        float `+a+`(int row, int col, int depth) {
          float texR = float(row);
          float texC = dot(vec2(col, depth), vec2(`+u+`, 1));
          vec2 uv = (vec2(texC, texR) + halfCR) /
                     vec2(`+x+".0, "+y+`.0);
          return sampleTexture(`+o+`, uv);
        }
      `;if(x===u&&w==null)return`
    float `+a+`(int row, int col, int depth) {
      float texR = dot(vec2(row, col), vec2(`+r[1]+`, 1));
      float texC = float(depth);
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(`+x+".0, "+y+`.0);
      return sampleTexture(`+o+`, uv);
    }
  `;var S=Yi(o);return`
      float `+a+`(int row, int col, int depth) {
        // Explicitly use integer operations as dot() only works on floats.
        int index = row * `+s+" + col * "+u+" + depth + "+S+`;
        vec2 uv = uvFromFlat(`+y+", "+x+`, index);
        return sampleTexture(`+o+`, uv);
      }
  `}(t);case 4:return function(n){var r=n.shapeInfo.logicalShape,o=n.name,a="get"+o.charAt(0).toUpperCase()+o.slice(1),s=r[3],u=r[2]*s,c=r[1]*u,f=rs(r),h=f.newShape,p=f.keptDims;if(h.length<r.length){var v=wu(n,h);return`
      `+xu(v)+`
      float `+a+`(int row, int col, int depth, int depth2) {
        return `+a+"("+Su(["row","col","depth","depth2"],p)+`);
      }
    `}if(n.shapeInfo.isUniform)return`
      float `+a+`(int row, int col, int depth, int depth2) {
        int index = round(dot(vec4(row, col, depth, depth2),
                          vec4(`+c+", "+u+", "+s+`, 1)));
        `+mu(n)+`
      }
    `;var g=n.shapeInfo.flatOffset,y=n.shapeInfo.texShape,x=y[0],w=y[1];if(w===c&&g==null)return`
      float `+a+`(int row, int col, int depth, int depth2) {
        float texR = float(row);
        float texC =
            dot(vec3(col, depth, depth2),
                vec3(`+u+", "+s+`, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(`+w+".0, "+x+`.0);
        return sampleTexture(`+o+`, uv);
      }
    `;if(w===s&&g==null)return`
      float `+a+`(int row, int col, int depth, int depth2) {
        float texR = dot(vec3(row, col, depth),
                         vec3(`+r[1]*r[2]+", "+r[2]+`, 1));
        float texC = float(depth2);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(`+w+".0, "+x+`.0);
        return sampleTexture(`+o+`, uv);
      }
    `;var S=Yi(o);return`
    float `+a+`(int row, int col, int depth, int depth2) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * `+c+" + col * "+u+` +
          depth * `+s+` + depth2;
      vec2 uv = uvFromFlat(`+x+", "+w+", index + "+S+`);
      return sampleTexture(`+o+`, uv);
    }
  `}(t);case 5:return function(n){var r=n.shapeInfo.logicalShape,o=n.name,a="get"+o.charAt(0).toUpperCase()+o.slice(1),s=r[4],u=r[3]*s,c=r[2]*u,f=r[1]*c,h=rs(r),p=h.newShape,v=h.keptDims;if(p.length<r.length){var g=wu(n,p);return`
      `+xu(g)+`
      float `+a+`(int row, int col, int depth, int depth2, int depth3) {
        return `+a+"("+Su(["row","col","depth","depth2","depth3"],v)+`);
      }
    `}if(n.shapeInfo.isUniform)return`
      float `+a+`(int row, int col, int depth, int depth2, int depth3) {
        float index = dot(
          vec4(row, col, depth, depth2),
          vec4(`+f+", "+c+", "+u+", "+s+`)) +
          depth3;
        `+mu(n)+`
      }
    `;var y=n.shapeInfo.flatOffset,x=n.shapeInfo.texShape,w=x[0],S=x[1];if(S===f&&y==null)return`
      float `+a+`(int row, int col, int depth, int depth2, int depth3) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
                         vec4(`+c+", "+u+", "+s+`, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(`+S+".0, "+w+`.0);
        return sampleTexture(`+o+`, uv);
      }
    `;if(S===s&&y==null)return`
      float `+a+`(int row, int col, int depth, int depth2, int depth3) {
        float texR = dot(
          vec4(row, col, depth, depth2),
          vec4(`+r[1]*r[2]*r[3]+`,
               `+r[2]*r[3]+", "+r[3]+`, 1));
        int texC = depth3;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(`+S+".0, "+w+`.0);
        return sampleTexture(`+o+`, uv);
      }
    `;var A=Yi(o);return`
    float `+a+`(int row, int col, int depth, int depth2, int depth3) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * `+f+" + col * "+c+" + depth * "+u+` +
          depth2 * `+s+" + depth3 + "+A+`;
      vec2 uv = uvFromFlat(`+w+", "+S+`, index);
      return sampleTexture(`+o+`, uv);
    }
  `}(t);case 6:return function(n){var r=n.shapeInfo.logicalShape,o=n.name,a="get"+o.charAt(0).toUpperCase()+o.slice(1),s=rs(r),u=s.newShape,c=s.keptDims;if(u.length<r.length){var f=wu(n,u);return`
      `+xu(f)+`
      float `+a+`(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        return `+a+"("+Su(["row","col","depth","depth2","depth3","depth4"],c)+`);
      }
    `}var h=r[5],p=r[4]*h,v=r[3]*p,g=r[2]*v,y=r[1]*g;if(n.shapeInfo.isUniform)return`
      float `+a+`(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
        int index = round(dot(
          vec4(row, col, depth, depth2),
          vec4(`+y+", "+g+", "+v+", "+p+`)) +
          dot(
            vec2(depth3, depth4),
            vec2(`+h+`, 1)));
        `+mu(n)+`
      }
    `;var x=n.shapeInfo.flatOffset,w=n.shapeInfo.texShape,S=w[0],A=w[1];if(A===y&&x==null)return`
      float `+a+`(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
          vec4(`+g+", "+v+", "+p+", "+h+`)) +
               float(depth4);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(`+A+".0, "+S+`.0);
        return sampleTexture(`+o+`, uv);
      }
    `;if(A===h&&x==null)return`
      float `+a+`(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        float texR = dot(vec4(row, col, depth, depth2),
          vec4(`+r[1]*r[2]*r[3]*r[4]+`,
               `+r[2]*r[3]*r[4]+`,
               `+r[3]*r[4]+`,
               `+r[4]+`)) + float(depth3);
        int texC = depth4;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(`+A+".0, "+S+`.0);
        return sampleTexture(`+o+`, uv);
      }
    `;var E=Yi(o);return`
    float `+a+`(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * `+y+" + col * "+g+" + depth * "+v+` +
          depth2 * `+p+" + depth3 * "+h+" + depth4 + "+E+`;
      vec2 uv = uvFromFlat(`+S+", "+A+`, index);
      return sampleTexture(`+o+`, uv);
    }
  `}(t);default:throw new Error(e.length+"-D input sampling is not yet supported")}}function gD(t){var e,n,r;switch(t.shapeInfo.logicalShape.length){case 0:return e=t.name,n="get"+e.charAt(0).toUpperCase()+e.slice(1),r=Yn(),`
    vec4 `+n+`() {
      return `+r.texture2D+"("+e+`, halfCR);
    }
  `;case 1:return function(o){var a=o.name,s="get"+a.charAt(0).toUpperCase()+a.slice(1),u=o.shapeInfo.texShape,c=[Math.ceil(u[0]/2),Math.ceil(u[1]/2)],f=Yn();return`
    vec4 `+s+`(int index) {
      vec2 uv = packedUVfrom1D(
        `+c[0]+", "+c[1]+`, index);
      return `+f.texture2D+"("+a+`, uv);
    }
  `}(t);case 2:return function(o){var a=o.shapeInfo.logicalShape,s=o.name,u="get"+s.charAt(0).toUpperCase()+s.slice(1),c=o.shapeInfo.texShape,f=c[0],h=c[1],p=Yn();if(c!=null&&Mn(a,c))return`
      vec4 `+u+`(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(`+h+".0, "+f+`.0);

        return `+p.texture2D+"("+s+`, uv);
      }
    `;var v=[Math.ceil(c[0]/2),Math.ceil(c[1]/2)],g=Math.ceil(a[1]/2);return`
    vec4 `+u+`(int row, int col) {
      vec2 uv = packedUVfrom2D(`+g+", "+v[0]+", "+v[1]+`, row, col);
      return `+p.texture2D+"("+s+`, uv);
    }
  `}(t);case 3:return function(o){var a=o.shapeInfo.logicalShape,s=o.name,u="get"+s.charAt(0).toUpperCase()+s.slice(1),c=o.shapeInfo.texShape,f=[Math.ceil(c[0]/2),Math.ceil(c[1]/2)];if(a[0]===1){var h=a.slice(1),p=wu(o,h);return`
        `+gD(p)+`
        vec4 `+u+`(int b, int row, int col) {
          return `+u+"("+Su(["b","row","col"],[1,2])+`);
        }
      `}var v=f[0],g=f[1],y=Math.ceil(a[2]/2),x=y*Math.ceil(a[1]/2),w=Yn();return`
    vec4 `+u+`(int b, int row, int col) {
      vec2 uv = packedUVfrom3D(
        `+v+", "+g+", "+x+", "+y+`, b, row, col);
      return `+w.texture2D+"("+s+`, uv);
    }
  `}(t);default:return function(o){for(var a=o.shapeInfo.logicalShape,s=a.length,u=o.name,c="get"+u.charAt(0).toUpperCase()+u.slice(1),f=o.shapeInfo.texShape,h=[Math.ceil(f[0]/2),Math.ceil(f[1]/2)],p=h[0],v=h[1],g=Math.ceil(a[s-1]/2),y=g*Math.ceil(a[s-2]/2),x="int b, int row, int col",w="b * "+y+" + (row / 2) * "+g+" + (col / 2)",S=2;S<s-1;S++)x="int b"+S+", "+x,y*=a[s-S-1],w="b"+S+" * "+y+" + "+w;var A=Yn();return`
    vec4 `+c+"("+x+`) {
      int index = `+w+`;
      int texR = index / `+v+`;
      int texC = index - texR * `+v+`;
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(`+v+", "+p+`);
      return `+A.texture2D+"("+u+`, uv);
    }
  `}(t)}}var iW=`
vec2 uvFromFlat(int texNumR, int texNumC, int index) {
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {
  int texelIndex = index / 2;
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,sW=`
vec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,
  int texNumC, int row, int col) {
  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,uW=`
vec2 packedUVfrom3D(int texNumR, int texNumC,
    int texelsInBatch, int texelsInLogicalRow, int b,
    int row, int col) {
  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,lW=`
  float getChannel(vec4 frag, vec2 innerDims) {
    vec2 modCoord = mod(innerDims, 2.);
    return modCoord.x == 0. ?
      (modCoord.y == 0. ? frag.r : frag.g) :
      (modCoord.y == 0. ? frag.b : frag.a);
  }
  float getChannel(vec4 frag, int dim) {
    float modCoord = mod(float(dim), 2.);
    return modCoord == 0. ? frag.r : frag.g;
  }
`;function Yi(t){return"offset"+t}function mu(t){var e=t.name,n=Ot(t.shapeInfo.logicalShape);return n<2?"return "+e+";":`
    for (int i = 0; i < `+n+`; i++) {
      if (i == index) {
        return `+e+`[i];
      }
    }
  `}function je(t){if(t<=1)return"int";if(t===2)return"ivec2";if(t===3)return"ivec3";if(t===4)return"ivec4";if(t===5)return"ivec5";if(t===6)return"ivec6";throw Error("GPU for rank "+t+" is not yet supported")}function wu(t,e){var n=JSON.parse(JSON.stringify(t));return n.shapeInfo.logicalShape=e,n}function Su(t,e){return e.map(function(n){return t[n]}).join(", ")}var cW=function(t,e,n,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,G(t.length>2,function(){return"Packed arg"+(n.charAt(0).toUpperCase()+n.slice(1))+" supports only inputs with rank above 2."});var o=t[t.length-1],a=Math.ceil(o/e);this.outputShape=t.slice(0,-1),a>1&&this.outputShape.push(a),r||this.variableNames.push("bestIndicesA");var s,u,c=this.outputShape,f=c.length,h=je(f),p=dr("coords",f);if(a===1){var v=je(u=f+1);s=`
        `+v+" sourceLocR = "+v+"("+p.join()+`, 0);
        ++`+p[f-1]+`;
        `+v+" sourceLocG = "+v+"("+p.join()+`, 0);
        ++`+p[f-2]+`;
        `+v+" sourceLocA = "+v+"("+p.join()+`, 0);
        --`+p[f-1]+`;
        `+v+" sourceLocB = "+v+"("+p.join()+`, 0);
        --`+p[f-2]+";"}else u=f,s=`
        `+h+` sourceLocR = coords;
        ++`+p[f-1]+`;
        `+h+` sourceLocG = coords;
        ++`+p[f-2]+`;
        `+h+` sourceLocA = coords;
        --`+p[f-1]+`;
        `+h+` sourceLocB = coords;
        --`+p[f-2]+";";var g=["x","y","z","w","u","v"].slice(0,u),y="."+g[u-1],x=g.map(function(k){return"int "+k}),w=dr("sourceLocR",u-1).concat("inIdx.r"),S=dr("sourceLocG",u-1).concat("inIdx.g"),A=dr("sourceLocB",u-1).concat("inIdx.b"),E=dr("sourceLocA",u-1).concat("inIdx.a"),T=n==="max"?"greaterThan":"lessThan",R=r?"":`
          inIdx = round(vec4(getBestIndicesAChannel(`+w.join()+`),
                             getBestIndicesAChannel(`+S.join()+`),
                             getBestIndicesAChannel(`+A.join()+`),
                             getBestIndicesAChannel(`+E.join()+")));",_=`vec4(
            getAChannel(`+w.join()+`),
            hasNextCol ? getAChannel(`+S.join()+`) : 0.,
            hasNextRow ? getAChannel(`+A.join()+`) : 0.,
            hasNextRow && hasNextCol ? getAChannel(`+E.join()+") : 0.)",M=r?"":`
      float getBestIndicesAChannel(`+x.join()+`) {
        return getChannel(getBestIndicesA(`+g.join()+`),
                                          vec2(`+g.slice(-2).join()+`));
      }`;this.userCode=`
      float getAChannel(`+x.join()+`) {
        return getChannel(getA(`+g.join()+`),
                               vec2(`+g.slice(-2).join()+`));
      }
      `+M+`
      void main() {
        `+h+` coords = getOutputCoords();
        bool hasNextCol = `+p[f-1]+" < "+(c[f-1]-1)+`;
        bool hasNextRow = `+p[f-2]+" < "+(c[f-2]-1)+`;
        `+s+`
        ivec4 srcIdx = ivec4(sourceLocR`+y+", sourceLocG"+y+`,
          sourceLocB`+y+", sourceLocA"+y+") * "+e+`;
        ivec4 inIdx = srcIdx;
        vec4 bestIndex = vec4(inIdx);
        vec4 bestValue = `+_+`;

        for (int i = 0; i < `+e+`; i++) {
          inIdx = srcIdx;
          `+R+`
          vec4 candidate = `+_+`;
          bvec4 nan = isnan(candidate);
          bvec4 replace = bvec4(
            vec4(`+T+`(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));

          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,
                           replace.y  ? candidate.y : bestValue.y,
                           replace.z  ? candidate.z : bestValue.z,
                           replace.w  ? candidate.w : bestValue.w);
          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));
          srcIdx++;
        }
        setOutput(bestIndex);
      }
    `},fW=function(t){this.variableNames=["dy"],this.outputShape=t.inShape;var e=t.filterHeight,n=t.filterWidth,r=t.strideHeight,o=t.strideWidth,a=t.dilationHeight,s=t.dilationWidth,u=t.effectiveFilterHeight,c=t.effectiveFilterWidth,f=u-1-t.padInfo.top,h=c-1-t.padInfo.left,p=1/(e*n);this.userCode=`
      const ivec2 pads = ivec2(`+f+", "+h+`);
      const float avgMultiplier = float(`+p+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < `+u+`;
            wR += `+a+`) {
          float dyR = float(dyRCorner + wR) / `+r+`.0;

          if (dyR < 0.0 || dyR >= `+t.outHeight+`.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < `+c+`;
            wC+= `+s+`) {
            float dyC = float(dyCCorner + wC) / `+o+`.0;

            if (dyC < 0.0 || dyC >= `+t.outWidth+`.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);

            dotProd += dyValue * avgMultiplier;
          }
        }
        setOutput(dotProd);
      }
    `},dW=function(t){this.variableNames=["dy"],this.outputShape=t.inShape;var e=t.filterDepth,n=t.filterHeight,r=t.filterWidth,o=t.strideDepth,a=t.strideHeight,s=t.strideWidth,u=t.dilationDepth,c=t.dilationHeight,f=t.dilationWidth,h=t.effectiveFilterDepth,p=t.effectiveFilterHeight,v=t.effectiveFilterWidth,g=h-1-t.padInfo.front,y=p-1-t.padInfo.top,x=v-1-t.padInfo.left,w=1/(e*n*r);this.userCode=`
      const ivec3 pads = ivec3(`+g+", "+y+", "+x+`);
      const float avgMultiplier = float(`+w+`);

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < `+h+`;
            wD += `+u+`) {
          float dyD = float(dyDCorner + wD) / `+o+`.0;

          if (dyD < 0.0 || dyD >= `+t.outDepth+`.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < `+p+`;
              wR += `+c+`) {
            float dyR = float(dyRCorner + wR) / `+a+`.0;

            if (dyR < 0.0 || dyR >= `+t.outHeight+`.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < `+v+`;
                wC += `+f+`) {
              float dyC = float(dyCCorner + wC) / `+s+`.0;

              if (dyC < 0.0 || dyC >= `+t.outWidth+`.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);

              dotProd += dyValue * avgMultiplier;
            }
          }
        }
        setOutput(dotProd);
      }
    `},hW=function(t,e,n,r,o,a){this.outputShape=[],this.variableNames=["x","mean","variance"],ce(t,e),ce(t,n);var s="0.0";r!=null&&(ce(t,r),this.variableNames.push("offset"),s="getOffsetAtOutCoords()");var u="1.0";o!=null&&(ce(t,o),this.variableNames.push("scale"),u="getScaleAtOutCoords()"),this.outputShape=t,this.userCode=`
      void main() {
        float x = getXAtOutCoords();
        float mean = getMeanAtOutCoords();
        float variance = getVarianceAtOutCoords();
        float offset = `+s+`;
        float scale = `+u+`;
        float inv = scale * inversesqrt(variance + float(`+a+`));
        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));
      }
    `},pW=function(t,e,n,r,o,a){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],ce(t,e),ce(t,n);var s="vec4(0.0)";r!=null&&(ce(t,r),this.variableNames.push("offset"),s="getOffsetAtOutCoords()");var u="vec4(1.0)";o!=null&&(ce(t,o),this.variableNames.push("scale"),u="getScaleAtOutCoords()"),this.outputShape=t,this.userCode=`
      void main() {
        vec4 offset = `+s+`;
        vec4 scale = `+u+`;

        vec4 x = getXAtOutCoords();
        vec4 mean = getMeanAtOutCoords();
        vec4 variance = getVarianceAtOutCoords();

        vec4 inv = scale * inversesqrt(variance + vec4(`+a+`));

        setOutput((x - mean) * inv + offset);
      }
    `},mW="return areal * breal - aimag * bimag;",vW="return areal * bimag + aimag * breal;",XE=function(t,e,n){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=ce(e,n),this.userCode=`
      float binaryOpComplex(
          float areal, float aimag, float breal, float bimag) {
        `+t+`
      }

      void main() {
        float areal = getARealAtOutCoords();
        float aimag = getAImagAtOutCoords();
        float breal = getBRealAtOutCoords();
        float bimag = getBImagAtOutCoords();
        setOutput(binaryOpComplex(areal, aimag, breal, bimag));
      }
    `},Xg="return a + b;",Yg="return a - b;",YE="return a * b;",yD="return (a < 0.) ? b * a : a;",rn=function(t,e,n){this.variableNames=["A","B"],this.outputShape=ce(e,n),this.userCode=`
      float binaryOperation(float a, float b) {
        `+t+`
      }

      void main() {
        float a = getAAtOutCoords();
        float b = getBAtOutCoords();
        setOutput(binaryOperation(a, b));
      }
    `},bD=`
  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));
  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);
`,wa=function(t,e,n,r){r===void 0&&(r=!1),this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=ce(e,n);var o=this.outputShape.length,a="";if(r)if(o===0||Ot(this.outputShape)===1)a=`
          result.y = 0.;
          result.z = 0.;
          result.w = 0.;
        `;else if(a=`
          `+je(o)+` coords = getOutputCoords();
        `,o===1)a+=`
            result.y = (coords + 1) >= `+this.outputShape[0]+` ? 0. : result.y;
            result.z = 0.;
            result.w = 0.;
          `;else{var s=dr("coords",o);a+=`
            bool nextRowOutOfBounds =
              (`+s[o-2]+" + 1) >= "+this.outputShape[o-2]+`;
            bool nextColOutOfBounds =
              (`+s[o-1]+" + 1) >= "+this.outputShape[o-1]+`;
            result.y = nextColOutOfBounds ? 0. : result.y;
            result.z = nextRowOutOfBounds ? 0. : result.z;
            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;
          `}this.userCode=`
      vec4 binaryOperation(vec4 a, vec4 b) {
        `+t+`
      }

      void main() {
        vec4 a = getAAtOutCoords();
        vec4 b = getBAtOutCoords();

        vec4 result = binaryOperation(a, b);
        `+a+`

        setOutput(result);
      }
    `},gW=function(){function t(e){this.variableNames=["A"],this.outputShape=e,this.userCode=`
      uniform float minVal;
      uniform float maxVal;

      void main() {
        float value = getAAtOutCoords();
        if (isnan(value)) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, minVal, maxVal));
      }
    `}return t.prototype.getCustomSetupFunc=function(e,n){var r=this;return function(o,a){r.minLoc==null&&(r.minLoc=o.getUniformLocationNoThrow(a,"minVal"),r.maxLoc=o.getUniformLocationNoThrow(a,"maxVal")),o.gl.uniform1f(r.minLoc,e),o.gl.uniform1f(r.maxLoc,n)}},t}(),yW=function(){function t(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.userCode=`
      uniform float minVal;
      uniform float maxVal;

      void main() {
        vec4 value = getAAtOutCoords();

        if (any(isnan(value))) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));
      }
    `}return t.prototype.getCustomSetupFunc=function(e,n){var r=this;return function(o,a){r.minLoc==null&&(r.minLoc=o.getUniformLocationNoThrow(a,"minVal"),r.maxLoc=o.getUniformLocationNoThrow(a,"maxVal")),o.gl.uniform1f(r.minLoc,e),o.gl.uniform1f(r.maxLoc,n)}},t}(),bW=function(t){this.variableNames=["real","imag"],this.outputShape=t,this.userCode=`
      void main() {
        float re = abs(getRealAtOutCoords());
        float im = abs(getImagAtOutCoords());
        float mx = max(re, im);

        // sadly the length function in glsl is not underflow-safe
        // (at least not on Intel GPUs). So the safe solution is
        // to ensure underflow-safety in all cases.
        setOutput(
          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))
        );
      }
    `},xW=function(t){this.outputShape=[],this.outputShape=Ku(t,1),this.variableNames=t.map(function(u,c){return"T"+c});var e=new Array(t.length-1);e[0]=t[0][1];for(var n=1;n<e.length;n++)e[n]=e[n-1]+t[n][1];var r=["if (yC < "+e[0]+") setOutput(getT0(yR, yC));"];for(n=1;n<e.length;n++){var o=e[n-1];r.push("else if (yC < "+e[n]+") setOutput(getT"+n+"(yR, yC-"+o+"));")}var a=e.length,s=e[e.length-1];r.push("else setOutput(getT"+a+"(yR, yC-"+s+"));"),this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int yR = coords.x;
        int yC = coords.y;

        `+r.join(`
        `)+`
      }
    `},wW=function(t,e){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=Ku(t,e);var n=this.outputShape,r=n.length,o=je(r),a=dr("coords",r),s=["x","y","z","w","u","v"].slice(0,r);this.variableNames=t.map(function(w,S){return"T"+S});var u=new Array(t.length-1);u[0]=t[0][e];for(var c=1;c<u.length;c++)u[c]=u[c-1]+t[c][e];var f=s[e],h=s.slice(-2),p=s.join(),v="if ("+f+" < "+u[0]+`) {
        return getChannel(
            getT0(`+p+"), vec2("+h.join()+`));
        }`;for(c=1;c<u.length;c++){var g=u[c-1];v+=`
        if (`+f+" < "+u[c]+"  && "+f+" >= "+u[c-1]+`) {
          return getChannel(
            getT`+c+"("+rh(s,f,g)+`),
            vec2(`+rh(h,f,g)+`));
        }`}var y=u.length,x=u[u.length-1];v+=`
        return getChannel(
          getT`+y+"("+rh(s,f,x)+`),
          vec2(`+rh(h,f,x)+"));",this.userCode=`
      float getValue(`+s.map(function(w){return"int "+w})+`) {
        `+v+`
      }

      void main() {
        `+o+` coords = getOutputCoords();
        vec4 result = vec4(getValue(`+a+`), 0., 0., 0.);

        `+a[r-1]+" = "+a[r-1]+` + 1;
        if (`+a[r-1]+" < "+n[r-1]+`) {
          result.g = getValue(`+a+`);
        }

        `+a[r-2]+" = "+a[r-2]+` + 1;
        if (`+a[r-2]+" < "+n[r-2]+`) {
          result.a = getValue(`+a+`);
        }

        `+a[r-1]+" = "+a[r-1]+` - 1;
        if (`+a[r-2]+" < "+n[r-2]+` &&
            `+a[r-1]+" < "+n[r-1]+`) {
          result.b = getValue(`+a+`);
        }
        setOutput(result);
      }
    `};function rh(t,e,n){var r=t.indexOf(e);return t.map(function(o,a){return a===r?o+" - "+n:o}).join()}var SW=function(t){this.variableNames=["x","dy"],this.outputShape=t.filterShape;var e=t.strideHeight,n=t.strideWidth,r=t.padInfo.top,o=t.padInfo.left,a=t.dataFormat==="channelsLast";this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int d2 = coords.w;

        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int b = 0; b < `+t.batchSize+`; b++) {
          for (int yR = 0; yR < `+t.outHeight+`; yR++) {
            int xR = wR + yR * `+e+" - "+r+`;

            if (xR < 0 || xR >= `+t.inHeight+`) {
              continue;
            }

            for (int yC = 0; yC < `+t.outWidth+`; yC++) {
              int xC = wC + yC * `+n+" - "+o+`;

              if (xC < 0 || xC >= `+t.inWidth+`) {
                continue;
              }

              if (`+a+`) {
                float dyValue = getDy(b, yR, yC, d2);
                float xValue = getX(b, xR, xC, d1);
                dotProd += (xValue * dyValue);
              } else {
                float dyValue = getDy(b, d2, yR, yC);
                float xValue = getX(b, d1, xR, xC);
                dotProd += (xValue * dyValue);
              }

            }
          }
        }
        setOutput(dotProd);
      }
    `},CW=function(t){this.variableNames=["dy","W"],this.outputShape=t.inShape;var e=t.filterHeight,n=t.filterWidth,r=t.strideHeight,o=t.strideWidth,a=t.dataFormat==="channelsLast",s=e-1-t.padInfo.top,u=n-1-t.padInfo.left,c=a?1:2,f=a?2:3,h=a?3:1;this.userCode=`
      const ivec2 pads = ivec2(`+s+", "+u+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[`+h+`];

        ivec2 dyCorner = ivec2(coords[`+c+"], coords["+f+`]) - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < `+e+`; wR++) {
          float dyR = float(dyRCorner + wR) / `+r+`.0;

          if (dyR < 0.0 || dyR >= `+t.outHeight+`.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = `+e+` - 1 - wR;

          for (int wC = 0; wC < `+n+`; wC++) {
            float dyC = float(dyCCorner + wC) / `+o+`.0;

            if (dyC < 0.0 || dyC >= `+t.outWidth+`.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = `+n+` - 1 - wC;

            for (int d2 = 0; d2 < `+t.outChannels+`; d2++) {

              if (`+a+`) {
                float xValue = getDy(batch, idyR, idyC, d2);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              } else {
                float xValue = getDy(batch, d2, idyR, idyC);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }

            }
          }
        }
        setOutput(dotProd);
      }
    `},EW=function(t){this.variableNames=["x","dy"],this.outputShape=t.filterShape;var e=t.strideDepth,n=t.strideHeight,r=t.strideWidth,o=t.padInfo.front,a=t.padInfo.top,s=t.padInfo.left;this.userCode=`
      void main() {
        ivec5 coords = getOutputCoords();
        int wF = coords.x;
        int wR = coords.y;
        int wC = coords.z;
        int d1 = coords.w;
        int d2 = coords.u;

        float dotProd = 0.0;

        for (int b = 0; b < `+t.batchSize+`; b++) {
          for (int yF = 0; yF < `+t.outDepth+`; yF++) {
            int xF = wF + yF * `+e+" - "+o+`;

            if (xF < 0 || xF >= `+t.inDepth+`) {
              continue;
            }

            for (int yR = 0; yR < `+t.outHeight+`; yR++) {
              int xR = wR + yR * `+n+" - "+a+`;

              if (xR < 0 || xR >= `+t.inHeight+`) {
                continue;
              }

              for (int yC = 0; yC < `+t.outWidth+`; yC++) {
                int xC = wC + yC * `+r+" - "+s+`;

                if (xC < 0 || xC >= `+t.inWidth+`) {
                  continue;
                }

                float dyValue = getDy(b, yF, yR, yC, d2);
                float xValue = getX(b, xF, xR, xC, d1);
                dotProd += (xValue * dyValue);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `},TW=function(t){this.variableNames=["dy","W"],this.outputShape=t.inShape;var e=t.filterDepth,n=t.filterHeight,r=t.filterWidth,o=t.strideDepth,a=t.strideHeight,s=t.strideWidth,u=e-1-t.padInfo.front,c=n-1-t.padInfo.top,f=r-1-t.padInfo.left;this.userCode=`
      const ivec3 pads = ivec3(`+u+", "+c+", "+f+`);

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d1 = coords.u;


        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyFCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        float dotProd = 0.0;
        for (int wF = 0; wF < `+e+`; wF++) {
          float dyF = float(dyFCorner + wF) / `+o+`.0;

          if (dyF < 0.0 || dyF >= `+t.outDepth+`.0 || fract(dyF) > 0.0) {
            continue;
          }
          int idyF = int(dyF);

          int wFPerm = `+e+` - 1 - wF;

          for (int wR = 0; wR < `+n+`; wR++) {
            float dyR = float(dyRCorner + wR) / `+a+`.0;

            if (dyR < 0.0 || dyR >= `+t.outHeight+`.0 ||
              fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            int wRPerm = `+n+` - 1 - wR;

            for (int wC = 0; wC < `+r+`; wC++) {
              float dyC = float(dyCCorner + wC) / `+s+`.0;

              if (dyC < 0.0 || dyC >= `+t.outWidth+`.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              int wCPerm = `+r+` - 1 - wC;

              for (int d2 = 0; d2 < `+t.outChannels+`; d2++) {
                float xValue = getDy(batch, idyF, idyR, idyC, d2);
                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `},RW=function(t){this.variableNames=["x","dy"],this.outputShape=t.filterShape;var e=t.strideHeight,n=t.strideWidth,r=t.padInfo.top,o=t.padInfo.left,a=t.outChannels/t.inChannels;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int dm = coords.w;
        int d2 = d1 * `+a+` + dm;

        float dotProd = 0.0;

        // TO DO: Vec4 over the batch size
        for (int b = 0; b < `+t.batchSize+`; b++) {
          for (int yR = 0; yR < `+t.outHeight+`; yR++) {
            int xR = wR + yR * `+e+" - "+r+`;

            if (xR < 0 || xR >= `+t.inHeight+`) {
              continue;
            }

            for (int yC = 0; yC < `+t.outWidth+`; yC++) {
              int xC = wC + yC * `+n+" - "+o+`;

              if (xC < 0 || xC >= `+t.inWidth+`) {
                continue;
              }

              float dyValue = getDy(b, yR, yC, d2);
              float xValue = getX(b, xR, xC, d1);
              dotProd += (xValue * dyValue);
            }
          }
        }
        setOutput(dotProd);
      }
    `},AW=function(t){this.variableNames=["dy","W"],this.outputShape=t.inShape;var e=t.filterHeight,n=t.filterWidth,r=t.strideHeight,o=t.strideWidth,a=e-1-t.padInfo.top,s=n-1-t.padInfo.left,u=t.outChannels/t.inChannels;this.userCode=`
      const ivec2 pads = ivec2(`+a+", "+s+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[3];
        ivec2 dyCorner = coords.yz - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        float dotProd = 0.0;

        for (int wR = 0; wR < `+e+`; wR++) {
          float dyR = float(dyRCorner + wR) / `+r+`.0;

          if (dyR < 0.0 || dyR >= `+t.outHeight+`.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = `+e+` - 1 - wR;

          for (int wC = 0; wC < `+n+`; wC++) {
            float dyC = float(dyCCorner + wC) / `+o+`.0;

            if (dyC < 0.0 || dyC >= `+t.outWidth+`.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = `+n+` - 1 - wC;

            // TO DO: Vec4 over the channelMul
            for (int dm = 0; dm < `+u+`; dm++) {
              int d2 = d1 * `+u+` + dm;
              float xValue = getDy(batch, idyR, idyC, d2);
              float wValue = getW(wRPerm, wCPerm, d1, dm);
              dotProd += xValue * wValue;
            }
          }
        }
        setOutput(dotProd);
      }
    `},QE=function(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=null),r===void 0&&(r=!1),this.variableNames=["x","W"],this.outputShape=t.outShape;var o=t.padInfo.top,a=t.padInfo.left,s=t.strideHeight,u=t.strideWidth,c=t.dilationHeight,f=t.dilationWidth,h=t.filterHeight,p=t.filterWidth,v=4*Math.floor(t.inChannels/4),g=t.inChannels%4,y=t.dataFormat==="channelsLast",x=y?1:2,w=y?2:3,S=y?3:1,A="",E="";n&&(A=r?`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          `+n+`
        }`:`
          float activation(float x) {
            `+n+`
          }
        `,E="result = activation(result);");var T=e?"result += getBiasAtOutCoords();":"";e&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode=`
      `+A+`

      const ivec2 strides = ivec2(`+s+", "+u+`);
      const ivec2 pads = ivec2(`+o+", "+a+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d2 = coords[`+S+`];

        ivec2 xRCCorner =
            ivec2(coords[`+x+"], coords["+w+`]) * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < `+h+`; wR++) {
          int xR = xRCorner + wR * `+c+`;

          if (xR < 0 || xR >= `+t.inHeight+`) {
            continue;
          }

          for (int wC = 0; wC < `+p+`; wC++) {
            int xC = xCCorner + wC * `+f+`;

            if (xC < 0 || xC >= `+t.inWidth+`) {
              continue;
            }

            for (int d1 = 0; d1 < `+v+`; d1 += 4) {
              vec4 wValues = vec4(
                getW(wR, wC, d1, d2),
                getW(wR, wC, d1 + 1, d2),
                getW(wR, wC, d1 + 2, d2),
                getW(wR, wC, d1 + 3, d2)
              );

              if (`+y+`) {
                vec4 xValues = vec4(
                  getX(batch, xR, xC, d1),
                  getX(batch, xR, xC, d1 + 1),
                  getX(batch, xR, xC, d1 + 2),
                  getX(batch, xR, xC, d1 + 3)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec4 xValues = vec4(
                  getX(batch, d1, xR, xC),
                  getX(batch, d1 + 1, xR, xC),
                  getX(batch, d1 + 2, xR, xC),
                  getX(batch, d1 + 3, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }
            }

            if (`+(g===1)+`) {

              if (`+y+`) {
                dotProd +=
                    getX(batch, xR, xC, `+v+`) *
                    getW(wR, wC, `+v+`, d2);
              } else {
                dotProd +=
                    getX(batch, `+v+`, xR, xC) *
                    getW(wR, wC, `+v+`, d2);
              }

            } else if (`+(g===2)+`) {
              vec2 wValues = vec2(
                getW(wR, wC, `+v+`, d2),
                getW(wR, wC, `+v+` + 1, d2)
              );

              if (`+y+`) {
                vec2 xValues = vec2(
                  getX(batch, xR, xC, `+v+`),
                  getX(batch, xR, xC, `+v+` + 1)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec2 xValues = vec2(
                  getX(batch, `+v+`, xR, xC),
                  getX(batch, `+v+` + 1, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            } else if (`+(g===3)+`) {
              vec3 wValues = vec3(
                getW(wR, wC, `+v+`, d2),
                getW(wR, wC, `+v+` + 1, d2),
                getW(wR, wC, `+v+` + 2, d2)
              );

              if (`+y+`) {
                vec3 xValues = vec3(
                  getX(batch, xR, xC, `+v+`),
                  getX(batch, xR, xC, `+v+` + 1),
                  getX(batch, xR, xC, `+v+` + 2)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec3 xValues = vec3(
                  getX(batch, `+v+`, xR, xC),
                  getX(batch, `+v+` + 1, xR, xC),
                  getX(batch, `+v+` + 2, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            }
          }
        }

        float result = dotProd;
        `+T+`
        `+E+`
        setOutput(result);
      }
    `},_W=function(t){this.variableNames=["x","W"],this.outputShape=t.outShape;var e=t.padInfo.front,n=t.padInfo.top,r=t.padInfo.left,o=t.strideDepth,a=t.strideHeight,s=t.strideWidth,u=t.dilationDepth,c=t.dilationHeight,f=t.dilationWidth,h=t.filterDepth,p=t.filterHeight,v=t.filterWidth,g=4*Math.floor(t.inChannels/4),y=t.inChannels%4;this.userCode=`
      const ivec3 strides = ivec3(`+o+", "+a+", "+s+`);
      const ivec3 pads = ivec3(`+e+", "+n+", "+r+`);

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d2 = coords.u;

        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xFCorner = xFRCCorner.x;
        int xRCorner = xFRCCorner.y;
        int xCCorner = xFRCCorner.z;

        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get
        // y(yF, yR, yC, d2). ? = to be determined. : = across all
        // values in that axis.
        float dotProd = 0.0;
        for (int wF = 0; wF < `+h+`; wF++) {
          int xF = xFCorner + wF * `+u+`;

          if (xF < 0 || xF >= `+t.inDepth+`) {
            continue;
          }

          for (int wR = 0; wR < `+p+`; wR++) {
            int xR = xRCorner + wR * `+c+`;

            if (xR < 0 || xR >= `+t.inHeight+`) {
              continue;
            }

            for (int wC = 0; wC < `+v+`; wC++) {
              int xC = xCCorner + wC * `+f+`;

              if (xC < 0 || xC >= `+t.inWidth+`) {
                continue;
              }

              for (int d1 = 0; d1 < `+g+`; d1 += 4) {
                vec4 xValues = vec4(
                  getX(batch, xF, xR, xC, d1),
                  getX(batch, xF, xR, xC, d1 + 1),
                  getX(batch, xF, xR, xC, d1 + 2),
                  getX(batch, xF, xR, xC, d1 + 3)
                );
                vec4 wValues = vec4(
                  getW(wF, wR, wC, d1, d2),
                  getW(wF, wR, wC, d1 + 1, d2),
                  getW(wF, wR, wC, d1 + 2, d2),
                  getW(wF, wR, wC, d1 + 3, d2)
                );

                dotProd += dot(xValues, wValues);
              }

              if (`+(y===1)+`) {
                dotProd +=
                  getX(batch, xF, xR, xC, `+g+`) *
                  getW(wF, wR, wC, `+g+`, d2);
              } else if (`+(y===2)+`) {
                vec2 xValues = vec2(
                  getX(batch, xF, xR, xC, `+g+`),
                  getX(batch, xF, xR, xC, `+g+` + 1)
                );
                vec2 wValues = vec2(
                  getW(wF, wR, wC, `+g+`, d2),
                  getW(wF, wR, wC, `+g+` + 1, d2)
                );
                dotProd += dot(xValues, wValues);
              } else if (`+(y===3)+`) {
                vec3 xValues = vec3(
                  getX(batch, xF, xR, xC, `+g+`),
                  getX(batch, xF, xR, xC, `+g+` + 1),
                  getX(batch, xF, xR, xC, `+g+` + 2)
                );
                vec3 wValues = vec3(
                  getW(wF, wR, wC, `+g+`, d2),
                  getW(wF, wR, wC, `+g+` + 1, d2),
                  getW(wF, wR, wC, `+g+` + 2, d2)
                );
                dotProd += dot(xValues, wValues);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `},ZE=function(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=null),r===void 0&&(r=!1),this.variableNames=["x","W"],this.outputShape=t.outShape;var o=t.inHeight,a=t.inWidth,s=t.padInfo.top,u=t.padInfo.left,c=t.strideHeight,f=t.strideWidth,h=t.dilationHeight,p=t.dilationWidth,v=t.filterHeight,g=t.filterWidth,y=t.outChannels/t.inChannels,x="",w="";n&&(x=r?`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          `+n+`
        }`:`
          float activation(float x) {
            `+n+`
          }
        `,w="result = activation(result);");var S=e?"result += getBiasAtOutCoords();":"";e&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode=`
      `+x+`

      const ivec2 strides = ivec2(`+c+", "+f+`);
      const ivec2 pads = ivec2(`+s+", "+u+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2 / `+y+`;
        int q = d2 - d1 * `+y+`;

        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.
        for (int wR = 0; wR < `+v+`; wR++) {
          int xR = xRCorner + wR * `+h+`;

          if (xR < 0 || xR >= `+o+`) {
            continue;
          }

          for (int wC = 0; wC < `+g+`; wC++) {
            int xC = xCCorner + wC * `+p+`;

            if (xC < 0 || xC >= `+a+`) {
              continue;
            }

            float xVal = getX(batch, xR, xC, d1);
            float wVal = getW(wR, wC, d1, q);
            dotProd += xVal * wVal;
          }
        }

        float result = dotProd;
        `+S+`
        `+w+`
        setOutput(result);
      }
    `},JE=function(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=null),r===void 0&&(r=!1),this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t.outShape;for(var o=t.inHeight,a=t.inWidth,s=t.padInfo.top,u=t.padInfo.left,c=t.strideHeight,f=t.strideWidth,h=t.dilationHeight,p=t.dilationWidth,v=t.filterHeight,g=t.filterWidth,y=g,x="int xR; int xC; int xCOffset;",w=0;w<v;w++)for(var S=0;S<g;S++)x+=`
          vec4 xTexelR`+w+"C"+2*S+` = vec4(0.);
          vec4 wR`+w+"C"+S+` = vec4(0.);
          vec4 xR`+w+"C"+S+" = vec4(0.);";for(w=0;w<v;w++)for(var A=0;A<y;A++){if(x+=`
          xR = xRCorner + `+w*h+`;
          xC = xCCorner + `+(S=2*A)*p+`;
        `,f===1){if(S<g&&(x+=u%2==1?`
                xCOffset = xC + 1;
                if(xR >= 0 && xR < `+o+" && xCOffset >= 0 && xCOffset < "+a+`) {
                  xTexelR`+w+"C"+S+` = getX(batch, xR, xCOffset, d1);

                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if(xCOffset + 1 >= `+a+`) {
                    xTexelR`+w+"C"+S+`.zw = vec2(0.);
                  }
                } else {
                  xTexelR`+w+"C"+S+` = vec4(0.);
                }

                xCOffset = xC + 1 - 2;
                if(xR >= 0 && xR < `+o+" && xCOffset >= 0 && xCOffset < "+a+`) {
                  vec4 previous = getX(batch, xR, xCOffset, d1);

                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if(xCOffset + 1 >= `+a+`) {
                    previous.zw = vec2(0.);
                  }

                  xR`+w+"C"+S+" = vec4(previous.zw, xTexelR"+w+"C"+S+`.xy);
                } else {
                  xR`+w+"C"+S+" = vec4(0, 0, xTexelR"+w+"C"+S+`.xy);
                }
              `:`
                if(xR >= 0 && xR < `+o+" && xC >= 0 && xC < "+a+`) {
                  xTexelR`+w+"C"+S+` = getX(batch, xR, xC, d1);
                } else {
                  xTexelR`+w+"C"+S+` = vec4(0.);
                }

                xR`+w+"C"+S+" = xTexelR"+w+"C"+S+`;
              `,S+1<g)){var E=u%2==0?F_(p):p;p%2==0&&u%2==1||p%2!=0&&u%2!=1?(x+=`
                  xCOffset = xC + `+u%2+" + "+E+`;

                  if(xR >= 0 && xR < `+o+` &&
                    xCOffset >= 0 && xCOffset < `+a+`) {
                    xTexelR`+w+"C"+(S+2)+` = getX(batch, xR, xCOffset, d1);
                  }
                `,p>1&&(x+=`
                    xCOffset -= 2;
                    if(xR >= 0 && xR < `+o+` &&
                      xCOffset >= 0 && xCOffset < `+a+`) {
                      xTexelR`+w+"C"+S+` = getX(batch, xR, xCOffset, d1);
                    } else {
                      xTexelR`+w+"C"+S+` = vec4(0.);
                    }
                  `),x+=`
                  xR`+w+"C"+(S+1)+` = vec4(
                    xTexelR`+w+"C"+S+".zw, xTexelR"+w+"C"+(S+2)+`.xy);
                `):x+=`
                  xCOffset = xC + `+E+`;

                  if(xR >= 0 && xR < `+o+` &&
                    xCOffset >= 0 && xCOffset < `+a+`) {
                    xTexelR`+w+"C"+(S+2)+` = getX(batch, xR, xCOffset, d1);
                  }

                  xR`+w+"C"+(S+1)+" = xTexelR"+w+"C"+(S+2)+`;
                `}}else S<g&&(x+=`
              if(xR >= 0 && xR < `+o+`) {
            `,u%2==1?(x+=`
                xCOffset = xC + 1 - `+f+`;
                if(xCOffset >= 0 && xCOffset < `+a+`) {
                  xTexelR`+w+"C"+S+` = getX(batch, xR, xCOffset, d1);
                } else {
                  xTexelR`+w+"C"+S+` = vec4(0.);
                }

                if(xC + 1 >= 0 && xC + 1 < `+a+`) {
                  xTexelR`+w+"C"+(S+2)+` = getX(batch, xR, xC + 1, d1);
                } else {
                  xTexelR`+w+"C"+(S+2)+` = vec4(0.);
                }

                xR`+w+"C"+S+` = vec4(
                  xTexelR`+w+"C"+S+".zw, xTexelR"+w+"C"+(S+2)+`.zw);
              `,S+1<g&&(x+=`
                  vec4 final = vec4(0.);
                  xCOffset = xC + 1 + `+f+`;
                  if(xCOffset >= 0 && xCOffset < `+a+`) {
                    final = getX(batch, xR, xCOffset, d1);
                  }
                  xR`+w+"C"+(S+1)+" = vec4(xTexelR"+w+"C"+(S+2)+`.xy, final.xy);
                `)):(x+=`
                if(xC >= 0 && xC < `+a+`) {
                  xTexelR`+w+"C"+S+` = getX(batch, xR, xC, d1);
                } else {
                  xTexelR`+w+"C"+S+` = vec4(0.);
                }

                xCOffset = xC + `+f+`;
                if(xCOffset >= 0 && xCOffset < `+a+`) {
                  xTexelR`+w+"C"+(S+2)+` = getX(batch, xR, xCOffset, d1);
                } else {
                  xTexelR`+w+"C"+(S+2)+` = vec4(0.);
                }

                xR`+w+"C"+S+` = vec4(
                  xTexelR`+w+"C"+S+".xy, xTexelR"+w+"C"+(S+2)+`.xy);
              `,S+1<g&&(x+=`
                  xR`+w+"C"+(S+1)+` = vec4(
                    xTexelR`+w+"C"+S+".zw, xTexelR"+w+"C"+(S+2)+`.zw);
                `)),x+="}");S<g&&(x+=`
            vec4 wTexelR`+w+"C"+S+" = getW("+w+", "+S+`, d1, q);
            wR`+w+"C"+S+" = vec4(wTexelR"+w+"C"+S+".xz, wTexelR"+w+"C"+S+`.xz);
          `,S+1<g&&(x+=`
              vec4 wTexelR`+w+"C"+(S+1)+" = getW("+w+", "+(S+1)+`, d1, q);
              wR`+w+"C"+(S+1)+` =
                vec4(wTexelR`+w+"C"+(S+1)+".xz, wTexelR"+w+"C"+(S+1)+".xz);"))}for(w=0;w<v;w++)for(S=0;S<g;S++)x+="dotProd += xR"+w+"C"+S+" * wR"+w+"C"+S+";";var T="",R="";n&&(T=r?`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          `+n+`
        }`:`vec4 activation(vec4 x) {
          `+n+`
        }`,R="result = activation(result);");var _=e?"result += getBiasAtOutCoords();":"";e&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode=`
      `+T+`

      const ivec2 strides = ivec2(`+c+", "+f+`);
      const ivec2 pads = ivec2(`+s+", "+u+`);

      void main() {

        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2;
        int q = 0;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        vec4 dotProd = vec4(0.);

        `+x+`

        vec4 result = dotProd;
        `+_+`
        `+R+`
        setOutput(result);
      }
    `},DW=function(t,e,n,r,o){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];var a=t[0],s=t[1],u=t[2],c=t[3],f=e[0],h=n[0],p=n[1];this.outputShape=[f,h,p,c];var v=r==="bilinear"?1:0,g=[s-1+".0",u-1+".0"],y=g[0],x=g[1],w=h>1?[""+(s-1)/(h-1),"(y2-y1) * height_ratio","y1*"+y+" + float(y)*(height_scale)"]:["0.0","0.0","0.5 * (y1+y2) * "+y],S=w[0],A=w[1],E=w[2],T=p>1?[""+(u-1)/(p-1),"(x2-x1) * width_ratio","x1*"+x+" + float(x)*(width_scale)"]:["0.0","0.0","0.5 * (x1+x2) * "+x],R=T[0],_=T[1],M=T[2];this.userCode=`
      const float height_ratio = float(`+S+`);
      const float width_ratio = float(`+R+`);
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int y = coords[1];
        int x = coords[2];
        int d = coords[3];

        // get box vals
        float y1 = getBoxes(b,0);
        float x1 = getBoxes(b,1);
        float y2 = getBoxes(b,2);
        float x2 = getBoxes(b,3);

        // get image in batch index
        int bInd = round(getBoxInd(b));
        if(bInd < 0 || bInd >= `+a+`) {
          return;
        }

        float height_scale = `+A+`;
        float width_scale = `+_+`;

        float in_y = `+E+`;
        if( in_y < 0.0 || in_y > `+y+` ) {
          setOutput(float(`+o+`));
          return;
        }
        float in_x = `+M+`;
        if( in_x < 0.0 || in_x > `+x+` ) {
          setOutput(float(`+o+`));
          return;
        }

        vec2 sourceFracIndexCR = vec2(in_x,in_y);
        if(`+v+` == 1) {
          // Compute the four integer indices.
          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);
          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));

          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);
          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);
          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);
          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);

          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);

          float top = topLeft + (topRight - topLeft) * fracCR.x;
          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;
          float newValue = top + (bottom - top) * fracCR.y;
          setOutput(newValue);
        } else {
          // Compute the coordinators of nearest neighbor point.
          ivec2 sourceNearestCR = ivec2(floor(
            sourceFracIndexCR + vec2(0.5,0.5)));
          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);
          setOutput(newValue);
        }
      }
    `},kW=function(t,e,n){this.variableNames=["x"],this.outputShape=t;var r=t.length,o=t[t.length-1],a=n?"<":">";this.userCode=`
      int getIndex(int i) {
        `+(n?"return "+o+" -i - 1;":"return i;")+`
      }

      void main() {
        `+je(r)+` coords = getOutputCoords();
        int end = `+tT(r,"coords")+`;
        float val = 0.0;
        for (int i = `+o+` - 1; i >= 0; i -= 1) {
          int idx = getIndex(i);
          if (idx `+a+` end) {
            continue;
          }
          if (idx == end && `+e+`) {
            continue;
          }
          `+tT(r,"coords")+` = idx;
          val += getX(`+function(s,u){if(s===1)return""+u;if(s===2)return u+".x, "+u+".y";if(s===3)return u+".x, "+u+".y, "+u+".z";if(s===4)return u+".x, "+u+".y, "+u+".z, "+u+".w";throw Error("Cumulative sum for rank "+s+" is not yet supported")}(r,"coords")+`);
        }
        setOutput(val);
      }
    `};function tT(t,e){if(t===1)return""+e;if(t===2)return e+".y";if(t===3)return e+".z";if(t===4)return e+".w";throw Error("Cumulative sum for rank "+t+" is not yet supported")}var MW=function(t){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=Xc.DENSE;var e=Nc(t),n=Yn();this.outputShape=t,this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        `+is(["r","c","d"],t)+`
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx *
          vec2(`+e[0]+", "+e[1]+`));
        int index = 4 * (resTexRC.x * `+e[1]+` + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getA(rc.x, rc.y, rc.z);
        }

        `+n.output+` = result;
      }
    `},NW=function(t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=Xc.DENSE;var e=Nc(t),n=Yn();this.outputShape=t,this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        `+is(["r","c","d"],t)+`
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx *
          vec2(`+e[0]+", "+e[1]+`));
        int index = 4 * (resTexRC.x * `+e[1]+` + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));
        }

        `+n.output+` = result;
      }
    `},OW=function(){function t(e,n,r){this.variableNames=["x"],this.outputShape=[],this.outputShape=e,this.blockSize=n,this.dataFormat=r,this.userCode=`
    void main() {
      ivec4 coords = getOutputCoords();
      int b = coords[0];
      int h = `+this.getHeightCoordString()+`;
      int w = `+this.getWidthCoordString()+`;
      int d = `+this.getDepthCoordString()+`;

      int in_h = h / `+n+`;
      int offset_h = imod(h, `+n+`);
      int in_w = w / `+n+`;
      int offset_w = imod(w, `+n+`);
      int offset_d = (offset_h * `+n+` + offset_w) *
        `+this.getOutputDepthSize()+`;
      int in_d = d + offset_d;

      float result = `+this.getInputSamplingString()+`;
      setOutput(result);
    }
  `}return t.prototype.getHeightCoordString=function(){return this.dataFormat==="NHWC"?"coords[1]":"coords[2]"},t.prototype.getWidthCoordString=function(){return this.dataFormat==="NHWC"?"coords[2]":"coords[3]"},t.prototype.getDepthCoordString=function(){return this.dataFormat==="NHWC"?"coords[3]":"coords[1]"},t.prototype.getOutputDepthSize=function(){return this.dataFormat==="NHWC"?this.outputShape[3]:this.outputShape[1]},t.prototype.getInputSamplingString=function(){return this.dataFormat==="NHWC"?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"},t}(),PW=function(t){this.variableNames=["X"],this.outputShape=[t,t],this.userCode=`
      void main() {
          ivec2 coords = getOutputCoords();
          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;
          setOutput(val);
      }
    `},IW=function(t){this.variableNames=["A"],this.outTexUsage=Mr.DOWNLOAD;var e=Yn();this.outputShape=t,this.userCode=`
      `+vD+`

      void main() {
        float x = getAAtOutCoords();
        `+e.output+` = encode_float(x);
      }
    `},BW=function(t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=Mr.DOWNLOAD;var e=Yn();this.outputShape=t,this.userCode=`
      `+vD+`

      void main() {
        ivec3 coords = getOutputCoords();
        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));
        `+e.output+` = encode_float(x);
      }
    `},FW=function(t,e,n){n===void 0&&(n=!1),this.variableNames=["A"];var r=Yn(),o=e[0],a=e[1];this.outputShape=t;var s="result";n&&(s="floor(result * 255. + 0.5)"),this.userCode=`
      `+Wb(t)+`

      void main() {
        ivec3 coords = getOutputCoords();

        int flatIndex = getFlatIndex(coords);
        int offset = imod(flatIndex, 4);

        flatIndex = idiv(flatIndex, 4, 1.);
        
        int r = flatIndex / `+a+`;
        int c = imod(flatIndex, `+a+`);
        vec2 uv = (vec2(c, r) + halfCR) / vec2(`+a+".0, "+o+`.0);
        vec4 values = `+r.texture2D+`(A, uv);

        float result;

        if(offset == 0) {
          result = values[0];
        } else if(offset == 1) {
          result = values[1];
        } else if(offset == 2) {
          result = values[2];
        } else {
          result = values[3];
        }

        `+r.output+" = vec4("+s+`, 0., 0., 0.);
      }
    `},LW=function(t,e,n){n===void 0&&(n=!1),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var r=Yn(),o=e[0],a=e[1];this.outputShape=t;var s="",u="result";n&&(u="floor(result * 255. + 0.5)");for(var c=0;c<=1;c++)for(var f=0;f<=1;f++){var h=2*c+f;s+=`
          localCoords = coords;
          if(localCoords[2] + `+f+" < "+t[2]+`) {
            localCoords[2] += `+f+`;
            if(localCoords[1] + `+c+" < "+t[1]+`) {
              localCoords[1] += `+c+`;

              flatIndex = getFlatIndex(localCoords);
              offset = imod(flatIndex, 4);

              flatIndex = idiv(flatIndex, 4, 1.);

              r = flatIndex / `+a+`;
              c = imod(flatIndex, `+a+`);
              uv = (vec2(c, r) + halfCR) / vec2(`+a+".0, "+o+`.0);
              values = `+r.texture2D+`(A, uv);

              if(offset == 0) {
                result[`+h+`] = values[0];
              } else if(offset == 1) {
                result[`+h+`] = values[1];
              } else if(offset == 2) {
                result[`+h+`] = values[2];
              } else {
                result[`+h+`] = values[3];
              }
            }
          }
        `}this.userCode=`
      `+Wb(t)+`

      void main() {
        ivec3 coords = getOutputCoords();

        vec4 result = vec4(0.);
        int flatIndex, r, c, offset;
        ivec3 localCoords;
        vec2 uv;
        vec4 values;

        `+s+`

        `+r.output+" = "+u+`;
      }
    `},zW="return real * expR - imag * expI;",VW="return real * expI + imag * expR;",eT=function(t,e,n){this.variableNames=["real","imag"];var r=e[1];this.outputShape=e;var o=n?"2.0 * "+Math.PI:"-2.0 * "+Math.PI,a=n?r+".0":"1.0";this.userCode=`
      const float exponentMultiplier = `+o+`;

      float unaryOpComplex(float real, float expR, float imag, float expI) {
        `+t+`
      }

      float mulMatDFT(int batch, int index) {
        float indexRatio = float(index) / float(`+r+`);
        float exponentMultiplierTimesIndexRatio =
            exponentMultiplier * indexRatio;

        float result = 0.0;

        for (int i = 0; i < `+r+`; i++) {
          // x = (-2|2 * PI / N) * index * i;
          float x = exponentMultiplierTimesIndexRatio * float(i);
          float expR = cos(x);
          float expI = sin(x);
          float real = getReal(batch, i);
          float imag = getImag(batch, i);

          result +=
              unaryOpComplex(real, expR, imag, expI) / `+a+`;
        }

        return result;
      }

      void main() {
        ivec2 coords = getOutputCoords();
        setOutput(mulMatDFT(coords[0], coords[1]));
      }
    `},UW=function(){function t(e,n){this.outputShape=[],this.variableNames=["x"],this.outputShape=e,this.userCode=`
      uniform float value;
      void main() {
        // Input can be obtained from uniform value.
        setOutput(value);
      }
    `}return t.prototype.getCustomSetupFunc=function(e){var n=this;return function(r,o){n.valueLoc==null&&(n.valueLoc=r.getUniformLocationNoThrow(o,"value")),r.gl.uniform1f(n.valueLoc,e)}},t}(),jW=function(t,e,n){this.variableNames=["A","indices"];var r=t.slice();r[n]=e,this.outputShape=r,this.rank=r.length;var o=je(this.rank),a=function(s,u){var c=s.length;if(c>4)throw Error("Gather for rank "+c+" is not yet supported");if(c===1)return"int(getIndices(resRC))";for(var f=["resRC.x","resRC.y","resRC.z","resRC.w"],h=[],p=0;p<s.length;p++)p===u?h.push("int(getIndices("+f[p]+"))"):h.push(""+f[p]);return h.join()}(t,n);this.userCode=`
      void main() {
        `+o+` resRC = getOutputCoords();
        setOutput(getA(`+a+`));
      }
    `},WW=function(t,e,n){this.sliceDim=t,this.strides=e,this.variableNames=["x","indices"],this.outputShape=n;var r=je(e.length),o=je(n.length),a=this.sliceDim>1?"strides[j]":"strides";this.userCode=`
        `+r+" strides = "+r+"("+this.strides+`);
         void main() {
          `+o+` coords = getOutputCoords();
          int flattenIndex = 0;
          for (int j = 0; j < `+this.sliceDim+`; j++) {
            int index = round(getIndices(coords[0], j));
            flattenIndex += index * `+a+`;
          }
          setOutput(getX(flattenIndex, coords[1]));
        }
      `};function HW(t,e){var n=Yn();return zU(t,e,n.version+`
    precision highp float;
    `+n.attribute+` vec3 clipSpacePos;
    `+n.attribute+` vec2 uv;
    `+n.varyingVs+` vec2 resultUV;

    void main() {
      gl_Position = vec4(clipSpacePos, 1);
      resultUV = uv;
    }`)}function GW(t,e){return HU(t,e,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function $W(t,e){return GU(t,e,new Uint16Array([0,1,2,2,1,3]))}function Cf(t,e,n,r,o,a,s){qU(n,r);var u=$U(t,e),c=t.TEXTURE_2D;return It(t,e,function(){return t.bindTexture(c,u)}),It(t,e,function(){return t.texParameteri(c,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE)}),It(t,e,function(){return t.texParameteri(c,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)}),It(t,e,function(){return t.texParameteri(c,t.TEXTURE_MIN_FILTER,t.NEAREST)}),It(t,e,function(){return t.texParameteri(c,t.TEXTURE_MAG_FILTER,t.NEAREST)}),It(t,e,function(){return t.texImage2D(c,0,o,n,r,0,a,s,null)}),It(t,e,function(){return t.bindTexture(t.TEXTURE_2D,null)}),u}function qW(t,e,n,r,o){var a=Up(n,r);return Cf(t,e,a[0],a[1],o.internalFormatFloat,o.textureFormatFloat,t.FLOAT)}function KW(t,e,n,r,o){var a=Up(n,r);return Cf(t,e,a[0],a[1],o.internalFormatHalfFloat,o.textureFormatFloat,o.textureTypeHalfFloat)}function XW(t,e,n,r,o){var a=Up(n,r);return Cf(t,e,a[0],a[1],t.RGBA,t.RGBA,t.UNSIGNED_BYTE)}function YW(t,e,n,r,o){var a=Sf(n,r);return Cf(t,e,a[0],a[1],o.internalFormatPackedFloat,t.RGBA,t.FLOAT)}function QW(t,e,n,r,o){var a=Sf(n,r);return Cf(t,e,a[0],a[1],o.internalFormatPackedHalfFloat,t.RGBA,o.textureTypeHalfFloat)}function ZW(t,e,n,r){return It(t,e,function(){return t.bindBuffer(t.ARRAY_BUFFER,r)}),jE(t,e,n,"clipSpacePos",r,3,20,0)&&jE(t,e,n,"uv",r,2,20,12)}function JW(t,e,n,r,o,a,s){var u,c,f;It(t,e,function(){return t.bindTexture(t.TEXTURE_2D,n)}),a instanceof Uint8Array?(u=new Uint8Array(r*o*4),c=t.UNSIGNED_BYTE,f=t.RGBA):(u=new Float32Array(r*o*4),c=t.FLOAT,f=s.internalFormatPackedFloat),u.set(a),It(t,e,function(){return t.texImage2D(t.TEXTURE_2D,0,f,r,o,0,t.RGBA,c,u)}),It(t,e,function(){return t.bindTexture(t.TEXTURE_2D,null)})}function tH(t,e,n,r){It(t,e,function(){return t.bindTexture(t.TEXTURE_2D,n)}),r.data instanceof Uint8Array?It(t,e,function(){return t.texImage2D(t.TEXTURE_2D,0,t.RGBA,r.width,r.height,0,t.RGBA,t.UNSIGNED_BYTE,r.data)}):It(t,e,function(){return t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,r)}),It(t,e,function(){return t.bindTexture(t.TEXTURE_2D,null)})}function eH(t,e,n,r,o){var a=t.createBuffer();It(t,e,function(){return t.bindBuffer(t.PIXEL_PACK_BUFFER,a)});var s=16*n*r;return It(t,e,function(){return t.bufferData(t.PIXEL_PACK_BUFFER,s,t.STREAM_READ)}),It(t,e,function(){return t.readPixels(0,0,r,n,t.RGBA,t.FLOAT,0)}),It(t,e,function(){return t.bindBuffer(t.PIXEL_PACK_BUFFER,null)}),a}function nH(t,e,n){var r=t,o=new Float32Array(n);return r.bindBuffer(r.PIXEL_PACK_BUFFER,e),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,o),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),o}function rH(t,e,n,r,o){var a=Up(n,r),s=a[0],u=a[1],c=new Uint8Array(n*r*4);return It(t,e,function(){return t.readPixels(0,0,s,u,o.downloadTextureFormat,t.UNSIGNED_BYTE,c)}),new Float32Array(c.buffer)}function oH(t,e,n,r,o,a,s,u){var c=t,f=new Float32Array(function(h,p){var v=Sf(h,p);return v[0]*v[1]*4}(a,s));return c.bindBuffer(c.PIXEL_PACK_BUFFER,e),c.getBufferSubData(c.PIXEL_PACK_BUFFER,0,f),c.bindBuffer(c.PIXEL_PACK_BUFFER,null),f}function aH(t,e,n,r){var o=new Float32Array(n*r*4);return It(t,e,function(){return t.readPixels(0,0,r,n,t.RGBA,t.FLOAT,o)}),o}var iH=function(){function t(e){this.outputTexture=null,this.program=null,this.disposed=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[];var n=ft().getNumber("WEBGL_VERSION");e!=null?(this.gl=e,PU(n,e)):this.gl=Jo(n);var r="WEBGL_color_buffer_float";if(ft().getNumber("WEBGL_VERSION")===1){if(this.textureFloatExtension=Jd(this.gl,this.debug,"OES_texture_float"),Jr(this.gl,"OES_texture_half_float"))this.textureHalfFloatExtension=Jd(this.gl,this.debug,"OES_texture_half_float");else if(ft().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(r),Jr(this.gl,"EXT_color_buffer_half_float"))this.colorBufferHalfFloatExtension=Jd(this.gl,this.debug,"EXT_color_buffer_half_float");else if(ft().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(r="EXT_color_buffer_float",Jr(this.gl,r))this.colorBufferFloatExtension=this.gl.getExtension(r);else{if(!Jr(this.gl,"EXT_color_buffer_half_float"))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension("EXT_color_buffer_half_float")}this.vertexBuffer=GW(this.gl,this.debug),this.indexBuffer=$W(this.gl,this.debug),this.framebuffer=KU(this.gl,this.debug),this.textureConfig=Ob(this.gl,this.textureHalfFloatExtension)}return Object.defineProperty(t.prototype,"debug",{get:function(){return ft().getBool("DEBUG")},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){var e=this;if(!this.disposed){this.program!=null&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),this.outputTexture!=null&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");var n=this.gl;It(n,this.debug,function(){return n.finish()}),It(n,this.debug,function(){return n.bindFramebuffer(n.FRAMEBUFFER,null)}),It(n,this.debug,function(){return n.deleteFramebuffer(e.framebuffer)}),It(n,this.debug,function(){return n.bindBuffer(n.ARRAY_BUFFER,null)}),It(n,this.debug,function(){return n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,null)}),It(n,this.debug,function(){return n.deleteBuffer(e.indexBuffer)}),this.disposed=!0}},t.prototype.createFloat32MatrixTexture=function(e,n){return this.throwIfDisposed(),qW(this.gl,this.debug,e,n,this.textureConfig)},t.prototype.createFloat16MatrixTexture=function(e,n){return this.throwIfDisposed(),KW(this.gl,this.debug,e,n,this.textureConfig)},t.prototype.createUnsignedBytesMatrixTexture=function(e,n){return this.throwIfDisposed(),XW(this.gl,this.debug,e,n,this.textureConfig)},t.prototype.uploadPixelDataToTexture=function(e,n){this.throwIfDisposed(),tH(this.gl,this.debug,e,n)},t.prototype.uploadDenseMatrixToTexture=function(e,n,r,o){this.throwIfDisposed(),JW(this.gl,this.debug,e,n,r,o,this.textureConfig)},t.prototype.createFloat16PackedMatrixTexture=function(e,n){return this.throwIfDisposed(),QW(this.gl,this.debug,e,n,this.textureConfig)},t.prototype.createPackedMatrixTexture=function(e,n){return this.throwIfDisposed(),YW(this.gl,this.debug,e,n,this.textureConfig)},t.prototype.deleteMatrixTexture=function(e){var n=this;this.throwIfDisposed(),this.outputTexture===e&&(WE(this.gl,this.debug,this.framebuffer),this.outputTexture=null),It(this.gl,this.debug,function(){return n.gl.deleteTexture(e)})},t.prototype.downloadByteEncodedFloatMatrixFromOutputTexture=function(e,n,r){var o=this;return this.downloadMatrixDriver(e,function(){return rH(o.gl,o.debug,n,r,o.textureConfig)})},t.prototype.downloadPackedMatrixFromBuffer=function(e,n,r,o,a,s){return oH(this.gl,e,0,0,0,a,s,this.textureConfig)},t.prototype.downloadFloat32MatrixFromBuffer=function(e,n){return nH(this.gl,e,n)},t.prototype.createBufferFromTexture=function(e,n,r){this.bindTextureToFrameBuffer(e);var o=eH(this.gl,this.debug,n,r,this.textureConfig);return this.unbindTextureToFrameBuffer(),o},t.prototype.createAndWaitForFence=function(){var e=this.createFence(this.gl);return this.pollFence(e)},t.prototype.createFence=function(e){var n,r,o=this;if(ft().getBool("WEBGL_FENCE_API_ENABLED")){var a=e,s=a.fenceSync(a.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),r=function(){var u=a.clientWaitSync(s,0,0);return u===a.ALREADY_SIGNALED||u===a.CONDITION_SATISFIED},n=s}else ft().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(n=this.beginQuery(),this.endQuery(),r=function(){return o.isQueryAvailable(n,ft().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}):r=function(){return!0};return{query:n,isFencePassed:r}},t.prototype.downloadMatrixFromPackedTexture=function(e,n,r){var o=this;return this.downloadMatrixDriver(e,function(){return aH(o.gl,o.debug,n,r)})},t.prototype.createProgram=function(e){this.throwIfDisposed();var n=this.gl,r=VU(n,this.debug,e),o=HW(n,this.debug),a=jU(n,this.debug);return It(n,this.debug,function(){return n.attachShader(a,o)}),It(n,this.debug,function(){return n.attachShader(a,r)}),WU(n,this.debug,a),this.debug&&Gg(n,this.debug,a),this.vertexAttrsAreBound||(this.setProgram(a),this.vertexAttrsAreBound=ZW(n,this.debug,this.program,this.vertexBuffer)),a},t.prototype.deleteProgram=function(e){var n=this;this.throwIfDisposed(),e===this.program&&(this.program=null),e!=null&&It(this.gl,this.debug,function(){return n.gl.deleteProgram(e)})},t.prototype.setProgram=function(e){var n=this;this.throwIfDisposed(),this.program=e,this.program!=null&&this.debug&&Gg(this.gl,this.debug,this.program),It(this.gl,this.debug,function(){return n.gl.useProgram(e)})},t.prototype.getUniformLocation=function(e,n,r){return r===void 0&&(r=!0),this.throwIfDisposed(),r?YU(this.gl,this.debug,e,n):QU(this.gl,e,n)},t.prototype.getAttributeLocation=function(e,n){var r=this;return this.throwIfDisposed(),It(this.gl,this.debug,function(){return r.gl.getAttribLocation(e,n)})},t.prototype.getUniformLocationNoThrow=function(e,n){return this.throwIfDisposed(),this.gl.getUniformLocation(e,n)},t.prototype.setInputMatrixTexture=function(e,n,r){this.throwIfDisposed(),this.throwIfNoProgram(),ZU(this.gl,this.debug,this.program,e,n,r)},t.prototype.setOutputMatrixTexture=function(e,n,r){this.setOutputMatrixTextureDriver(e,r,n)},t.prototype.setOutputPackedMatrixTexture=function(e,n,r){this.throwIfDisposed();var o=Sf(n,r),a=o[0],s=o[1];this.setOutputMatrixTextureDriver(e,a,s)},t.prototype.setOutputMatrixWriteRegion=function(e,n,r,o){this.setOutputMatrixWriteRegionDriver(r,e,o,n)},t.prototype.setOutputPackedMatrixWriteRegion=function(e,n,r,o){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")},t.prototype.debugValidate=function(){this.program!=null&&Gg(this.gl,this.debug,this.program),th(this.gl)},t.prototype.executeProgram=function(){this.throwIfDisposed(),this.throwIfNoProgram();var e=this.gl;this.debug&&this.debugValidate(),It(e,this.debug,function(){return e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0)})},t.prototype.blockUntilAllProgramsCompleted=function(){var e=this;this.throwIfDisposed(),It(this.gl,this.debug,function(){return e.gl.finish()})},t.prototype.getQueryTimerExtension=function(){return this.disjointQueryTimerExtension==null&&(this.disjointQueryTimerExtension=Jd(this.gl,this.debug,ft().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension},t.prototype.getQueryTimerExtensionWebGL2=function(){return this.getQueryTimerExtension()},t.prototype.getQueryTimerExtensionWebGL1=function(){return this.getQueryTimerExtension()},t.prototype.beginQuery=function(){if(ft().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2){var e=this.gl,n=this.getQueryTimerExtensionWebGL2(),r=e.createQuery();return e.beginQuery(n.TIME_ELAPSED_EXT,r),r}var o=this.getQueryTimerExtensionWebGL1(),a=o.createQueryEXT();return o.beginQueryEXT(o.TIME_ELAPSED_EXT,a),a},t.prototype.endQuery=function(){if(ft().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")!==2){var e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}else{var n=this.gl,r=this.getQueryTimerExtensionWebGL2();n.endQuery(r.TIME_ELAPSED_EXT)}},t.prototype.waitForQueryAndGetTime=function(e){return Mt(this,void 0,void 0,function(){var n=this;return Nt(this,function(r){switch(r.label){case 0:return[4,BE(function(){return n.disposed||n.isQueryAvailable(e,ft().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))})];case 1:return r.sent(),[2,this.getQueryTime(e,ft().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))]}})})},t.prototype.getQueryTime=function(e,n){if(n===0)return null;if(n===2){var r=this.gl;return r.getQueryParameter(e,r.QUERY_RESULT)/1e6}var o=this.getQueryTimerExtensionWebGL1();return o.getQueryObjectEXT(e,o.QUERY_RESULT_EXT)/1e6},t.prototype.isQueryAvailable=function(e,n){if(n===0)return!0;if(n===2){var r=this.gl,o=this.getQueryTimerExtensionWebGL2(),a=r.getQueryParameter(e,r.QUERY_RESULT_AVAILABLE);return this.disjoint==null&&(this.disjoint=this.gl.getParameter(o.GPU_DISJOINT_EXT)),a&&!this.disjoint}return a=(o=this.getQueryTimerExtensionWebGL1()).getQueryObjectEXT(e,o.QUERY_RESULT_AVAILABLE_EXT),this.disjoint==null&&(this.disjoint=this.gl.getParameter(o.GPU_DISJOINT_EXT)),a&&!this.disjoint},t.prototype.pollFence=function(e){var n=this;return new Promise(function(r){n.addItemToPoll(function(){return e.isFencePassed()},function(){return r()})})},t.prototype.pollItems=function(){for(var e=function(r){for(var o=0;o<r.length&&r[o]();++o);return o-1}(this.itemsToPoll.map(function(r){return r.isDoneFn})),n=0;n<=e;++n)(0,this.itemsToPoll[n].resolveFn)();this.itemsToPoll=this.itemsToPoll.slice(e+1)},t.prototype.addItemToPoll=function(e,n){var r=this;this.itemsToPoll.push({isDoneFn:e,resolveFn:n}),this.itemsToPoll.length>1||BE(function(){return r.pollItems(),r.itemsToPoll.length===0})},t.prototype.bindTextureToFrameBuffer=function(e){this.throwIfDisposed(),$g(this.gl,this.debug,e,this.framebuffer),this.debug&&th(this.gl)},t.prototype.unbindTextureToFrameBuffer=function(){this.outputTexture!=null?($g(this.gl,this.debug,this.outputTexture,this.framebuffer),this.debug&&th(this.gl)):WE(this.gl,this.debug,this.framebuffer)},t.prototype.downloadMatrixDriver=function(e,n){this.bindTextureToFrameBuffer(e);var r=n();return this.unbindTextureToFrameBuffer(),r},t.prototype.setOutputMatrixTextureDriver=function(e,n,r){this.throwIfDisposed();var o=this.gl;$g(o,this.debug,e,this.framebuffer),this.debug&&th(o),this.outputTexture=e,It(o,this.debug,function(){return o.viewport(0,0,n,r)}),It(o,this.debug,function(){return o.scissor(0,0,n,r)})},t.prototype.setOutputMatrixWriteRegionDriver=function(e,n,r,o){var a=this;this.throwIfDisposed(),It(this.gl,this.debug,function(){return a.gl.scissor(e,n,r,o)})},t.prototype.throwIfDisposed=function(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")},t.prototype.throwIfNoProgram=function(){if(this.program==null)throw new Error("No GPU program is currently set.")},t}();function nT(t,e){if(t.length!==e.length)throw Error("Binary was compiled with "+t.length+" inputs, but was executed with "+e.length+" inputs");t.forEach(function(n,r){var o=n.logicalShape,a=e[r],s=a.shape;if(!Mn(o,s))throw Error("Binary was compiled with different shapes than the current args. Shapes "+o+" and "+s+" must match");if(!n.isUniform||!a.isUniform){var u=n.texShape,c=a.isUniform?null:a.texData.texShape;if(!Mn(u,c))throw Error("Binary was compiled with different texture shapes than the current args. Shape "+u+" and "+c+" must match")}})}var sH=function(t,e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t;for(var r=n.filterWidth,o=n.inChannels,a=n.strideWidth,s=n.strideHeight,u=n.padInfo,c=n.outWidth,f=n.dilationWidth,h=n.dilationHeight,p=n.dataFormat,v=u.left,g=u.top,y=o*r,x=Yn(),w=p==="channelsLast",S=w?0:1,A=w?1:2,E="",T=0;T<=1;T++)for(var R=0;R<=1;R++)E+=`
          blockIndex = rc.y + `+R+`;
          pos = rc.x + `+T+`;

          if(blockIndex < `+t[1]+" && pos < "+t[0]+`) {
            offsetY = int(blockIndex / (`+c+")) * "+s+" - "+g+`;
            d0 = offsetY + `+h+" * (pos / "+y+`);

            if(d0 < `+e[S]+` && d0 >= 0) {

              offsetX = int(mod(float(blockIndex), `+c+".) * "+a+". - "+v+`.);
              d1 = offsetX + `+f+" * (int(mod(float(pos), "+y+".) / "+o+`.));

              if(d1 < `+e[A]+` && d1 >= 0) {

                ch = int(mod(float(pos), `+o+`.));

                if (`+w+`) {
                  innerDims = vec2(d1, ch);
                  result[`+(2*T+R)+`] = getChannel(
                    getA(d0, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                } else {
                  innerDims = vec2(d0, d1);
                  result[`+(2*T+R)+`] = getChannel(
                    getA(ch, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                }
              }
            }
          }
        `;this.userCode=`
      void main() {
        ivec2 rc = getOutputCoords();

        vec4 result = vec4(0);

        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;
        vec2 innerDims;

        `+E+`

        `+x.output+` = result;
      }
    `},uH=function(t,e,n,r,o){this.variableNames=["x"],this.outputShape=[];var a,s=e,u=t[3]-1;this.outputShape=t;var c="float("+n+") + float("+r+") * sum";a=o===.5?"inversesqrt("+c+")":o===1?"1.0/("+c+")":"exp(log("+c+") * float(-"+o+"));",this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];
        int d = coords[3];
        float x = getX(b, r, c, d);
        float sum = 0.0;
        for (int j = -`+s+"; j <= "+s+`; j++) {
          int idx = d + j;
          if (idx >= 0 && idx <=  `+u+`) {
            float z = getX(b, r, c, idx);
            sum += z * z;
          }
        }
        float val = x * `+a+`;
        setOutput(val);
      }
    `},lH=function(t,e,n,r,o){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=t,this.depth=t[3],this.depthRadius=e,this.bias=n,this.alpha=r,this.beta=o,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];

        float result = 0.0;
        for (int d = 0; d < `+this.depth+`; ++d) {
          int depthBegin = int(max(0.0, float(d - `+e+`)));
          int depthEnd = int(min(float(`+this.depth+`),
              float(d + `+e+` + 1)));

          const int MIN_DEPTH_BEGIN = 0;
          const int MAX_DEPTH_END = `+this.depth+`;

          float norm = 0.0;
          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd) {
              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);
            }
            else {
              break;
            }
          }

          norm = float(`+r+") * norm + float("+n+`);

          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd){
              float dyi = -2.0 * float(`+r+`)
                * float(`+o+`)
                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)
                / norm;
              if (k == d) {
                dyi += pow(norm, -1.0 * `+o+`);
              }
              if (k == coords[3]) {
                dyi *= getDy(b, r, c, d);
                result += dyi;
              }
            }
            else {
              break;
            }
          }
      }
      setOutput(result);
      }
    `},cH=function(t,e,n,r,o){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;var a,s=e,u=t[3]-1;this.outputShape=t;var c="float("+n+") + float("+r+") * sum";a=o===.5?"inversesqrt("+c+")":o===1?"1.0/("+c+")":"exp(log("+c+") * float(-"+o+"));",this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords.x;
        int r = coords.y;
        int c = coords.z;
        int d = coords.w;

        bool hasNextCol = d < `+this.outputShape[3]+`;
        bool hasNextRow = c < `+this.outputShape[2]+`;

        vec4 sum = vec4(0.);
        vec4 xFragAtOutputCoords = getX(b, r, c, d);

        vec4 xAtOutputCoords = vec4(
          getChannel(xFragAtOutputCoords, vec2(c, d)),
          hasNextCol ?
            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,
          hasNextRow ?
            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,
          (hasNextRow && hasNextCol) ?
            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0
        );

        int firstChannel = d - `+s+`;
        vec2 cache = vec2(0.);
        if(firstChannel >= 0){
          vec4 firstChannelFrag = getX(b, r, c, firstChannel);
          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));
            if(hasNextRow){
              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));
            }
        }

        ivec2 depth = ivec2(d, d + 1);
        for (int j = - `+s+"; j <= "+s+`; j++) {
          ivec2 idx = depth + j;
          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));
          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(`+u+`));

          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;
          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;

          if(depthInRange || depthPlusOneInRange){
            vec4 z = vec4(0.);
            vec4 xFragAtCurrentDepth;
            z.xz = cache.xy;
            if(depthPlusOneInRange && hasNextCol){
              xFragAtCurrentDepth = idx.y != d ?
                getX(b, r, c, idx.y) : xFragAtOutputCoords;
              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));
              if(hasNextRow){
                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));
              }
            }
            cache.xy = z.yw;
            sum += z * z;
          }
        }
        vec4 result = xAtOutputCoords * `+a+`;
        setOutput(result);
      }
    `},fH=function(t){this.variableNames=["dy","maxPos"],this.outputShape=t.inShape;var e=t.strideHeight,n=t.strideWidth,r=t.dilationHeight,o=t.effectiveFilterHeight,a=t.effectiveFilterWidth,s=o-1-t.padInfo.top,u=a-1-t.padInfo.left,c=o*a-1;this.userCode=`
      const ivec2 pads = ivec2(`+s+", "+u+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < `+o+`;
          wR += `+r+`) {
          float dyR = float(dyRCorner + wR) / `+e+`.0;

          if (dyR < 0.0 || dyR >= `+t.outHeight+`.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < `+a+`; wC++) {
            float dyC = float(dyCCorner + wC) / `+n+`.0;

            if (dyC < 0.0 || dyC >= `+t.outWidth+`.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);
            int maxPosValue = `+c+` - int(getMaxPos(b, idyR, idyC, d));

            // Get the current value, check it against the value from the
            // position matrix.
            int curPosValue = wR * `+a+` + wC;
            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

            dotProd += dyValue * mask;
          }
        }
        setOutput(dotProd);
      }
    `},dH=function(t){this.variableNames=["dy","maxPos"],this.outputShape=t.inShape;var e=t.strideDepth,n=t.strideHeight,r=t.strideWidth,o=t.dilationDepth,a=t.dilationHeight,s=t.dilationWidth,u=t.effectiveFilterDepth,c=t.effectiveFilterHeight,f=t.effectiveFilterWidth,h=u-1-t.padInfo.front,p=c-1-t.padInfo.top,v=f-1-t.padInfo.left,g=u*c*f-1;this.userCode=`
      const ivec3 pads = ivec3(`+h+", "+p+", "+v+`);

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < `+u+`;
           wD += `+o+`) {
          float dyD = float(dyDCorner + wD) / `+e+`.0;

          if (dyD < 0.0 || dyD >= `+t.outDepth+`.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < `+c+`;
              wR += `+a+`) {
            float dyR = float(dyRCorner + wR) / `+n+`.0;

            if (dyR < 0.0 || dyR >= `+t.outHeight+`.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < `+f+`;
                wC += `+s+`) {
              float dyC = float(dyCCorner + wC) / `+r+`.0;

              if (dyC < 0.0 || dyC >= `+t.outWidth+`.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);
              int maxPosValue = `+g+` -
                  int(getMaxPos(batch, idyD, idyR, idyC, ch));

              // Get the current value, check it against the value from the
              // position matrix.
              int curPosValue =
                  wD * `+c+" * "+f+` +
                  wR * `+f+` + wC;
              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

              dotProd += dyValue * mask;
            }
          }
        }
        setOutput(dotProd);
      }
    `},Qg=function(t,e,n,r,o,a,s){n===void 0&&(n=!1),r===void 0&&(r=!1),o===void 0&&(o=!1),a===void 0&&(a=null),s===void 0&&(s=!1),this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e;var u=n?t[1]:t[2],c=Math.ceil(u/2),f=n?"i * 2, rc.y":"rc.y, i * 2",h=r?"rc.z, i * 2":"i * 2, rc.z",p=n?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],v=r?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"],g="",y="";a&&(g=s?`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          `+a+`
        }`:`vec4 activation(vec4 x) {
          `+a+`
        }`,y="result = activation(result);");var x=o?"result += getBiasAtOutCoords();":"";o&&this.variableNames.push("bias"),s&&this.variableNames.push("preluActivationWeights"),this.userCode=`
      `+g+`

      const float sharedDimension = `+c+`.0;

      vec4 dot2x2ARowBCol(ivec3 rc) {
        vec4 result = vec4(0);
        for (int i = 0; i < `+c+`; i++) {
          vec4 a = getMatrixA(rc.x, `+f+`);
          vec4 b = getMatrixB(rc.x, `+h+`);

          // These swizzled products need to be separately added.
          // See: https://github.com/tensorflow/tfjs/issues/1735
          result += (`+p[0]+" * "+v[0]+`);
          result += (`+p[1]+" * "+v[1]+`);
        }
        return result;
      }

      void main() {
        ivec3 rc = getOutputCoords();
        vec4 result = dot2x2ARowBCol(rc);

        `+x+`

        `+y+`

        setOutput(result);
      }
    `},hH=function(){function t(e,n,r){this.variableNames=["probs"],this.outputShape=[e,r],this.userCode=`
      uniform float seed;

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];

        float r = random(seed);
        float cdf = 0.0;

        for (int i = 0; i < `+(n-1)+`; i++) {
          cdf += getProbs(batch, i);

          if (r < cdf) {
            setOutput(float(i));
            return;
          }
        }

        // If no other event happened, last event happened.
        setOutput(float(`+(n-1)+`));
      }
    `}return t.prototype.getCustomSetupFunc=function(e){var n=this;return function(r,o){n.seedLoc==null&&(n.seedLoc=r.getUniformLocation(o,"seed")),r.gl.uniform1f(n.seedLoc,e)}},t}(),pH=function(t,e,n,r){this.variableNames=["indices"],this.outputShape=[t,e],this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int index = round(getIndices(coords.x));
        setOutput(mix(float(`+r+"), float("+n+`),
                      float(index == coords.y)));
      }
    `},mH=function(t){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=t;var e=t.length;if(e===0)this.userCode=`
        void main() {
          setOutput(vec4(getA(), 0., 0., 0.));
        }
      `;else{var n=dr("rc",e),r=je(e),o=function(u,c,f){if(u===1)return"rc > "+c[0];for(var h="",p=u-2;p<u;p++)h+=f[p]+" >= "+c[p],p<u-1&&(h+="||");return h}(e,t,n),a=function(u,c,f,h){if(u===1)return"";var p=h.slice(-2);return`
    int r = `+p[0]+`;
    int c = `+p[1]+`;
    int rp1 = r + 1;
    int cp1 = c + 1;

    bool cEdge = cp1 >= `+c+`;
    bool rEdge = rp1 >= `+f+`;
  `}(e,t[t.length-1],t[t.length-2],n),s=function(u,c){var f=u.length,h=function(p,v){for(var g=[],y=0;y<=1;y++)for(var x=0;x<=1;x++){for(var w=(y===0?"r":"rp1")+", "+(x===0?"c":"cp1"),S=2;S<p;S++)w=v[v.length-1-S]+","+w;g.push(w)}return g}(f,c);return f===1?`getA(rc),
            rc + 1 >= `+u[0]+` ? 0. : getA(rc + 1),
            0, 0`:"getA("+h[0]+`),
          cEdge ? 0. : getA(`+h[1]+`),
          rEdge ? 0. : getA(`+h[2]+`),
          rEdge || cEdge ? 0. : getA(`+h[3]+")"}(t,n);this.userCode=`
        void main() {
          `+r+` rc = getOutputCoords();

          if(`+o+`) {
            setOutput(vec4(0));
          } else {
            `+a+`

            setOutput(vec4(`+s+`));
          }
        }
      `}},vH=function(t,e,n){this.variableNames=["x"],this.outputShape=e.map(function(c,f){return c[0]+t[f]+c[1]});var r=t.length,o=je(r),a=e.map(function(c){return c[0]}).join(","),s=e.map(function(c,f){return c[0]+t[f]}).join(","),u=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r);this.userCode=r!==1?`
      `+o+" start = "+o+"("+a+`);
      `+o+" end = "+o+"("+s+`);

      void main() {
        `+o+` outC = getOutputCoords();
        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {
          setOutput(float(`+n+`));
        } else {
          `+o+` coords = outC - start;
          setOutput(getX(`+u+`));
        }
      }
    `:`
        int start = `+a+`;
        int end = `+s+`;

        void main() {
          int outC = getOutputCoords();
          if (outC < start || outC >= end) {
            setOutput(float(`+n+`));
          } else {
            setOutput(getX(outC - start));
          }
        }
      `},gH=function(t,e,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e.map(function(w,S){return w[0]+t[S]+w[1]});for(var r=t.length,o=je(r),a=e.map(function(w){return w[0]}).join(","),s=e.map(function(w,S){return w[0]+t[S]}).join(","),u=dr("rc",r),c=dr("source",r),f=u[r-1]+" < "+this.outputShape[r-1],h=r===1?"source":"vec2("+c.slice(-2).join()+")",p=[o+" rc = outputLoc;",u[r-1]+` += 1;
       if(`+f+`) {
      `,r===1?"":`}
       rc = outputLoc;
       `+u[r-2]+` += 1;
       if(`+u[r-2]+" < "+this.outputShape[r-2]+") {",r===1?"":"  "+u[r-1]+` += 1;
         if(`+f+") {"],v=r===1?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))",g="",y=0,x=r===1?2:4;y<x;y++)g+=`
        `+p[y]+`
        if (`+v+`) {
          result[`+y+"] = float("+n+`);
        } else {
          `+o+` source = rc - start;
          result[`+y+"] = getChannel(getX("+c.join()+"), "+h+`);
        }
      `;g+=r===1?"} ":"}}",this.userCode=`
      const `+o+" start = "+o+"("+a+`);
      const `+o+" end = "+o+"("+s+`);

      void main() {
        `+o+` outputLoc = getOutputCoords();
        vec4 result = vec4(0.);
        `+g+`
        setOutput(result);
      }
    `},Zg=function(t,e,n){if(this.variableNames=["x"],e==="avg"&&n)throw new Error("Cannot compute positions for average pool.");var r=t.filterWidth,o=t.strideHeight,a=t.strideWidth,s=t.dilationHeight,u=t.dilationWidth,c=t.effectiveFilterHeight,f=t.effectiveFilterWidth,h=t.padInfo.top,p=t.padInfo.left;this.outputShape=t.outShape;var v=e==="avg",g="0.0";if(v||(g="-1.0 / 1e-20"),n)this.userCode=`
        const ivec2 strides = ivec2(`+o+", "+a+`);
        const ivec2 pads = ivec2(`+h+", "+p+`);

        void main() {
          ivec4 coords = getOutputCoords();
          int batch = coords[0];
          int d = coords[3];

          ivec2 xRCCorner = coords.yz * strides - pads;
          int xRCorner = xRCCorner.x;
          int xCCorner = xRCCorner.y;

          // max/min x(?, ?, d) to get y(yR, yC, d).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;
          float avgValue = 0.0;

          for (int wR = 0; wR < `+c+`;
              wR += `+s+`) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= `+t.inHeight+`) {
              continue;
            }

            for (int wC = 0; wC < `+f+`;
                wC += `+u+`) {
              int xC = xCCorner + wC;

              if (xC < 0 || xC >= `+t.inWidth+`) {
                continue;
              }

              float value = getX(batch, xR, xC, d);

              // If a min / max value has already been found, use it. If not,
              // use the current value.
              float currMinMaxValue = mix(
                  value, minMaxValue, minMaxValueFound);
              if (value >= currMinMaxValue) {
                minMaxValue = value;
                minMaxValueFound = 1.0;
                minMaxPosition = wR * `+f+` + wC;
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;else{var y=e+"("+e+"("+e+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";e==="avg"&&(y="avgValue / count");var x=4*Math.floor(r/4),w=r%4,S=`
      if (`+v+`) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = max(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec2 strides = ivec2(`+o+", "+a+`);
      const ivec2 pads = ivec2(`+h+", "+p+`);
      const float initializationValue = `+g+`;
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xR, int xC, int d) {
        if (xC < 0 || xC >= `+t.inWidth+`) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xR, xC, d);
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d = coords[3];

        ivec2 xRCCorner = coords.yz * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // max/min x(?, ?, d) to get y(yR, yC, d).
        // ? = to be determined
        vec4 minMaxValue = vec4(`+g+`);
        float avgValue = 0.0;
        count = 0.0;

        for (int wR = 0; wR < `+c+`;
            wR += `+s+`) {
          int xR = xRCorner + wR;

          if (xR < 0 || xR >= `+t.inHeight+`) {
            continue;
          }

          for (int wC = 0; wC < `+x+`; wC += 4) {
            int xC = xCCorner + wC * `+u+`;

            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + `+u+`, d),
              getValue(batch, xR, xC + 2 * `+u+`, d),
              getValue(batch, xR, xC + 3 * `+u+`, d)
            );

            `+S+`
          }

          int xC = xCCorner + `+x+`;
          if (`+(w===1)+`) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              initializationValue,
              initializationValue,
              initializationValue
            );

            `+S+`
          } else if (`+(w===2)+`) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + `+u+`, d),
              initializationValue,
              initializationValue
            );

            `+S+`
          } else if (`+(w===3)+`) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + `+u+`, d),
              getValue(batch, xR, xC + 2 * `+u+`, d),
              initializationValue
            );

            `+S+`
          }
        }
        setOutput(`+y+`);
      }
    `}},Jg=function(t,e,n){if(this.variableNames=["x"],e==="avg"&&n)throw new Error("Cannot compute positions for average pool.");var r=t.filterWidth,o=t.strideDepth,a=t.strideHeight,s=t.strideWidth,u=t.dilationDepth,c=t.dilationHeight,f=t.dilationWidth,h=t.effectiveFilterDepth,p=t.effectiveFilterHeight,v=t.effectiveFilterWidth,g=t.padInfo.front,y=t.padInfo.top,x=t.padInfo.left;this.outputShape=t.outShape;var w=e==="avg",S="0.0";if(w||(S="-1.0 / 1e-20"),n)this.userCode=`
        const ivec3 strides =
            ivec3(`+o+", "+a+", "+s+`);
        const ivec3 pads = ivec3(`+g+", "+y+", "+x+`);

        void main() {
          ivec5 coords = getOutputCoords();
          int batch = coords.x;
          int ch = coords.u;

          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
          int xDCorner = xCorner.x;
          int xRCorner = xCorner.y;
          int xCCorner = xCorner.z;

          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;

          for (int wD = 0; wD < `+h+`;
              wD += `+u+`) {
            int xD = xDCorner + wD;

            if (xD < 0 || xD >= `+t.inDepth+`) {
              continue;
            }

            for (int wR = 0; wR < `+p+`;
                wR += `+c+`) {
              int xR = xRCorner + wR;

              if (xR < 0 || xR >= `+t.inHeight+`) {
                continue;
              }

              for (int wC = 0; wC < `+v+`;
                  wC += `+f+`) {
                int xC = xCCorner + wC;

                if (xC < 0 || xC >= `+t.inWidth+`) {
                  continue;
                }

                float value = getX(batch, xD, xR, xC, ch);

                // If a min / max value has already been found, use it. If not,
                // use the current value.
                float currMinMaxValue = mix(
                    value, minMaxValue, minMaxValueFound);
                if (value >= currMinMaxValue) {
                  minMaxValue = value;
                  minMaxValueFound = 1.0;
                  minMaxPosition =
                      wD * `+p+" * "+v+` +
                      wR * `+v+` + wC;;
                }
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;else{var A=e+"("+e+"("+e+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";e==="avg"&&(A="avgValue / count");var E=4*Math.floor(r/4),T=r%4,R=`
      if (`+w+`) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = max(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec3 strides =
        ivec3(`+o+", "+a+", "+s+`);
      const ivec3 pads = ivec3(`+g+", "+y+", "+x+`);
      const float initializationValue = `+S+`;
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xD, int xR, int xC, int ch) {
        if (xC < 0 || xC >= `+t.inWidth+`) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xD, xR, xC, ch);
      }

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xDCorner = xCorner.x;
        int xRCorner = xCorner.y;
        int xCCorner = xCorner.z;

        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).
        // ? = to be determined
        vec4 minMaxValue = vec4(`+S+`);
        float avgValue = 0.0;
        count = 0.0;

        for (int wD = 0; wD < `+h+`;
            wD += `+u+`) {
          int xD = xDCorner + wD;

          if (xD < 0 || xD >= `+t.inDepth+`) {
            continue;
          }

          for (int wR = 0; wR < `+p+`;
            wR += `+c+`) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= `+t.inHeight+`) {
              continue;
            }

            for (int wC = 0; wC < `+E+`; wC += 4) {
              int xC = xCCorner + wC * `+f+`;

              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + `+f+`, ch),
                getValue(batch, xD, xR, xC + 2 * `+f+`, ch),
                getValue(batch, xD, xR, xC + 3 * `+f+`, ch)
              );

              `+R+`
            }

            int xC = xCCorner + `+E+`;
            if (`+(T===1)+`) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                initializationValue,
                initializationValue,
                initializationValue
              );

              `+R+`
            } else if (`+(T===2)+`) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + `+f+`, ch),
                initializationValue,
                initializationValue
              );

              `+R+`
            } else if (`+(T===3)+`) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + `+f+`, ch),
                getValue(batch, xD, xR, xC + 2 * `+f+`, ch),
                initializationValue
              );

              `+R+`
            }
          }
          setOutput(`+A+`);
        }
      }
    `}},yH=function(t,e){this.variableNames=["x"];var n=t.windowSize,r=t.batchSize,o=t.inSize,a=Math.ceil(o/n);this.outputShape=[r,a];var s="0.0",u="";e==="prod"?s="1.0":e==="min"?(s="1.0 / 1e-20",u="min"):e==="max"&&(s="-1.0 / 1e-20",u="max");var c=e+"("+e+"("+e+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";e==="sum"?c="sumValue":e==="prod"?c="prodValue":e==="all"?c="allValue":e==="any"&&(c="anyValue");var f=4*Math.floor(n/4),h=n%4,p=`
      if (`+(e==="sum")+`) {
        sumValue += dot(values, ones);
      } else if (`+(e==="prod")+`) {
        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);
        prodValue *= tmp[0] * tmp[1];
      } else {
        minMaxValue = `+u+`(values, minMaxValue);
      }
    `,v="vec4";e==="all"?(s="1.0",p=`
        bool reducedAllValue = all(values);
        float floatedReducedAllValue = float(reducedAllValue);
        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);
      `,v="bvec4"):e==="any"&&(s="0.0",p=`
        bool reducedAnyValue = any(values);
        float floatedReducedAnyValue = float(reducedAnyValue);
        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);
      `,v="bvec4");var g="";o%n>0&&(g=`
        if (inIdx < 0 || inIdx >= `+o+`) {
          return initializationValue;
        }
      `),this.userCode=`
      const float initializationValue = `+s+`;
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float getValue(int batch, int inIdx) {
        `+g+`
        return getX(batch, inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * `+n+`;

        vec4 minMaxValue = vec4(`+s+`);
        float prodValue = 1.0;
        float sumValue = 0.0;
        float allValue = 1.0;
        float anyValue = 0.0;

        for (int i = 0; i < `+f+`; i += 4) {
          int inIdx = inOffset + i;
          `+v+" values = "+v+`(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          `+p+`
        }

        int inIdx = inOffset + `+f+`;
        if (`+(h===1)+`) {
          `+v+" values = "+v+`(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          `+p+`
        } else if (`+(h===2)+`) {
          `+v+" values = "+v+`(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          `+p+`
        } else if (`+(h===3)+`) {
          `+v+" values = "+v+`(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          `+p+`
        }
        setOutput(`+c+`);
      }
    `},bH=function(t,e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t;for(var n="",r=0;r<4;r++){var o="thisRC = rc;";r%2==1&&(o+="thisRC.z += 1;"),r>1&&(o+="thisRC.y += 1;"),n+=`
        `+o+`
        `+(r>0?"if(thisRC.y < rows && thisRC.z < cols){":"")+`
          int flatIndex = getFlatIndex(thisRC);

          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);
          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));

          result[`+r+`] =
            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);
        `+(r>0?"}":"")+`
      `}this.userCode=`
      
    ivec3 inputCoordsFromReshapedOutCoords(int index) {
      `+is(["r","c","d"],e)+`
      return ivec3(r, c, d);
    }
  
      `+Wb(t)+`

      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0.);

        ivec3 thisRC;
        int rows = `+t[1]+`;
        int cols = `+t[2]+`;

        `+n+`

        setOutput(result);
      }
    `},xH=function(t,e,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=e.shape;var r=e.shape,o=r[1],a=r[2],s=t.shape,u=s[1],c=s[2],f=[n&&u>1?o-1:o,n&&c>1?a-1:a],h=[n&&u>1?u-1:u,n&&c>1?c-1:c],p=f[0]/h[0],v=f[1]/h[1],g=1/p,y=1/v,x=2*Math.ceil(g)+2,w=2*Math.ceil(y)+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(`+p+`);
        const float widthScale = float(`+v+`);

        const float invHeightScale = float(`+g+`);
        const float invWidthScale = float(`+y+`);

        const int winHeight = int(`+x+`);
        const int winWidth = int(`+w+`);

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(startRLerp - float(winHeight / 2));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(startCLerp - float(winWidth / 2));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= `+u+`) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= `+c+`) {
              continue;
            }

            float dxR = float(dyR) * heightScale;
            int topDxRIndex = int(floor(dxR));
            int bottomDxRIndex = int(min(ceil(dxR), `+(o-1)+`.0));
            float dxRLerp = dxR - float(topDxRIndex);
            float inverseDxRLerp = 1.0 - dxRLerp;

            float dxC = float(dyC) * widthScale;
            int leftDxCIndex = int(floor(dxC));
            int rightDxCIndex = int(min(ceil(dxC), `+(a-1)+`.0));
            float dxCLerp = dxC - float(leftDxCIndex);
            float inverseDxCLerp = 1.0 - dxCLerp;

            if (r == topDxRIndex && c == leftDxCIndex) {
              // topLeft
              accumulator +=
                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;
            }

            if (r == topDxRIndex && c == rightDxCIndex) {
              // topRight
              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;
            }

            if (r == bottomDxRIndex && c == leftDxCIndex) {
              // bottomLeft
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;
            }

            if (r == bottomDxRIndex && c == rightDxCIndex) {
              // bottomRight
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `},wH=function(t,e,n,r){this.variableNames=["A"],this.outputShape=[];var o=t[0],a=t[1],s=t[2],u=t[3];this.outputShape=[o,e,n,u];var c=[r&&e>1?a-1:a,r&&n>1?s-1:s],f=[r&&e>1?e-1:e,r&&n>1?n-1:n];this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          `+c[0]/f[0]+`,
          `+c[1]/f[1]+`);
      const vec2 inputShapeRC = vec2(`+a+".0, "+s+`.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;

        // Compute the four integer indices.
        ivec2 sourceFloorRC = ivec2(sourceFracIndexRC);
        ivec2 sourceCeilRC = ivec2(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);
        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);
        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);
        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);

        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);

        float top = topLeft + (topRight - topLeft) * fracRC.y;
        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;
        float newValue = top + (bottom - top) * fracRC.x;

        setOutput(newValue);
      }
    `},SH=function(t,e,n,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];var o=t[0],a=t[1],s=t[2],u=t[3];this.outputShape=[o,e,n,u];var c=[r&&e>1?a-1:a,r&&n>1?s-1:s],f=[r&&e>1?e-1:e,r&&n>1?n-1:n];this.userCode=`
      const vec3 effectiveInputOverOutputRatioRC = vec3(
          `+c[0]/f[0]+`,
          `+c[1]/f[1]+`,
          `+c[1]/f[1]+`);
      const vec3 inputShapeRC = vec3(`+a+".0, "+s+`.0,
                                     `+s+`.0);

      float getAValue(int b, int r, int c, int d) {
        return getChannel(getA(b, r, c, d), vec2(c, d));
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        // Calculate values for next column in yRC.z.
        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);

        // Fractional source index.
        vec3 sourceFracIndexRC = vec3(yRC) * effectiveInputOverOutputRatioRC;

        // Compute the four integer indices.
        ivec3 sourceFloorRC = ivec3(sourceFracIndexRC);
        ivec3 sourceCeilRC = ivec3(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        // Should we calculate next column and row elements in 2x2 packed cell.
        bool hasNextCol = d < `+(u-1)+`;
        bool hasNextRow = coords.z < `+(n-1)+`;

        // In parallel, construct four corners for all four components in
        // packed 2x2 cell.
        vec4 topLeft = vec4(
          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 bottomLeft = vec4(
          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 topRight = vec4(
          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec4 bottomRight = vec4(
          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);

        vec4 top = mix(topLeft, topRight, fracRC.yyzz);
        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);
        vec4 newValue = mix(top, bottom, fracRC.x);

        setOutput(newValue);
      }
    `},CH=function(t,e,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=e.shape;var r=e.shape,o=r[1],a=r[2],s=t.shape,u=s[1],c=s[2],f=[n&&u>1?o-1:o,n&&c>1?a-1:a],h=[n&&u>1?u-1:u,n&&c>1?c-1:c],p=f[0]/h[0],v=f[1]/h[1],g=1/p,y=1/v,x=2*Math.ceil(g)+2,w=2*Math.ceil(y)+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(`+p+`);
        const float widthScale = float(`+v+`);

        const float invHeightScale = float(`+g+`);
        const float invWidthScale = float(`+y+`);

        const int winHeight = int(`+x+`);
        const int winWidth = int(`+w+`);

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(floor(startRLerp - float(winHeight / 2)));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(floor(startCLerp - float(winWidth / 2)));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= `+u+`) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= `+c+`) {
              continue;
            }

            float sourceFracRow =
              float(`+f[0]+`) *
                (float(dyR) / float(`+h[0]+`));

            float sourceFracCol =
                float(`+f[1]+`) *
                  (float(dyC) / float(`+h[1]+`));

            int sourceNearestRow = int(min(
                float(int(`+o+`) - 1),
                `+n+` ? float(round(sourceFracRow)) :
                                  float(floor(sourceFracRow))));

            int sourceNearestCol = int(min(
                float(int(`+a+`) - 1),
                `+n+` ? float(round(sourceFracCol)) :
                                  float(floor(sourceFracCol))));

            if (r == sourceNearestRow && c == sourceNearestCol) {
              accumulator += getDy(b, dyR, dyC, d);
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `},EH=function(t,e,n,r){this.variableNames=["A"],this.outputShape=[];var o=t[0],a=t[1],s=t[2],u=t[3];this.outputShape=[o,e,n,u];var c=[r&&e>1?a-1:a,r&&n>1?s-1:s],f=[r&&e>1?e-1:e,r&&n>1?n-1:n],h=r?"0.5":"0.0";this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          `+c[0]/f[0]+`,
          `+c[1]/f[1]+`);
      const vec2 inputShapeRC = vec2(`+a+".0, "+s+`.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;

        // Compute the coordinators of nearest neighbor point.
        ivec2 sourceNearestRC = ivec2(
          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + `+h+`)));

        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);

        setOutput(newValue);
      }
    `},TH=function(t,e){this.variableNames=["x"];var n=t.length;if(n>4)throw new Error("WebGL backend: Reverse of rank-"+n+" tensor is not yet supported");if(this.outputShape=t,n!==1){var r=t.map(function(a,s){return function(u){return e.indexOf(u)!==-1&&t[u]!==1?t[u]+" - coords["+u+"] - 1":"coords["+u+"]"}(s)}).join(","),o=je(n);this.userCode=`
      void main() {
        `+o+` coords = getOutputCoords();
        setOutput(getX(`+r+`));
      }
    `}else this.userCode=`
        void main() {
          int coord = getOutputCoords();
          setOutput(getX(`+t[0]+` - coord - 1));
        }
      `},RH=function(t,e){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;var n=t.length;if(n>4)throw new Error("WebGL backend: Reverse of rank-"+n+" tensor is not yet supported");this.outputShape=t;var r=dr("rc",n),o=r[n-1]+" + 1 < "+this.outputShape[n-1],a=r[n-2]+" + 1 < "+this.outputShape[n-2],s=je(n);function u(c){var f=t.map(function(h,p){return function(v,g){return e.indexOf(v)!==-1&&t[v]!==1?t[v]+" - "+g[v]+" - 1":""+g[v]}(p,c)});return"getChannel(getX("+f.join(",")+"), vec2("+f.slice(-2).join(",")+"))"}this.userCode=n===1?`
        void main(){
          int rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = getChannel(getX(`+t[0]+` - rc - 1),
            `+t[0]+` - rc - 1);
          if(`+o+`){
              result.g = getChannel(getX(`+t[0]+` - (rc  + 1) - 1),
                `+t[0]+` - (rc  + 1) - 1);
          }
          setOutput(result);
        }
      `:`
        void main() {
          `+s+` rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = `+function(c){return u(c)}(r.slice())+`;
          if(`+o+`){
            result.g = `+function(c){return c[n-1]="("+c[n-1]+" + 1)",u(c)}(r.slice())+`;
          }
          if(`+a+`) {
            result.b = `+function(c){return c[n-2]="("+c[n-2]+" + 1)",u(c)}(r.slice())+`;
            if(`+o+`) {
              result.a = `+function(c){return c[n-1]="("+c[n-1]+" + 1)",c[n-2]="("+c[n-2]+" + 1)",u(c)}(r.slice())+`;
            }
          }
          setOutput(result);
        }
    `},rT=function(t,e,n,r,o,a,s){this.variableNames=["updates","indices","defaultValue"],this.outputShape=a;var u=je(o.length),c=je(a.length),f="";n===1?f="i":n===2&&(f="i, j");var h="getIndices("+f+")",p="";r===1?p="i":r===2&&(p="i, coords[1]");var v="getUpdates("+p+")",g=e>1?"strides[j]":"strides";this.userCode=`
        `+u+" strides = "+u+"("+o+`);

        void main() {
          `+c+` coords = getOutputCoords();
          float sum = 0.0;
          bool found = false;
          for (int i = 0; i < `+t+`; i++) {
            int flattenedIndex = 0;
            for (int j = 0; j < `+e+`; j++) {
              int index = round(`+h+`);
              flattenedIndex += index * `+g+`;
            }
            if (flattenedIndex == coords[0]) {
              sum += `+v+`;
              found = true;
            }
          }
          setOutput(mix(getDefaultValue(), sum, float(found)));
        }
      `},AH=function(t,e){this.variableNames=["x","segmentIds"];var n=t.windowSize,r=t.batchSize,o=t.inSize,a=t.numSegments,s=a*Math.ceil(o/n);this.outputShape=[r,s];var u=4*Math.floor(n/4),c=n%4,f=`
        sumValue += dot(values, segFilter);
    `,h="";o%n>0&&(h=`
        if (inIdx < 0 || inIdx >= `+o+`) {
          return initializationValue;
        }
      `);var p="";o%n>0&&(p=`
        if (inIdx < 0 || inIdx >= `+o+`) {
          return -1.0;
        }
      `),this.userCode=`
      const float initializationValue = 0.0;

      float getValue(int batch, int inIdx) {
        `+h+`
        return getX(batch, inIdx);
      }

      float getSegmentIdAtIndex(int inIdx) {
        `+p+`
        return getSegmentIds(inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = int(floor(float(outIdx) / float(
          `+a+")) * float("+n+`));
        int currentSeg = int(mod(float(outIdx), float(`+a+`)));

        float sumValue = 0.0;

        for (int i = 0; i < `+u+`; i += 4) {
          int inIdx = inOffset + i;
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0
          );

          `+f+`
        }

        int inIdx = inOffset + `+u+`;
        if (`+(c===1)+`) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            0,
            0,
            0
          );

          `+f+`
        } else if (`+(c===2)+`) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
              0,
              0
          );

          `+f+`
        } else if (`+(c===3)+`) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            0
          );

          `+f+`
        }
        setOutput(sumValue);
      }
    `},_H=function(t,e,n){var r,o;if(this.variableNames=["c","a","b"],this.outputShape=e,n>4)throw Error("Where for rank "+n+" is not yet supported");if(n===1)o="resRC",r="resRC";else{for(var a=["resRC.x","resRC.y","resRC.z","resRC.w"],s=[],u=[],c=0;c<e.length;c++)u.push(""+a[c]),c<t&&s.push(""+a[c]);r=s.join(),o=u.join()}var f=je(n);this.userCode=`
      void main() {
        `+f+` resRC = getOutputCoords();
        float cVal = getC(`+r+`);
        if (cVal >= 1.0) {
          setOutput(getA(`+o+`));
        } else {
          setOutput(getB(`+o+`));
        }
      }
    `},DH=function(){function t(e){this.variableNames=["source"],this.outputShape=e,this.rank=e.length;var n,r=je(this.rank),o="uniform int start["+this.rank+"];",a=function(s){if(s===1)return"sourceLoc";if(s<=6)return ty.slice(0,s).map(function(u){return"sourceLoc."+u}).join(",");throw Error("Slicing for rank "+s+" is not yet supported")}(this.rank);n=`
        `+r+` sourceLoc;
        `+r+` coords = getOutputCoords();
        `+e.map(function(s,u){return"sourceLoc."+ty[u]+" = start["+u+"] + coords."+ty[u]+";"}).join(`
`)+`
      `,this.userCode=`
      `+o+`
      void main() {
        `+n+`
        setOutput(getSource(`+a+`));
      }
    `}return t.prototype.getCustomSetupFunc=function(e){var n=this;if(e.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+e.length+")");return function(r,o){n.startLoc==null&&(n.startLoc=r.getUniformLocationNoThrow(o,"start"),n.startLoc==null)||r.gl.uniform1iv(n.startLoc,e)}},t}(),ty=["x","y","z","w","u","v"],kH=function(){function t(e){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.rank=e.length;var n=je(this.rank),r=dr("coords",this.rank),o=dr("sourceLoc",this.rank),a=this.rank===1?"sourceLoc":"vec2("+o.slice(-2).join()+")",s="getChannel(getSource("+o.join()+"), "+a+")",u=`
      result.x = `+s+`;
      if (++`+r[this.rank-1]+" < "+e[this.rank-1]+`) {
        ++`+o[this.rank-1]+`;
        result.y = `+s+`;
        --`+o[this.rank-1]+`;
      }
    `,c=this.rank===1?"":`
      --`+r[this.rank-1]+`;
      if (++`+r[this.rank-2]+" < "+e[this.rank-2]+`) {
        ++`+o[this.rank-2]+`;
        result.z = `+s+`;
        if (++`+r[this.rank-1]+" < "+e[this.rank-1]+`) {
          ++`+o[this.rank-1]+`;
          result.w = `+s+`;
        }
      }
    `,f=this.rank<=4?`sourceLoc = coords +
            `+n+"("+e.map(function(h,p){return"start["+p+"]"}).join()+");":e.map(function(h,p){return o[p]+" = "+r[p]+" + start["+p+"];"}).join(`
`);this.userCode=`
      uniform int start[`+this.rank+`];
      void main() {
        `+n+` coords = getOutputCoords();
        `+n+` sourceLoc;
        `+f+`
        vec4 result = vec4(0.);
        `+u+`
        `+c+`
        setOutput(result);
      }
    `}return t.prototype.getCustomSetupFunc=function(e){var n=this;if(e.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+e.length+")");return function(r,o){n.startLoc==null&&(n.startLoc=r.getUniformLocationNoThrow(o,"start"),n.startLoc==null)||r.gl.uniform1iv(n.startLoc,e)}},t}(),MH=function(t,e,n){this.variableNames=["x"],this.outputShape=n;var r=n.length,o=je(n.length),a=je(n.length),s="";if(r===1)s="coords * strides + begin";else{var u=0;s=n.map(function(c,f){return u++,n.length===1?"coords * strides["+f+"] + begin["+f+"]":"coords["+(u-1)+"] * strides["+f+"] + begin["+f+"]"}).join(",")}this.userCode=`
      `+o+" begin = "+o+"("+t+`);
      `+o+" strides = "+o+"("+e+`);

      void main() {
        `+a+` coords = getOutputCoords();
        setOutput(getX(`+s+`));
      }
    `},NH=function(){function t(e){this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}return t.prototype.acquireTexture=function(e,n,r){var o,a=oT(n,r),s=aT(e,a,r);if(s in this.freeTextures||(this.freeTextures[s]=[]),s in this.usedTextures||(this.usedTextures[s]=[]),this.freeTextures[s].length>0){this.numFreeTextures--,this.numUsedTextures++,this.log();var u=this.freeTextures[s].shift();return this.usedTextures[s].push(u),u}return this.numUsedTextures++,this.log(),a===Dr.PACKED_2X2_FLOAT32?o=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):a===Dr.PACKED_2X2_FLOAT16?o=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):a===Dr.UNPACKED_FLOAT32?o=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):a===Dr.UNPACKED_FLOAT16?o=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):a===Dr.PACKED_4X1_UNSIGNED_BYTE&&(o=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[s].push(o),o},t.prototype.releaseTexture=function(e,n,r,o){if(this.freeTextures!=null){var a=aT(n,oT(r,o),o);a in this.freeTextures||(this.freeTextures[a]=[]),this.freeTextures[a].push(e),this.numFreeTextures++,this.numUsedTextures--;var s=this.usedTextures[a],u=s.indexOf(e);if(u<0)throw new Error("Cannot release a texture that was never provided by this texture manager");s.splice(u,1),this.log()}},t.prototype.log=function(){if(this.logEnabled){var e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",this.numFreeTextures+" / "+this.numUsedTextures,"("+e+")")}},t.prototype.getNumUsedTextures=function(){return this.numUsedTextures},t.prototype.getNumFreeTextures=function(){return this.numFreeTextures},t.prototype.dispose=function(){var e=this;if(this.freeTextures!=null){for(var n in this.freeTextures)this.freeTextures[n].forEach(function(r){e.gpgpu.deleteMatrixTexture(r)});for(var n in this.usedTextures)this.usedTextures[n].forEach(function(o){e.gpgpu.deleteMatrixTexture(o)});this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0}},t}();function oT(t,e){if(t===Mr.UPLOAD)return Dr.PACKED_2X2_FLOAT32;if(t===Mr.RENDER||t==null)return function(n){return ft().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?n?Dr.PACKED_2X2_FLOAT32:Dr.UNPACKED_FLOAT32:n?Dr.PACKED_2X2_FLOAT16:Dr.UNPACKED_FLOAT16}(e);if(t===Mr.DOWNLOAD||t===Mr.PIXELS)return Dr.PACKED_4X1_UNSIGNED_BYTE;throw new Error("Unknown logical texture type "+t)}function aT(t,e,n){return t[0]+"_"+t[1]+"_"+e+"_"+n}var OH=function(t,e){this.variableNames=["A"];for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t[r]*e[r];this.outputShape=n,this.rank=n.length;var o=je(this.rank),a=function(s){var u=s.length;if(u>5)throw Error("Tile for rank "+u+" is not yet supported");if(u===1)return"imod(resRC, "+s[0]+")";for(var c=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],f=[],h=0;h<s.length;h++)f.push("imod("+c[h]+", "+s[h]+")");return f.join()}(t);this.userCode=`
      void main() {
        `+o+` resRC = getOutputCoords();
        setOutput(getA(`+a+`));
      }
    `},PH=function(t,e){this.variableNames=["A"];for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t[e[r]];this.outputShape=n,this.rank=n.length;var o=je(this.rank),a=function(s){var u=s.length;if(u>6)throw Error("Transpose for rank "+u+" is not yet supported");for(var c=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],f=new Array(u),h=0;h<s.length;h++)f[s[h]]=c[h];return f.join()}(e);this.userCode=`
    void main() {
      `+o+` resRC = getOutputCoords();
      setOutput(getA(`+a+`));
    }
    `},IH=function(t,e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t[e[r]];if(this.outputShape=n,this.rank=n.length,this.rank>6)throw Error("Packed transpose for rank "+this.rank+" is not yet supported.");var o=je(this.rank),a=mD("rc",this.rank),s=new Array(this.rank);for(r=0;r<e.length;r++)s[e[r]]=a[r];var u="vec2("+s.slice(-2).join()+")",c="++"+a[this.rank-1]+" < "+n[this.rank-1],f="getChannel(getA("+s.join()+"), "+u+")";this.userCode=`
    void main() {
      `+o+` rc = getOutputCoords();
      vec4 result = vec4(0.);
      result[0] = `+f+`;
      if(`+c+`) {
        result[1] = `+f+`;
      }
      --`+a[this.rank-1]+`;
      if(++`+a[this.rank-2]+" < "+n[this.rank-2]+`) {
        result[2] = `+f+`;
        if(`+c+`) {
          result[3] = `+f+`;
        }
      }
      setOutput(result);
    }
    `},Hb=1.7580993408473768,Gb=1.0507009873554805,ne=function(t,e){this.variableNames=["A"],this.outputShape=t,this.userCode=`
      float unaryOperation(float x) {
        `+e+`
      }

      void main() {
        float x = getAAtOutCoords();
        float y = unaryOperation(x);

        setOutput(y);
      }
    `},bo="if (isnan(x)) return x;",BH="return x;",iT="return abs(x);",xD=bo+`
  return (x < 0.0) ? 0.0 : x;
`,wD=bo+`
  return (x < 0.0) ? 0.0 : min(6.0, x);
`,SD="return (x >= 0.0) ? x : (exp(x) - 1.0);",FH=`
  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.
  // see: https://arxiv.org/abs/1706.02515
  float scaleAlpha = `+Hb+`;
  float scale = `+Gb+`;
  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);
`,sT="return -x;",uT="return ceil(x);",lT="return floor(x);",cT="return exp(x);",fT="return exp(x) - 1.0;",LH=bo+`
  return sin(x);
`,zH=bo+`
  return cos(x);
`,VH=bo+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return asin(x);
`,UH=bo+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return acos(x);
`,jH=bo+`
  return atan(x);
`,WH=bo+"return log(x + sqrt(x * x + 1.0));",HH=bo+`
  if (x < 1.0) return NAN;
  return log(x + sqrt(x * x - 1.0));`,GH=bo+`
  if ((x < -1.0) || (x > 1.0)) return NAN;
  return (log(1.0 + x) - log(1.0 - x)) / 2.0;`,oh="return x;",$H="return x;",CD=`
  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,ED=`
  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,TD=`
  vec4 result;

  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);
  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);
  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);
  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);

  return result;
`,xc=function(t,e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.userCode=`
      vec4 unaryOperation(vec4 x) {
        `+e+`
      }

      void main() {
        vec4 x = getAAtOutCoords();
        vec4 y = unaryOperation(x);

        setOutput(y);
      }
    `},qH=function(t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=t;var e=t.length,n=dr("rc",e),r=je(e),o=function(u,c){if(u===1)return"rc";for(var f="",h=0;h<u;h++)f+=c[h],h<u-1&&(f+=",");return f}(e,n),a=n.slice(-2),s=e<=1?"rc":"vec2("+a.join(",")+")";this.userCode=`
      void main() {
        `+r+` rc = getOutputCoords();
        vec4 packedInput = getA(`+o+`);

        setOutput(getChannel(packedInput, `+s+`));
      }
    `},ah={};function ih(t,e){if(e===void 0&&(e=!1),t==="linear")return e?$H:BH;if(t==="relu")return e?CD:xD;if(t==="elu")return e?TD:SD;if(t==="relu6")return e?ED:wD;if(t==="prelu")return e?bD:yD;throw new Error("Activation "+t+" has not been implemented for the WebGL backend.")}var KH=600,XH=function(t){function e(n){var r,o=t.call(this)||this;if(o.pendingRead=new WeakMap,o.pendingDisposal=new WeakSet,o.dataRefCount=new WeakMap,o.numBytesInGPU=0,o.uploadWaitMs=0,o.downloadWaitMs=0,o.warnedAboutMemory=!1,o.pendingDeletes=0,o.disposed=!1,!ft().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");if(n==null){var a=Jo(ft().getNumber("WEBGL_VERSION"));o.binaryCache=((r=ft().getNumber("WEBGL_VERSION"))in ah||(ah[r]={}),ah[r]),o.gpgpu=new iH(a),o.canvas=a.canvas,o.gpgpuCreatedLocally=!0}else o.gpgpu=n,o.binaryCache={},o.gpgpuCreatedLocally=!1,o.canvas=n.gl.canvas;return o.textureManager=new NH(o.gpgpu),o.numMBBeforeWarning=ft().global.screen==null?1024:ft().global.screen.height*ft().global.screen.width*window.devicePixelRatio*KH/1024/1024,o.texData=new iD(o,J),o}return yo(e,t),e.prototype.numDataIds=function(){return this.texData.numDataIds()+(this.cpuBackend?this.cpuBackend.numDataIds():0)-this.pendingDeletes},e.prototype.write=function(n,r,o){if(ft().getBool("DEBUG")&&this.checkNumericalProblems(n),o==="complex64"&&n!=null)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");var a={};return this.texData.set(a,{shape:r,dtype:o,values:n,usage:Mr.UPLOAD}),a},e.prototype.move=function(n,r,o,a){if(ft().getBool("DEBUG")&&this.checkNumericalProblems(r),a==="complex64")throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(n,{shape:o,dtype:a,values:r,usage:Mr.UPLOAD})},e.prototype.readSync=function(n){var r=this.texData.get(n),o=r.values,a=r.dtype,s=r.complexTensors,u=r.slice,c=r.shape,f=r.isPacked;if(u!=null){var h=void 0;h=f?new xc(c,oh):new ne(c,oh);var p=this.runWebGLProgram(h,[{dataId:n,shape:c,dtype:a}],a),v=this.readSync(p.dataId);return this.disposeData(p.dataId),v}if(o!=null)return this.convertAndCacheOnCPU(n);if(a==="string")return o;var g,y,x=this.activeTimers!=null;return x&&(g=No()),a==="complex64"?y=c0(s.real.dataSync(),s.imag.dataSync()):y=this.getValuesFromTexture(n),x&&(this.downloadWaitMs+=No()-g),this.convertAndCacheOnCPU(n,y)},e.prototype.read=function(n){return Mt(this,void 0,void 0,function(){var r,o,a,s,u,c,f,h,p,v,g,y,x,w,S,A,E,T,R,_,M,k;return Nt(this,function(N){switch(N.label){case 0:if(this.pendingRead.has(n))return r=this.pendingRead.get(n),[2,new Promise(function(I){return r.push(I)})];if(o=this.texData.get(n),a=o.values,s=o.shape,u=o.slice,c=o.dtype,f=o.complexTensors,h=o.isPacked,u!=null)return p=void 0,p=h?new xc(s,oh):new ne(s,oh),v=this.runWebGLProgram(p,[{dataId:n,shape:s,dtype:c}],c),g=this.read(v.dataId),this.disposeData(v.dataId),[2,g];if(a!=null)return[2,this.convertAndCacheOnCPU(n)];if(!ft().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&ft().getNumber("WEBGL_VERSION")===2)throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");return y=null,c!=="complex64"&&ft().get("WEBGL_BUFFER_SUPPORTED")&&(x=this.decode(n),w=this.texData.get(x.dataId),y=(k=this.gpgpu).createBufferFromTexture.apply(k,[w.texture].concat(Nc(s)))),this.pendingRead.set(n,[]),c==="complex64"?[3,2]:[4,this.gpgpu.createAndWaitForFence()];case 1:N.sent(),N.label=2;case 2:return c!=="complex64"?[3,4]:[4,Promise.all([f.real.data(),f.imag.data()])];case 3:return A=N.sent(),E=A[0],T=A[1],S=c0(E,T),[3,5];case 4:y==null?S=this.getValuesFromTexture(n):(R=Ot(s),S=this.gpgpu.downloadFloat32MatrixFromBuffer(y,R)),N.label=5;case 5:return x!=null&&this.disposeData(x.dataId),_=this.convertAndCacheOnCPU(n,S),M=this.pendingRead.get(n),this.pendingRead.delete(n),M.forEach(function(I){return I(_)}),this.pendingDisposal.has(n)&&(this.pendingDisposal.delete(n),this.disposeData(n),this.pendingDeletes--),[2,_]}})})},e.prototype.checkNumericalProblems=function(n){if(n!=null)for(var r=0;r<n.length;r++){var o=n[r];if(!FU(o))throw ft().getBool("WEBGL_RENDER_FLOAT32_CAPABLE")?Error("The value "+o+" cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'"):Error("The value "+o+" cannot be represented on this device.")}},e.prototype.getValuesFromTexture=function(n){var r,o=this.texData.get(n),a=o.shape,s=o.dtype,u=o.isPacked,c=Ot(a);if(ft().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){var f=this.decode(n),h=this.texData.get(f.dataId),p=(r=this.gpgpu).downloadMatrixFromPackedTexture.apply(r,[h.texture].concat(Nc(a))).subarray(0,c);return this.disposeData(f.dataId),p}var v=ft().getBool("WEBGL_PACK")&&u===!0,g=v?qg(a):a,y=v?new BW(g):new IW(g),x=this.runWebGLProgram(y,[{shape:g,dtype:s,dataId:n}],"float32"),w=this.texData.get(x.dataId),S=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(w.texture,w.texShape[0],w.texShape[1]).subarray(0,c);return this.disposeData(x.dataId),S},e.prototype.time=function(n){return Mt(this,void 0,void 0,function(){var r,o,a,s,u,c,f;return Nt(this,function(h){switch(h.label){case 0:return r=this.activeTimers,o=[],a=!1,this.programTimersStack==null?(this.programTimersStack=o,a=!0):this.activeTimers.push(o),this.activeTimers=o,n(),s=$u(this.activeTimers.map(function(p){return p.query})).filter(function(p){return p!=null}),u=$u(this.activeTimers.map(function(p){return p.name})).filter(function(p){return p!=null}),this.activeTimers=r,a&&(this.programTimersStack=null),c={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null},ft().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?[4,Promise.all(s)]:[3,2];case 1:return f=h.sent(),c.kernelMs=gU(f),c.getExtraProfileInfo=function(){return f.map(function(p,v){return{name:u[v],ms:p}}).map(function(p){return p.name+": "+p.ms}).join(", ")},[3,3];case 2:c.kernelMs={error:"WebGL query timers are not supported in this environment."},h.label=3;case 3:return this.uploadWaitMs=0,this.downloadWaitMs=0,[2,c]}})})},e.prototype.memory=function(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU}},e.prototype.startTimer=function(){return ft().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:No(),endMs:null}},e.prototype.endTimer=function(n){return ft().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),n):(n.endMs=No(),n)},e.prototype.getQueryTime=function(n){return Mt(this,void 0,void 0,function(){var r;return Nt(this,function(o){return ft().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?[2,this.gpgpu.waitForQueryAndGetTime(n)]:[2,(r=n).endMs-r.startMs]})})},e.prototype.disposeData=function(n){if(!this.pendingDisposal.has(n)){if(this.pendingRead.has(n))return this.pendingDisposal.add(n),void this.pendingDeletes++;if(this.texData.has(n)){this.releaseGPUData(n);var r=this.texData.get(n).complexTensors;r!=null&&(r.real.dispose(),r.imag.dispose()),this.texData.delete(n)}}},e.prototype.releaseGPUData=function(n){var r=this.texData.get(n),o=r.texture,a=r.dtype,s=r.texShape,u=r.usage,c=r.isPacked,f=r.slice,h=f&&f.origDataId||n,p=this.dataRefCount.get(h);p>1?this.dataRefCount.set(h,p-1):(this.dataRefCount.delete(h),o!=null&&(this.numBytesInGPU-=this.computeBytes(s,a),this.textureManager.releaseTexture(o,s,u,c)));var v=this.texData.get(n);v.texture=null,v.texShape=null,v.isPacked=!1,v.slice=null},e.prototype.getTexture=function(n){return this.uploadToGPU(n),this.texData.get(n).texture},e.prototype.getDataInfo=function(n){return this.texData.get(n)},e.prototype.getCPUBackend=function(){return ft().getBool("WEBGL_CPU_FORWARD")?(this.cpuBackend==null&&(this.cpuBackend=J.findBackend("cpu")),this.cpuBackend):null},e.prototype.shouldExecuteOnCPU=function(n,r){var o=this;return r===void 0&&(r=128),this.getCPUBackend()!=null&&n.every(function(a){return o.texData.get(a.dataId).texture==null&&a.size<r})},e.prototype.getGPGPUContext=function(){return this.gpgpu},e.prototype.complex=function(n,r){var o=this.makeOutput(n.shape,"complex64");return this.texData.get(o.dataId).complexTensors={real:J.keep(n.clone()),imag:J.keep(r.clone())},o},e.prototype.real=function(n){return this.texData.get(n.dataId).complexTensors.real.clone()},e.prototype.imag=function(n){return this.texData.get(n.dataId).complexTensors.imag.clone()},e.prototype.slice=function(n,r,o){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.slice(n,r,o);if(Ot(o)===0)return Un([],o,n.dtype);var a=this.texData.get(n.dataId).isPacked,s=oD(n.shape,r,o);if(a||!s){var u=ft().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new kH(o):new DH(o),c=u.getCustomSetupFunc(r);return this.compileAndRun(u,[n],null,c)}return this.uploadToGPU(n.dataId),this.shallowSlice(n,r,o)},e.prototype.shallowSlice=function(n,r,o){var a=this.texData.get(n.dataId),s=this.makeOutput(o,n.dtype),u=this.texData.get(s.dataId);Object.assign(u,a),u.shape=o,u.dtype=n.dtype;var c=aD(r,n.strides);a.slice&&(c+=a.slice.flatOffset),u.slice={flatOffset:c,origDataId:a.slice&&a.slice.origDataId||n.dataId};var f=this.dataRefCount.get(u.slice.origDataId)||1;return this.dataRefCount.set(u.slice.origDataId,f+1),s},e.prototype.stridedSlice=function(n,r,o,a){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.stridedSlice(n,r,o,a);var s=Lb(r,o,a);if(s.some(function(c){return c===0}))return Un([],s);var u=new MH(r,a,s);return this.compileAndRun(u,[n])},e.prototype.reverse=function(n,r){var o=ft().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new RH(n.shape,r):new TH(n.shape,r);return this.compileAndRun(o,[n])},e.prototype.concat=function(n,r){if(n[0].dtype==="complex64"){var o=n.map(function(g){return Qr(g)}),a=n.map(function(g){return Io(g)});return Ln(this.concat(o,r),this.concat(a,r))}if(this.shouldExecuteOnCPU(n))return this.cpuBackend.concat(n,r);if(n.length===1)return n[0];if(n.length>ft().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){var s=Math.floor(n.length/2),u=this.concat(n.slice(0,s),r),c=this.concat(n.slice(s),r);return this.concat([u,c],r)}if(ft().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&n[0].rank>1){var f=new wW(n.map(function(g){return g.shape}),r);return this.compileAndRun(f,n)}var h=Ku(n.map(function(g){return g.shape}),r),p=n.map(function(g){return g.as2D(-1,Ot(g.shape.slice(r)))}),v=new xW(p.map(function(g){return g.shape}));return this.compileAndRun(v,p).reshape(h)},e.prototype.neg=function(n){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.neg(n);if(ft().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(n,sT,n.dtype);var r=new ne(n.shape,sT);return this.compileAndRun(r,[n])},e.prototype.batchMatMul=function(n,r,o,a){var s=o?n.shape[2]:n.shape[1],u=a?r.shape[1]:r.shape[2],c=o?n.shape[1]:n.shape[2],f=n.shape[0];if((s===1||u===1)&&c>1e3){o&&(n=n.transpose([0,2,1])),a&&(r=r.transpose([0,2,1]));var h=u===1?n:n.as3D(f,c,1),p=u===1?2:1,v=u===1?r.as3D(f,1,c):r;return this.multiply(h,v).sum(p,!0)}var g=zn(n.dtype,r.dtype),y=new Qg(n.shape,[f,s,u],o,a);return this.compileAndRun(y,[n,r],g)},e.prototype.fusedBatchMatMul=function(n){var r=n.a,o=n.b,a=n.transposeA,s=n.transposeB,u=n.bias,c=n.activation,f=n.preluActivationWeights,h=a?r.shape[2]:r.shape[1],p=s?o.shape[1]:o.shape[2],v=r.shape[0],g=zn(r.dtype,o.dtype),y=u!=null,x=f!=null,w=c?ih(c,!0):null,S=new Qg(r.shape,[v,h,p],a,s,y,w,x),A=[r,o];return u&&A.push(u),f&&A.push(f),this.compileAndRun(S,A,g)},e.prototype.multiply=function(n,r){if(n.dtype==="complex64"){var o=this.texData.get(n.dataId),a=this.texData.get(r.dataId),s=new XE(mW,n.shape,r.shape),u=new XE(vW,n.shape,r.shape),c=[this.makeComplexComponentTensorInfo(n,o.complexTensors.real),this.makeComplexComponentTensorInfo(n,o.complexTensors.imag),this.makeComplexComponentTensorInfo(r,a.complexTensors.real),this.makeComplexComponentTensorInfo(r,a.complexTensors.imag)],f=this.compileAndRun(s,c),h=this.compileAndRun(u,c),p=this.complex(f,h);return f.dispose(),h.dispose(),p}if(this.shouldExecuteOnCPU([n,r]))return this.cpuBackend.multiply(n,r);if(ft().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,YE,n.dtype);var v=new rn(YE,n.shape,r.shape);return this.compileAndRun(v,[n,r],n.dtype)},e.prototype.batchNormalization=function(n,r,o,a,s,u){var c=[n,r,o],f=null;u!=null&&(f=u.shape,c.push(u));var h=null;if(s!=null&&(h=s.shape,c.push(s)),ft().getBool("WEBGL_PACK_NORMALIZATION")){var p=new pW(n.shape,r.shape,o.shape,f,h,a);return this.compileAndRun(p,c)}var v=new hW(n.shape,r.shape,o.shape,f,h,a);return this.compileAndRun(v,c)},e.prototype.localResponseNormalization4D=function(n,r,o,a,s){var u=ft().getBool("WEBGL_PACK_NORMALIZATION")?new cH(n.shape,r,o,a,s):new uH(n.shape,r,o,a,s);return this.compileAndRun(u,[n])},e.prototype.LRNGrad=function(n,r,o,a,s,u,c){var f=new lH(r.shape,a,s,u,c);return this.compileAndRun(f,[r,o,n])},e.prototype.tile=function(n,r){if(n.dtype==="string"){var o=this.readSync(n.dataId).map(function(s){return qh(s)});return hD(Yt(n.shape,n.dtype,o),r)}var a=new OH(n.shape,r);return this.compileAndRun(a,[n])},e.prototype.pad=function(n,r,o){var a=ft().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new gH(n.shape,r,o):new vH(n.shape,r,o);return this.compileAndRun(a,[n])},e.prototype.transpose=function(n,r){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.transpose(n,r);var o=ft().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new IH(n.shape,r):new PH(n.shape,r);return this.compileAndRun(o,[n])},e.prototype.gather=function(n,r,o){if(this.shouldExecuteOnCPU([n,r]))return this.cpuBackend.gather(n,r,o);var a=new jW(n.shape,r.size,o);return this.compileAndRun(a,[n,r])},e.prototype.batchToSpaceND=function(n,r,o){G(n.rank<=4,function(){return"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet"});var a=r.reduce(function(p,v){return p*v}),s=Jh(n.shape,r,a),u=tp(s.length,r.length),c=ep(n.shape,r,a),f=tD(o,r.length),h=eD(c,o,r.length);return n.reshape(s).transpose(u).reshape(c).slice(f,h)},e.prototype.spaceToBatchND=function(n,r,o){G(n.rank<=4,function(){return"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet"});var a=r.reduce(function(v,g){return v*g}),s=[[0,0]];s.push.apply(s,o);for(var u=1+r.length;u<n.shape.length;++u)s.push([0,0]);var c=n.pad(s),f=Jh(c.shape,r,a,!1),h=tp(f.length,r.length,!1),p=ep(c.shape,r,a,!1);return c.reshape(f).transpose(h).reshape(p)},e.prototype.reduce=function(n,r,o){var a=n.shape[0],s=n.shape[1],u=Kg(s),c=new yH({windowSize:u,inSize:s,batchSize:a},r),f=this.compileAndRun(c,[n],o);return f.shape[1]===1?f:this.reduce(f,r,o)},e.prototype.argReduce=function(n,r,o){o===void 0&&(o=null);var a=n.shape[0],s=n.shape[1];o!=null&&(a=o.shape[0],s=o.shape[1]);var u=Kg(s),c=new oW({windowSize:u,inSize:s,batchSize:a},r,o==null),f=[n];o!=null&&f.push(o);var h=this.compileAndRun(c,f,"int32");return h.shape[1]===1?h:this.argReduce(n,r,h)},e.prototype.argReducePacked=function(n,r,o){o===void 0&&(o=null);var a=o!=null?o.shape:n.shape,s=Kg(a[a.length-1]),u=new cW(a,s,r,o==null),c=o==null?[n]:[n,o],f=this.compileAndRun(u,c,"int32");return f.rank===n.rank?this.argReducePacked(n,r,f):f},e.prototype.sum=function(n,r){_r("sum",r,n.rank);var o=qn(n.shape,r),a=o[0],s=Ot(o[1]),u=n.as2D(-1,s),c=Vg(n.dtype);return this.reduce(u,"sum",c).reshape(a)},e.prototype.prod=function(n,r){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.prod(n,r);var o=qn(n.shape,r),a=o[0],s=Ot(o[1]),u=n.as2D(-1,s),c=Vg(n.dtype);return this.reduce(u,"prod",c).reshape(a)},e.prototype.unsortedSegmentSum=function(n,r,o){var a=0,s=ta([a],n.rank),u=n;s!=null&&(u=n.transpose(s),a=ea(1,n.rank)[0]);var c=function(g,y,x){for(var w=[],S=g.length,A=0;A<S;A++)A!==y?w.push(g[A]):w.push(x);return w}(u.shape,a,o),f=Ot([u.shape[a]]),h=u.as2D(-1,f),p=Vg(n.dtype),v=this.segOpCompute(h,"unsortedSegmentSum",r,p,o).reshape(c);return s!=null&&(v=v.transpose(Pb(s))),v},e.prototype.segOpCompute=function(n,r,o,a,s){var u=n.shape[0],c=n.shape[1],f=function(v,g){var y,x=!1;for(v<=rD?(y=v,x=!0):y=e0(v,Math.floor(Math.sqrt(v)));!x;)y>g||y===v?x=!0:y=e0(v,y+1);return y}(c,s),h=new AH({windowSize:f,inSize:c,batchSize:u,numSegments:s}),p=this.compileAndRun(h,[n,o],a);return p.shape[1]===s?p:(o=Zh(0,s).tile([c/f]),this.segOpCompute(p,r,o,a,s))},e.prototype.argMinMaxReduce=function(n,r,o){var a=[r];if(_r("arg"+o.charAt(0).toUpperCase()+o.slice(1),a,n.rank),!ft().getBool("WEBGL_PACK_REDUCE")||n.rank<=2){var s=qn(n.shape,a),u=s[0],c=Ot(s[1]),f=n.as2D(-1,c);return this.argReduce(f,o).reshape(u)}return this.argReducePacked(n,o)},e.prototype.argMin=function(n,r){return this.argMinMaxReduce(n,r,"min")},e.prototype.argMax=function(n,r){return this.argMinMaxReduce(n,r,"max")},e.prototype.cumsum=function(n,r,o,a){if(r!==n.rank-1)throw new Error("WebGL cumsum shader expects an inner-most axis="+(n.rank-1)+" but got axis="+r);var s=new kW(n.shape,o,a);return this.compileAndRun(s,[n])},e.prototype.equal=function(n,r){if(ft().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  return vec4(equal(a, b));
`,"bool");var o=new rn("return float(a == b);",n.shape,r.shape);return this.compileAndRun(o,[n,r],"bool")},e.prototype.notEqual=function(n,r){if(ft().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  return vec4(notEqual(a, b));
`,"bool");var o=new rn("return float(a != b);",n.shape,r.shape);return this.compileAndRun(o,[n,r],"bool")},e.prototype.less=function(n,r){if(this.shouldExecuteOnCPU([n,r]))return this.cpuBackend.less(n,r);if(ft().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  return vec4(lessThan(a, b));
`,"bool");var o=new rn("return float(a < b);",n.shape,r.shape);return this.compileAndRun(o,[n,r],"bool")},e.prototype.lessEqual=function(n,r){if(ft().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  return vec4(lessThanEqual(a, b));
`,"bool");var o=new rn("return float(a <= b);",n.shape,r.shape);return this.compileAndRun(o,[n,r],"bool")},e.prototype.greater=function(n,r){if(this.shouldExecuteOnCPU([n,r]))return this.cpuBackend.greater(n,r);if(ft().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  return vec4(greaterThan(a, b));
`,"bool");var o=new rn("return float(a > b);",n.shape,r.shape);return this.compileAndRun(o,[n,r],"bool")},e.prototype.greaterEqual=function(n,r){if(ft().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  return vec4(greaterThanEqual(a, b));
`,"bool");var o=new rn("return float(a >= b);",n.shape,r.shape);return this.compileAndRun(o,[n,r],"bool")},e.prototype.logicalNot=function(n){var r=new ne(n.shape,"return float(!(x >= 1.0));");return this.compileAndRun(r,[n])},e.prototype.logicalAnd=function(n,r){if(ft().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  return vec4(
    vec4(greaterThanEqual(a, vec4(1.0))) *
    vec4(greaterThanEqual(b, vec4(1.0))));
`,"bool");var o=new rn("return float(a >= 1.0 && b >= 1.0);",n.shape,r.shape);return this.compileAndRun(o,[n,r],"bool")},e.prototype.logicalOr=function(n,r){if(ft().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  return min(
    vec4(greaterThanEqual(a, vec4(1.0))) +
    vec4(greaterThanEqual(b, vec4(1.0))),
    vec4(1.0));
`,"bool");var o=new rn("return float(a >= 1.0 || b >= 1.0);",n.shape,r.shape);return this.compileAndRun(o,[n,r],"bool")},e.prototype.select=function(n,r,o){var a=new _H(n.rank,r.shape,r.rank);return this.compileAndRun(a,[n,r,o],zn(r.dtype,o.dtype))},e.prototype.where=function(n){Yh("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");var r=n.dataSync();return jb(n.shape,r)},e.prototype.topk=function(n,r,o){return pD(n.dataSync(),n.shape,n.dtype,r)},e.prototype.min=function(n,r){_r("min",r,n.rank);var o=qn(n.shape,r),a=o[0],s=Ot(o[1]),u=n.as2D(-1,s);return this.reduce(u,"min",u.dtype).reshape(a)},e.prototype.minimum=function(n,r){if(this.shouldExecuteOnCPU([n,r]))return this.cpuBackend.minimum(n,r);var o=ft().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new wa(`
  vec4 result = vec4(min(a, b));
  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,n.shape,r.shape):new rn(`
  if (isnan(a)) return a;
  if (isnan(b)) return b;

  return min(a, b);
`,n.shape,r.shape);return this.compileAndRun(o,[n,r])},e.prototype.mod=function(n,r){var o=ft().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new wa(`
  vec4 result = mod(a, b);
  vec4 isNaN = vec4(equal(b, vec4(0.0)));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,n.shape,r.shape):new rn(`if (b == 0.0) return NAN;
  return mod(a, b);`,n.shape,r.shape);return this.compileAndRun(o,[n,r])},e.prototype.max=function(n,r){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.max(n,r);_r("max",r,n.rank);var o=qn(n.shape,r),a=o[0],s=Ot(o[1]),u=n.as2D(-1,s);return this.reduce(u,"max",u.dtype).reshape(a)},e.prototype.maximum=function(n,r){if(this.shouldExecuteOnCPU([n,r]))return this.cpuBackend.maximum(n,r);var o=ft().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new wa(`
  vec4 result = vec4(max(a, b));
  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,n.shape,r.shape):new rn(`
  if (isnan(a)) return a;
  if (isnan(b)) return b;

  return max(a, b);
`,n.shape,r.shape);return this.compileAndRun(o,[n,r])},e.prototype.all=function(n,r){_r("all",r,n.rank);var o=qn(n.shape,r),a=o[0],s=Ot(o[1]),u=n.as2D(-1,s);return this.reduce(u,"all",u.dtype).reshape(a)},e.prototype.any=function(n,r){_r("any",r,n.rank);var o=qn(n.shape,r),a=o[0],s=Ot(o[1]),u=n.as2D(-1,s);return this.reduce(u,"any",u.dtype).reshape(a)},e.prototype.realDivide=function(n,r){if(ft().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  // vec4 one = vec4(equal(a, b));
  // return one + (vec4(1.0) - one) * a / b;
  vec4 result = a / b;
  if(a.x == b.x) {
    result.x = 1.;
  }
  if(a.y == b.y) {
    result.y = 1.;
  }
  if(a.z == b.z) {
    result.z = 1.;
  }
  if(a.w == b.w) {
    result.w = 1.;
  }

  return result;
`,"float32",!0);var o=new rn(`
if (a == b) {
  return 1.0;
};
return a / b;`,n.shape,r.shape);return this.compileAndRun(o,[n,r],"float32")},e.prototype.floorDiv=function(n,r){if(ft().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  ivec4 ia = round(a);
  ivec4 ib = round(b);
  bvec4 cond = notEqual(ib, ivec4(0));
  ivec4 result = ivec4(0);
  vec4 s = sign(a) * sign(b);

  // Windows (D3D) wants guaranteed non-zero int division at compile-time.
  if (cond[0]) {
    result[0] = idiv(ia[0], ib[0], s[0]);
  }
  if (cond[1]) {
    result[1] = idiv(ia[1], ib[1], s[1]);
  }
  if (cond[2]) {
    result[2] = idiv(ia[2], ib[2], s[2]);
  }
  if (cond[3]) {
    result[3] = idiv(ia[3], ib[3], s[3]);
  }
  return vec4(result);
`,"int32");var o=new rn(`
  float s = sign(a) * sign(b);
  int ia = round(a);
  int ib = round(b);
  if (ib != 0) {
    // Windows (D3D) wants guaranteed non-zero int division at compile-time.
    return float(idiv(ia, ib, s));
  } else {
    return NAN;
  }
`,n.shape,r.shape);return this.compileAndRun(o,[n,r],"int32")},e.prototype.add=function(n,r){if(n.dtype==="complex64"&&r.dtype==="complex64")return this.complexSeparableBinaryOp(n,r,Xg);if(this.shouldExecuteOnCPU([n,r]))return this.cpuBackend.add(n,r);var o=zn(n.dtype,r.dtype);if(ft().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,Xg,o);var a=new rn(Xg,n.shape,r.shape);return this.compileAndRun(a,[n,r],o)},e.prototype.packedUnaryOp=function(n,r,o){var a=new xc(n.shape,r);return this.compileAndRun(a,[n],o)},e.prototype.packedBinaryOp=function(n,r,o,a,s){s===void 0&&(s=!1);var u=new wa(o,n.shape,r.shape,s);return this.compileAndRun(u,[n,r],a)},e.prototype.complexSeparableBinaryOp=function(n,r,o){var a=this,s=this.texData.get(n.dataId),u=this.texData.get(r.dataId),c=[[s.complexTensors.real,u.complexTensors.real],[s.complexTensors.imag,u.complexTensors.imag]].map(function(v){var g=v[0],y=v[1],x=a.makeComplexComponentTensorInfo(n,g),w=a.makeComplexComponentTensorInfo(r,y),S=new rn(o,n.shape,r.shape);return a.compileAndRun(S,[x,w],zn(g.dtype,y.dtype))}),f=c[0],h=c[1],p=this.complex(f,h);return f.dispose(),h.dispose(),p},e.prototype.makeComplexComponentTensorInfo=function(n,r){return{dataId:r.dataId,dtype:r.dtype,shape:n.shape}},e.prototype.addN=function(n){if(n.length===1)return n[0];if(n.length>ft().get("WEBGL_MAX_TEXTURES_IN_SHADER")){var r=Math.floor(n.length/2),o=this.addN(n.slice(0,r)),a=this.addN(n.slice(r));return this.addN([o,a])}var s=n.map(function(f){return f.dtype}).reduce(function(f,h){return zn(f,h)}),u=n.map(function(f){return f.shape}),c=ft().getBool("WEBGL_PACK")?new rW(n[0].shape,u):new nW(n[0].shape,u);return this.compileAndRun(c,n,s)},e.prototype.subtract=function(n,r){if(n.dtype==="complex64"&&r.dtype==="complex64")return this.complexSeparableBinaryOp(n,r,Yg);if(this.shouldExecuteOnCPU([n,r]))return this.cpuBackend.subtract(n,r);var o=zn(n.dtype,r.dtype);if(ft().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,Yg,n.dtype);var a=new rn(Yg,n.shape,r.shape);return this.compileAndRun(a,[n,r],o)},e.prototype.pow=function(n,r){var o=ft().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new wa(`
  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.
  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));
  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);
  vec4 result = multiplier * pow(abs(a), b);

  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS
  bvec4 isExpZero = equal(b, vec4(0.0));
  result.r = isExpZero.r ? 1.0 : result.r;
  result.g = isExpZero.g ? 1.0 : result.g;
  result.b = isExpZero.b ? 1.0 : result.b;
  result.a = isExpZero.a ? 1.0 : result.a;

  vec4 isNaN = vec4(lessThan(a, vec4(0.0))) * vec4(lessThan(floor(b), b));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,n.shape,r.shape):new rn(`
if(a < 0.0 && floor(b) < b){
  return NAN;
}
if (b == 0.0) {
  return 1.0;
}
return (round(mod(b, 2.0)) != 1) ?
    pow(abs(a), b) : sign(a) * pow(abs(a), b);
`,n.shape,r.shape),a=zn(n.dtype,r.dtype);return this.compileAndRun(o,[n,r],a)},e.prototype.ceil=function(n){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.ceil(n);if(ft().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(n,uT,n.dtype);var r=new ne(n.shape,uT);return this.compileAndRun(r,[n])},e.prototype.floor=function(n){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.floor(n);if(ft().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(n,lT,n.dtype);var r=new ne(n.shape,lT);return this.compileAndRun(r,[n])},e.prototype.sign=function(n){var r=new ne(n.shape,`
  if (isnan(x)) { return 0.0; }
  return sign(x);
`);return this.compileAndRun(r,[n])},e.prototype.isNaN=function(n){var r=new ne(n.shape,"return float(isnan(x));");return this.compileAndRun(r,[n],"bool")},e.prototype.isInf=function(n){var r=new ne(n.shape,"return float(isinf(x));");return this.compileAndRun(r,[n],"bool")},e.prototype.isFinite=function(n){var r=new ne(n.shape,"return float(!isnan(x) && !isinf(x));");return this.compileAndRun(r,[n],"bool")},e.prototype.round=function(n){var r=new ne(n.shape,`
  // OpenGL ES does not support round function.
  // The algorithm is based on banker's rounding.
  float base = floor(x);
  if ((x - base) < 0.5) {
    return floor(x);
  } else if ((x - base) > 0.5) {
    return ceil(x);
  } else {
    if (mod(base, 2.0) == 0.0) {
      return base;
    } else {
      return base + 1.0;
    }
  }
`);return this.compileAndRun(r,[n])},e.prototype.exp=function(n){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.exp(n);if(ft().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(n,cT,n.dtype);var r=new ne(n.shape,cT);return this.compileAndRun(r,[n])},e.prototype.expm1=function(n){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.expm1(n);if(ft().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(n,fT,n.dtype);var r=new ne(n.shape,fT);return this.compileAndRun(r,[n])},e.prototype.softmax=function(n,r){var o=Tn([r],n.shape),a=this.max(n,o),s=yr(a.shape,o),u=this.subtract(n,a.reshape(s)),c=this.exp(u),f=this.sum(c,o).reshape(s);return this.realDivide(c,f)},e.prototype.log=function(n){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.log(n);if(ft().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(n,`
  vec4 result = log(x);
  vec4 isNaN = vec4(lessThan(x, vec4(0.0)));
  result.r = isNaN.r == 1.0 ? NAN : result.r;
  result.g = isNaN.g == 1.0 ? NAN : result.g;
  result.b = isNaN.b == 1.0 ? NAN : result.b;
  result.a = isNaN.a == 1.0 ? NAN : result.a;

  return result;
`,n.dtype);var r=new ne(n.shape,`if (x < 0.0) return NAN;
  return log(x);`);return this.compileAndRun(r,[n])},e.prototype.log1p=function(n){var r=new ne(n.shape,"return log(1.0 + x);");return this.compileAndRun(r,[n])},e.prototype.sqrt=function(n){var r=new ne(n.shape,"return sqrt(x);");return this.compileAndRun(r,[n])},e.prototype.rsqrt=function(n){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.rsqrt(n);var r=new ne(n.shape,"return inversesqrt(x);");return this.compileAndRun(r,[n])},e.prototype.reciprocal=function(n){var r=new ne(n.shape,"return 1.0 / x;");return this.compileAndRun(r,[n])},e.prototype.relu=function(n){var r;return r=ft().getBool("WEBGL_PACK")?new xc(n.shape,CD):new ne(n.shape,xD),this.compileAndRun(r,[n])},e.prototype.relu6=function(n){var r;return r=ft().getBool("WEBGL_PACK")?new xc(n.shape,ED):new ne(n.shape,wD),this.compileAndRun(r,[n])},e.prototype.prelu=function(n,r){var o=ft().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new wa(bD,n.shape,r.shape):new rn(yD,n.shape,r.shape);return this.compileAndRun(o,[n,r])},e.prototype.elu=function(n){if(ft().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(n,TD,n.dtype);var r=new ne(n.shape,SD);return this.compileAndRun(r,[n])},e.prototype.eluDer=function(n,r){var o=ft().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new wa(`
  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));
  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));
`,n.shape,r.shape):new rn("return (b >= 1.0) ? a : a * (b + 1.0);",n.shape,r.shape);return this.compileAndRun(o,[n,r])},e.prototype.selu=function(n){var r=new ne(n.shape,FH);return this.compileAndRun(r,[n])},e.prototype.int=function(n){var r=new ne(n.shape,"return float(int(x));");return this.compileAndRun(r,[n],"int32")},e.prototype.clip=function(n,r,o){var a,s=(a=ft().getBool("WEBGL_PACK_CLIP")?new yW(n.shape):new gW(n.shape)).getCustomSetupFunc(r,o);return this.compileAndRun(a,[n],null,s)},e.prototype.abs=function(n){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.abs(n);if(ft().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(n,iT,n.dtype);var r=new ne(n.shape,iT);return this.compileAndRun(r,[n])},e.prototype.complexAbs=function(n){var r=this.texData.get(n.dataId),o=new bW(n.shape),a=[this.makeComplexComponentTensorInfo(n,r.complexTensors.real),this.makeComplexComponentTensorInfo(n,r.complexTensors.imag)];return this.compileAndRun(o,a)},e.prototype.sigmoid=function(n){var r=new ne(n.shape,"return 1.0 / (1.0 + exp(-1.0 * x));");return this.compileAndRun(r,[n])},e.prototype.softplus=function(n){var r=new ne(n.shape,`
  float epsilon = 1.1920928955078125e-7;
  float threshold = log(epsilon) + 2.0;

  bool too_large = x > -threshold;
  bool too_small = x < threshold;

  float result;
  float exp_x = exp(x);

  if (too_large){
    result = x;
  }
  else if (too_small){
    result = exp_x;
  }
  else{
    result = log(exp_x + 1.0);
  }
  return result;
`);return this.compileAndRun(r,[n])},e.prototype.sin=function(n){var r=new ne(n.shape,LH);return this.compileAndRun(r,[n])},e.prototype.cos=function(n){var r=new ne(n.shape,zH);return this.compileAndRun(r,[n])},e.prototype.tan=function(n){var r=new ne(n.shape,"return tan(x);");return this.compileAndRun(r,[n])},e.prototype.asin=function(n){var r=new ne(n.shape,VH);return this.compileAndRun(r,[n])},e.prototype.acos=function(n){var r=new ne(n.shape,UH);return this.compileAndRun(r,[n])},e.prototype.atan=function(n){var r=new ne(n.shape,jH);return this.compileAndRun(r,[n])},e.prototype.atan2=function(n,r){var o=ft().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new wa(`
  vec4 result = atan(a, b);
  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,n.shape,r.shape):new rn(`
  if (isnan(a)) return a;
  if (isnan(b)) return b;

  return atan(a, b);
`,n.shape,r.shape);return this.compileAndRun(o,[n,r])},e.prototype.sinh=function(n){var r=new ne(n.shape,`
  float e2x = exp(x);
  return (e2x - 1.0 / e2x) / 2.0;
`);return this.compileAndRun(r,[n])},e.prototype.cosh=function(n){var r=new ne(n.shape,`
  float e2x = exp(-x);
  return (e2x + 1.0 / e2x) / 2.0;
`);return this.compileAndRun(r,[n])},e.prototype.tanh=function(n){var r=new ne(n.shape,`
  float e2x = exp(-2.0 * abs(x));
  return sign(x) * (1.0 - e2x) / (1.0 + e2x);
`);return this.compileAndRun(r,[n])},e.prototype.asinh=function(n){var r=new ne(n.shape,WH);return this.compileAndRun(r,[n])},e.prototype.acosh=function(n){var r=new ne(n.shape,HH);return this.compileAndRun(r,[n])},e.prototype.atanh=function(n){var r=new ne(n.shape,GH);return this.compileAndRun(r,[n])},e.prototype.erf=function(n){var r=new ne(n.shape,`
  // Error function is calculated approximately with elementary function.
  // See "Handbook of Mathematical Functions with Formulas,
  // Graphs, and Mathematical Tables", Abramowitz and Stegun.
  float p = 0.3275911;
  float a1 = 0.254829592;
  float a2 = -0.284496736;
  float a3 = 1.421413741;
  float a4 = -1.453152027;
  float a5 = 1.061405429;

  float sign = sign(x);
  x = abs(x);
  float t = 1.0 / (1.0 + p * x);
  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));
`);return this.compileAndRun(r,[n])},e.prototype.step=function(n,r){var o=new ne(n.shape,function(a){return a===void 0&&(a=0),bo+`
    return x > 0.0 ? 1.0 : float(`+a+`);
  `}(r));return this.compileAndRun(o,[n])},e.prototype.conv2dByMatMul=function(n,r,o,a,s,u){var c=n.shape,f=this.texData.get(n.dataId),h=o.inChannels,p=c[0]*c[1]*c[2],v=o.outChannels,g=o.dataFormat==="channelsLast",y=(p===1||v===1)&&h>1e3,x=c[2]%2!=0&&!!f.isPacked;if(y||!ft().getBool("WEBGL_LAZILY_UNPACK")||!ft().getBool("WEBGL_PACK_BINARY_OPERATIONS")||!x){var w=g?c[0]*c[1]*c[2]:c[0]*c[2]*c[3],S=this.reshape(n,[1,w,o.inChannels]),A=this.reshape(r,[1,o.inChannels,o.outChannels]);return this.reshape(this.fusedBatchMatMul({a:S,b:A,transposeA:!1,transposeB:!1,bias:a,activation:s,preluActivationWeights:u}),o.outShape)}var E=g?c[0]*c[1]*(c[2]+1):c[0]*c[2]*(c[3]+1),T={dataId:n.dataId,shape:[1,E,o.inChannels],dtype:n.dtype},R=f.shape;f.shape=f.shape.slice(),f.shape[f.shape.length-2]++,G(nh(f.shape,T.shape),function(){return"packed reshape "+f.shape+" to "+T.shape+" isn't free"});var _=this.reshape(r,[1,o.inChannels,o.outChannels]),M=this.fusedBatchMatMul({a:T,b:_,transposeA:!1,transposeB:!1,bias:a,activation:s,preluActivationWeights:u}),k=this.texData.get(M.dataId);return G(k.isPacked,function(){return"batchMatMul result is expected to be packed"}),f.shape=R,k.shape=o.outShape,J.makeTensorFromDataId(M.dataId,o.outShape,M.dtype)},e.prototype.conv2dWithIm2Row=function(n,r,o,a,s,u){var c=o.filterWidth,f=o.filterHeight,h=o.inChannels,p=o.outWidth,v=o.outHeight,g=o.dataFormat==="channelsLast",y=c*f*h,x=v*p,w=[y,x],S=n.squeeze([0]),A=r.reshape([1,y,-1]),E=new sH(w,S.shape,o),T=this.compileAndRun(E,[S]).reshape([1,w[0],w[1]]),R=a!=null,_=u!=null,M=s?ih(s,!0):null,k=new Qg(T.shape,[1,x,o.outChannels],!0,!1,R,M,_),N=[T,A];a&&N.push(a),_&&N.push(u);var I=this.compileAndRun(k,N);return g?I.reshape([1,v,p,o.outChannels]):I.reshape([1,o.outChannels,v,p])},e.prototype.fusedConv2d=function(n){var r=n.input,o=n.filter,a=n.convInfo,s=n.bias,u=n.activation,c=n.preluActivationWeights;if(a.filterHeight===1&&a.filterWidth===1&&a.dilationHeight===1&&a.dilationWidth===1&&a.strideHeight===1&&a.strideWidth===1&&(a.padInfo.type==="SAME"||a.padInfo.type==="VALID"))return this.conv2dByMatMul(r,o,a,s,u,c);if(ft().getBool("WEBGL_CONV_IM2COL")&&r.shape[0]===1)return this.conv2dWithIm2Row(r,o,a,s,u,c);var f=s!=null,h=c!=null,p=u?ih(u,!1):null,v=new QE(a,f,p,h),g=[r,o];return s&&g.push(s),c&&g.push(c),this.compileAndRun(v,g)},e.prototype.conv2d=function(n,r,o){if(o.filterHeight===1&&o.filterWidth===1&&o.dilationHeight===1&&o.dilationWidth===1&&o.strideHeight===1&&o.strideWidth===1&&(o.padInfo.type==="SAME"||o.padInfo.type==="VALID"))return this.conv2dByMatMul(n,r,o);if(ft().getBool("WEBGL_CONV_IM2COL")&&n.shape[0]===1)return this.conv2dWithIm2Row(n,r,o);var a=new QE(o);return this.compileAndRun(a,[n,r])},e.prototype.conv2dDerInput=function(n,r,o){var a=new CW(o);return this.compileAndRun(a,[n,r])},e.prototype.conv2dDerFilter=function(n,r,o){var a=new SW(o);return this.compileAndRun(a,[n,r])},e.prototype.fusedDepthwiseConv2D=function(n){var r,o=n.input,a=n.filter,s=n.convInfo,u=n.bias,c=n.activation,f=n.preluActivationWeights,h=ft().getBool("WEBGL_PACK_DEPTHWISECONV")&&s.strideWidth<=2&&s.outChannels/s.inChannels==1,p=c?ih(c,h):null,v=[o,a],g=u!=null,y=f!=null;return g&&v.push(u),y&&v.push(f),h?(r=new JE(s,g,p,y),this.compileAndRun(r,v)):(r=new ZE(s,g,p,y),this.compileAndRun(r,v))},e.prototype.depthwiseConv2D=function(n,r,o){var a;return ft().getBool("WEBGL_PACK_DEPTHWISECONV")&&o.strideWidth<=2&&o.outChannels/o.inChannels==1?(a=new JE(o),this.compileAndRun(a,[n,r])):(a=new ZE(o),this.compileAndRun(a,[n,r]))},e.prototype.depthwiseConv2DDerInput=function(n,r,o){var a=new AW(o);return this.compileAndRun(a,[n,r])},e.prototype.depthwiseConv2DDerFilter=function(n,r,o){var a=new RW(o);return this.compileAndRun(a,[n,r])},e.prototype.conv3d=function(n,r,o){var a=new _W(o);return this.compileAndRun(a,[n,r])},e.prototype.conv3dDerInput=function(n,r,o){var a=new TW(o);return this.compileAndRun(a,[n,r])},e.prototype.conv3dDerFilter=function(n,r,o){var a=new EW(o);return this.compileAndRun(a,[n,r])},e.prototype.maxPool=function(n,r){var o=new Zg(r,"max",!1);return this.compileAndRun(o,[n])},e.prototype.avgPool=function(n,r){var o=new Zg(r,"avg",!1);return this.compileAndRun(o,[n],"float32")},e.prototype.maxPoolBackprop=function(n,r,o,a){var s=new Zg(a,"max",!0),u=this.compileAndRun(s,[r]),c=new fH(a),f=this.compileAndRun(c,[n,u],r.dtype);return u.dispose(),f},e.prototype.avgPoolBackprop=function(n,r,o){var a=new fW(o);return this.compileAndRun(a,[n],r.dtype)},e.prototype.cast=function(n,r){return lD(n,r,this)},e.prototype.unstack=function(n,r){for(var o=n.shape[r],a=new Array(n.rank-1),s=0,u=0;u<n.rank;u++)u!==r&&(a[s++]=n.shape[u]);var c=new Array(n.rank).fill(0),f=n.shape.slice();f[r]=1;var h=new Array(o);for(u=0;u<h.length;u++)c[r]=u,h[u]=this.slice(n,c,f).reshape(a);return h},e.prototype.avgPool3d=function(n,r){var o=new Jg(r,"avg",!1);return this.compileAndRun(o,[n],"float32")},e.prototype.avgPool3dBackprop=function(n,r,o){var a=new dW(o);return this.compileAndRun(a,[n],r.dtype)},e.prototype.maxPool3d=function(n,r){var o=new Jg(r,"max",!1);return this.compileAndRun(o,[n],"float32")},e.prototype.maxPool3dBackprop=function(n,r,o,a){var s=new Jg(a,"max",!0),u=this.compileAndRun(s,[r]),c=new dH(a),f=this.compileAndRun(c,[n,u],r.dtype);return u.dispose(),f},e.prototype.reshape=function(n,r){var o=this.texData.get(n.dataId);if(o.isPacked&&!nh(n.shape,r)&&(o.texture===null||!nh(o.shape,r))){var a=this.packedReshape(n,r);return J.makeTensorFromDataId(a.dataId,a.shape,a.dtype)}return l0(n,r)},e.prototype.resizeBilinear=function(n,r,o,a){var s=ft().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new SH(n.shape,r,o,a):new wH(n.shape,r,o,a);return this.compileAndRun(s,[n],"float32")},e.prototype.resizeBilinearBackprop=function(n,r,o){var a=new xH(n,r,o);return this.compileAndRun(a,[n])},e.prototype.resizeNearestNeighbor=function(n,r,o,a){var s=new EH(n.shape,r,o,a);return this.compileAndRun(s,[n])},e.prototype.resizeNearestNeighborBackprop=function(n,r,o){var a=new CH(n,r,o);return this.compileAndRun(a,[n])},e.prototype.multinomial=function(n,r,o,a){var s=r?n:Pa(n),u=s.shape[0],c=s.shape[1],f=new hH(u,c,o),h=f.getCustomSetupFunc(a);return this.compileAndRun(f,[s],"int32",h)},e.prototype.oneHot=function(n,r,o,a){var s=new pH(n.size,r,o,a);return this.compileAndRun(s,[n])},e.prototype.diag=function(n){var r=new PW(n.size);return this.compileAndRun(r,[n])},e.prototype.nonMaxSuppression=function(n,r,o,a,s){return Yh("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead"),Vb(n.dataSync(),r.dataSync(),o,a,s)},e.prototype.cropAndResize=function(n,r,o,a,s,u){var c=new DW(n.shape,r.shape,a,s,u);return this.compileAndRun(c,[n,r,o],"float32")},e.prototype.depthToSpace=function(n,r,o){G(r>1,function(){return"blockSize should be > 1 for depthToSpace, but was: "+r});var a=n.shape[0],s=o==="NHWC"?n.shape[1]:n.shape[2],u=o==="NHWC"?n.shape[2]:n.shape[3],c=o==="NHWC"?n.shape[3]:n.shape[1],f=s*r,h=u*r,p=c/(r*r),v=new OW(o==="NHWC"?[a,f,h,p]:[a,p,f,h],r,o);return this.compileAndRun(v,[n])},e.prototype.split=function(n,r,o){return dD(n,r,o)},e.prototype.scatterND=function(n,r,o){var a=np(0,n,o),s=a.sliceRank,u=a.numUpdates,c=a.sliceSize,f=a.strides,h=a.outputSize,p=[h/c,c],v=n.reshape([u,s]),g=r.reshape([u,c]);if(h===0)return l0(Un([]),o);var y=Ct(0),x=new rT(u,s,v.rank,g.rank,f,p);return this.compileAndRun(x,[g,v,y]).reshape(o)},e.prototype.sparseToDense=function(n,r,o,a){var s=np(0,n,o),u=s.sliceRank,c=s.numUpdates,f=s.strides,h=s.outputSize,p=new rT(c,u,n.rank,r.rank,f,[h,1]);return this.compileAndRun(p,[r,n,a]).reshape(o)},e.prototype.fft=function(n){return this.fftImpl(n,!1)},e.prototype.ifft=function(n){return this.fftImpl(n,!0)},e.prototype.fftImpl=function(n,r){var o=this.texData.get(n.dataId),a=new eT(zW,n.shape,r),s=new eT(VW,n.shape,r),u=[this.makeComplexComponentTensorInfo(n,o.complexTensors.real),this.makeComplexComponentTensorInfo(n,o.complexTensors.imag)],c=this.compileAndRun(a,u),f=this.compileAndRun(s,u),h=this.complex(c,f).as2D(n.shape[0],n.shape[1]);return c.dispose(),f.dispose(),h},e.prototype.gatherND=function(n,r){var o=r.shape,a=o[o.length-1],s=nD(n,r),u=s[0],c=s[1],f=s[2],h=s[3],p=r.reshape([c,a]),v=n.reshape([n.size/f,f]),g=new WW(a,h,[c,f]);return this.compileAndRun(g,[v,p]).reshape(u)},e.prototype.fill=function(n,r,o){if((o=o||xf(r))==="string"){var a=$h(o,Ot(n));return a.fill(r),J.makeTensor(a,n,o,this)}var s=new UW(n,r),u=s.getCustomSetupFunc(r);return this.compileAndRun(s,[],o,u)},e.prototype.onesLike=function(n){if(n.dtype==="string")throw new Error("onesLike is not supported under string dtype");return this.fill(n.shape,1,n.dtype)},e.prototype.zerosLike=function(n){return this.fill(n.shape,n.dtype==="string"?"":0,n.dtype)},e.prototype.linspace=function(n,r,o){return cD(n,r,o)},e.prototype.makeTensorInfo=function(n,r){var o=this.write(null,n,r);return this.texData.get(o).usage=null,{dataId:o,shape:n,dtype:r}},e.prototype.makeOutput=function(n,r){var o=this.makeTensorInfo(n,r).dataId;return J.makeTensorFromDataId(o,n,r,this)},e.prototype.unpackTensor=function(n){var r=new qH(n.shape);return this.runWebGLProgram(r,[n],n.dtype)},e.prototype.packTensor=function(n){var r=new mH(n.shape);return this.runWebGLProgram(r,[n],n.dtype,null,!0)},e.prototype.packedReshape=function(n,r){var o=[Kh(n.shape)].concat(Xh(n.shape)),a={dtype:n.dtype,shape:o,dataId:n.dataId},s=[Kh(r)].concat(Xh(r)),u=new bH(s,o),c=this.runWebGLProgram(u,[a],n.dtype,null,!0);return{dataId:c.dataId,shape:r,dtype:c.dtype}},e.prototype.decode=function(n){var r,o=this.texData.get(n),a=o.isPacked,s=o.shape,u=o.dtype,c=qg(s);return r=a?new NW(c):new MW(c),{dtype:u,shape:s,dataId:this.runWebGLProgram(r,[{shape:c,dtype:u,dataId:n}],u,null,!0).dataId}},e.prototype.runWebGLProgram=function(n,r,o,a,s){var u=this;s===void 0&&(s=!1);var c=this.makeTensorInfo(n.outputShape,o),f=this.texData.get(c.dataId);if(n.packedOutput&&(f.isPacked=!0),n.outPackingScheme===Xc.DENSE){var h=Nc(n.outputShape);f.texShape=h.map(function(E){return 2*E})}if(n.outTexUsage!=null&&(f.usage=n.outTexUsage),Ot(c.shape)===0)return f.values=qc(c.dtype,0),c;var p=[],v=r.map(function(E){if(E.dtype==="complex64")throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");var T=u.texData.get(E.dataId);if(T.texture==null){if(!n.packedInputs&&Ot(E.shape)<=ft().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:E.shape,texData:null,isUniform:!0,uniformValues:T.values};n.packedInputs&&(T.isPacked=!0,T.shape=E.shape)}else if(!!T.isPacked!=!!n.packedInputs)E=T.isPacked?u.unpackTensor(E):u.packTensor(E),p.push(E),T=u.texData.get(E.dataId);else if(T.isPacked&&!nh(T.shape,E.shape)){var R=E,_=E.shape;E.shape=T.shape,E=u.packedReshape(E,_),p.push(E),T=u.texData.get(E.dataId),R.shape=_}return u.uploadToGPU(E.dataId),{shape:E.shape,texData:T,isUniform:!1}});this.uploadToGPU(c.dataId);var g,y={shape:c.shape,texData:f,isUniform:!1},x=function(E,T,R){var _="";T.concat(R).forEach(function(N){var I=N.texData!=null&&N.texData.slice!=null&&N.texData.slice.flatOffset>0,z=N.isUniform?"uniform":N.texData.texShape;_+=N.shape+"_"+z+"_"+I});var M=E.userCode,k=E.constructor.name;return k+="_"+_+"_"+M}(n,v,y),w=this.getAndSaveBinary(x,function(){return function(E,T,R,_){var M=T.userCode,k=R.map(function(q,X){var F={logicalShape:q.shape,texShape:q.isUniform?null:q.texData.texShape,isUniform:q.isUniform,isPacked:!q.isUniform&&q.texData.isPacked,flatOffset:null};return q.texData!=null&&q.texData.slice!=null&&q.texData.slice.flatOffset>0&&(F.flatOffset=q.texData.slice.flatOffset),{name:T.variableNames[X],shapeInfo:F}}),N=k.map(function(q){return q.shapeInfo}),I={logicalShape:_.shape,texShape:_.texData.texShape,isUniform:!1,isPacked:_.texData.isPacked,flatOffset:null},z=aW(k,I,M,T.packedInputs),D=E.createProgram(z),$=null,j=E.getUniformLocation(D,"NAN",!1);ft().getNumber("WEBGL_VERSION")===1&&($=E.getUniformLocation(D,"INFINITY",!1));for(var W={},B=0;B<T.variableNames.length;B++){var H=T.variableNames[B];W[H]=E.getUniformLocation(D,H,!1),W["offset"+H]=E.getUniformLocation(D,"offset"+H,!1)}return{program:T,source:z,webGLProgram:D,uniformLocations:W,inShapeInfos:N,outShapeInfo:I,infLoc:$,nanLoc:j}}(u.gpgpu,n,v,y)}),S=this.activeTimers!=null;if(S&&(g=this.startTimer()),function(E,T,R,_,M){nT(T.inShapeInfos,R),nT([T.outShapeInfo],[_]);var k=_.texData.texture,N=_.texData.texShape;_.texData.isPacked?E.setOutputPackedMatrixTexture(k,N[0],N[1]):E.setOutputMatrixTexture(k,N[0],N[1]),E.setProgram(T.webGLProgram),ft().getNumber("WEBGL_VERSION")===1&&T.infLoc!==null&&E.gl.uniform1f(T.infLoc,1/0),T.nanLoc!==null&&E.gl.uniform1f(T.nanLoc,NaN),R.forEach(function(I,z){var D=T.program.variableNames[z],$=T.uniformLocations[D],j=T.uniformLocations["offset"+D];if($!=null)if(I.isUniform)if(Ot(I.shape)<2)E.gl.uniform1f($,I.uniformValues[0]);else{var W=I.uniformValues;W instanceof Float32Array||(W=new Float32Array(W)),E.gl.uniform1fv($,W)}else I.texData.slice!=null&&j!=null&&E.gl.uniform1i(j,I.texData.slice.flatOffset),E.setInputMatrixTexture(I.texData.texture,$,z)}),M?.(E,T.webGLProgram),E.executeProgram()}(this.gpgpu,w,v,y,a),p.forEach(function(E){return u.disposeData(E.dataId)}),S&&(g=this.endTimer(g),this.activeTimers.push({name:n.constructor.name,query:this.getQueryTime(g)})),!ft().getBool("WEBGL_LAZILY_UNPACK")&&f.isPacked&&s===!1){var A=this.unpackTensor(c);return this.disposeData(c.dataId),A}return c},e.prototype.compileAndRun=function(n,r,o,a,s){s===void 0&&(s=!1),o=o||r[0].dtype;var u=this.runWebGLProgram(n,r,o,a,s);return J.makeTensorFromDataId(u.dataId,u.shape,u.dtype)},e.prototype.getAndSaveBinary=function(n,r){return n in this.binaryCache||(this.binaryCache[n]=r()),this.binaryCache[n]},e.prototype.getTextureManager=function(){return this.textureManager},e.prototype.dispose=function(){var n=this;this.disposed||(ft().getBool("IS_TEST")||Object.keys(this.binaryCache).forEach(function(r){n.gpgpu.deleteProgram(n.binaryCache[r].webGLProgram),delete n.binaryCache[r]}),this.textureManager.dispose(),this.canvas!=null&&typeof HTMLCanvasElement<"u"&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0)},e.prototype.floatPrecision=function(){var n=this;return this.floatPrecisionValue==null&&(this.floatPrecisionValue=Dt(function(){if(!ft().get("WEBGL_RENDER_FLOAT32_ENABLED")){var r=ft().getBool("DEBUG");ft().set("DEBUG",!1);var o=n.abs(Ct(1e-8)).dataSync()[0];if(ft().set("DEBUG",r),o>0)return 32}return 16})),this.floatPrecisionValue},e.prototype.epsilon=function(){return this.floatPrecision()===32?1e-7:1e-4},e.prototype.uploadToGPU=function(n){var r,o=this.texData.get(n),a=o.shape,s=o.dtype,u=o.values,c=o.texture,f=o.usage,h=o.isPacked;if(c==null){var p,v=this.activeTimers!=null;v&&(p=No());var g=o.texShape;if(g==null&&(g=ej(a,h),o.texShape=g),u!=null){var y=qg(a),x=void 0,w=g[1],S=g[0],A=u instanceof Uint8Array;h?(w=(r=Sf(g[0],g[1]))[0],S=r[1],x=new LW(y,[S,w],A)):x=new FW(y,[S,w],A);var E=this.makeTensorInfo([S,w],s);this.texData.get(E.dataId).usage=A?Mr.PIXELS:Mr.UPLOAD,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(E.dataId),w,S,u);var T=this.runWebGLProgram(x,[E],s,null,!0),R=this.texData.get(T.dataId);o.texture=R.texture,o.texShape=R.texShape,o.isPacked=R.isPacked,o.usage=R.usage,this.disposeData(E.dataId),this.texData.delete(T.dataId),o.values=null,v&&(this.uploadWaitMs+=No()-p)}else{var _=this.acquireTexture(g,f,s,h);o.texture=_}}},e.prototype.convertAndCacheOnCPU=function(n,r){var o=this.texData.get(n),a=o.dtype;return this.releaseGPUData(n),r!=null&&(o.values=function(s,u){if(u==="float32"||u==="complex64")return s;if(u==="int32"||u==="bool"){for(var c=u==="int32"?new Int32Array(s.length):new Uint8Array(s.length),f=0;f<c.length;++f)c[f]=Math.round(s[f]);return c}throw new Error("Unknown dtype "+u)}(r,a)),o.values},e.prototype.acquireTexture=function(n,r,o,a){if(this.numBytesInGPU+=this.computeBytes(n,o),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){var s=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn("High memory usage in GPU: "+s+" MB, most likely due to a memory leak")}return this.textureManager.acquireTexture(n,r,a)},e.prototype.computeBytes=function(n,r){return n[0]*n[1]*L_(r)},e}(sD);G_()&&J.registerBackend("webgl",function(){return new XH},2);var YH=Y({square_:function(t){var e=V(t,"x","square"),n=[e];return J.runKernelFunc(function(r,o){return o([e]),r.square(e)},{x:e},null,"Square",{},n,[])}}),Qc="SquaredDifference",RD=Y({squaredDifference_:function(t,e){var n,r=V(t,"a","squaredDifference"),o=V(e,"b","squaredDifference");n=tn(r,o),r=n[0],o=n[1],ce(r.shape,o.shape);var a={a:r,b:o},s=[r,o];return J.runKernelFunc(function(u,c){var f=u.squaredDifference(r,o);return c([r,o]),f},a,function(u,c){var f=c[0],h=c[1],p=Ct(2);return{a:function(){return u.mul(f.sub(h).mul(p))},b:function(){return u.mul(h.sub(f).mul(p))}}},Qc,{},s,[])}}),QH=Y({abs_:function(t){var e=V(t,"x","abs");return e.dtype==="complex64"?J.runKernelFunc(function(n){return n.complexAbs(e)},{$x:e}):J.runKernelFunc(function(n,r){var o=n.abs(e);return r([e]),o},{x:e},function(n,r){var o=r[0];return{x:function(){return n.mul(o.toFloat().step(-1))}}},"Abs")}}),ZH=Y({acos_:function(t){var e=V(t,"x","acos");return J.runKernelFunc(function(n,r){var o=n.acos(e);return r([e]),o},{$x:e},function(n,r){var o=r[0];return{$x:function(){return n.divStrict(Ct(1).sub(o.toFloat().square()).sqrt()).neg()}}})}}),JH=Y({acosh_:function(t){var e=V(t,"x","acosh");return J.runKernelFunc(function(n,r){var o=n.acosh(e);return r([e]),o},{$x:e},function(n,r){var o=r[0];return{$x:function(){return n.divStrict(o.toFloat().square().sub(1).sqrt())}}})}}),t8=Y({asin_:function(t){var e=V(t,"x","asin");return J.runKernelFunc(function(n,r){var o=n.asin(e);return r([e]),o},{$x:e},function(n,r){var o=r[0];return{$x:function(){return n.divStrict(Ct(1).sub(o.toFloat().square()).sqrt())}}})}}),e8=Y({asinh_:function(t){var e=V(t,"x","asinh");return J.runKernelFunc(function(n,r){var o=n.asinh(e);return r([e]),o},{$x:e},function(n,r){var o=r[0];return{$x:function(){return n.divStrict(Ct(1).add(o.toFloat().square()).sqrt())}}})}}),n8=Y({atan_:function(t){var e=V(t,"x","atan");return J.runKernelFunc(function(n,r){var o=n.atan(e);return r([e]),o},{$x:e},function(n,r){var o=r[0];return{$x:function(){return n.div(o.toFloat().square().add(1))}}})}}),r8=Y({atanh_:function(t){var e=V(t,"x","atanh");return J.runKernelFunc(function(n,r){var o=n.atanh(e);return r([e]),o},{$x:e},function(n,r){var o=r[0];return{$x:function(){return n.div(Ct(1).sub(o.toFloat().square()))}}})}}),o8=Y({ceil_:function(t){var e=V(t,"x","ceil");return J.runKernelFunc(function(n){return n.ceil(e)},{$x:e},function(n){return{$x:function(){return ye(n)}}})}}),$b=Y({clipByValue_:function(t,e,n){var r=V(t,"x","clipByValue");G(e<=n,function(){return"Error in clip: min ("+e+") must be less than or equal to max ("+n+")."});var o=[r],a={min:e,max:n};return J.runKernelFunc(function(s,u){var c=s.clip(r,e,n);return u([r]),c},{x:r},function(s,u){var c=u[0];return{x:function(){return s.where(c.greaterEqual(e).logicalAnd(c.lessEqual(n)),ye(s))}}},"ClipByValue",a,o)}}),a8=Y({cos_:function(t){var e=V(t,"x","cos"),n=[e];return J.runKernelFunc(function(r,o){var a=r.cos(e);return o([e]),a},{x:e},function(r,o){var a=o[0];return{x:function(){return a.toFloat().sin().neg().mul(r)}}},"Cos",{},n)}}),i8=Y({cosh_:function(t){var e=V(t,"x","cosh");return J.runKernelFunc(function(n,r){var o=n.cosh(e);return r([e]),o},{$x:e},function(n,r){var o=r[0];return{$x:function(){return o.toFloat().sinh().mulStrict(n)}}})}}),s8=Y({erf_:function(t){var e=V(t,"x","erf");return G(e.dtype==="int32"||e.dtype==="float32",function(){return"Input dtype must be `int32` or `float32`."}),e.dtype==="int32"&&(e=e.toFloat()),J.runKernelFunc(function(n,r){var o=n.erf(e);return r([e]),o},{$x:e},function(n,r){var o=r[0];return{$x:function(){return n.mul(o.square().neg().exp().mul(2/Math.sqrt(Math.PI)))}}})}}),f0=Y({exp_:function(t){var e=V(t,"x","exp");return J.runKernelFunc(function(n,r){var o=n.exp(e);return r([o]),o},{x:e},function(n,r){return{x:function(){return n.mulStrict(r[0])}}},"Exp",{},[],[!0])}}),u8=Y({expm1_:function(t){var e=V(t,"x","expm1");return J.runKernelFunc(function(n,r){var o=n.expm1(e);return r([e]),o},{$x:e},function(n,r){var o=r[0];return{$x:function(){return n.mul(o.exp())}}})}}),l8=Y({floor_:function(t){var e=V(t,"x","floor");return J.runKernelFunc(function(n){return n.floor(e)},{$x:e},function(n){return{$x:function(){return ye(n)}}})}}),c8=Y({log_:function(t){var e=V(t,"x","log"),n=[e];return J.runKernelFunc(function(r,o){var a=r.log(e);return o([e]),a},{x:e},function(r,o){var a=o[0];return{x:function(){return r.div(a.toFloat())}}},"Log",{},n)}}),f8=Y({log1p_:function(t){var e=V(t,"x","log1p");return J.runKernelFunc(function(n,r){var o=n.log1p(e);return r([e]),o},{$x:e},function(n,r){var o=r[0];return{$x:function(){return n.div(o.add(1))}}})}}),d8=Y({logSigmoid_:function(t){var e=V(t,"x","logSigmoid");return J.runKernelFunc(function(n,r){var o=n.softplus(e.neg()).neg();return r([e]),o},{$x:e},function(n,r){var o=r[0];return{$x:function(){return n.mul(o.neg().sigmoid())}}})}}),ip=Y({neg_:function(t){var e=V(t,"x","neg"),n=[e];return J.runKernelFunc(function(r){return r.neg(e)},{x:e},function(r){return{x:function(){return r.neg()}}},"Neg",{},n)}}),h8=Y({reciprocal_:function(t){var e=V(t,"x","reciprocal");return J.runKernelFunc(function(n,r){var o=n.reciprocal(e);return r([e]),o},{$x:e},function(n,r){var o=r[0];return{$x:function(){return n.div(o.square().neg())}}})}}),p8=Y({round_:function(t){var e=V(t,"x","round");return J.runKernelFunc(function(n){return n.round(e)},{$x:e},function(n){return{$x:function(){return ye(n)}}})}}),AD=Y({rsqrt_:function(t){var e=V(t,"x","rsqrt"),n=[e];return J.runKernelFunc(function(r,o){var a=r.rsqrt(e);return o([e]),a},{x:e},function(r,o){var a=o[0];return{x:function(){return r.div(a.pow(1.5).mul(2)).neg()}}},"Rsqrt",{},n)}}),_D=Y({sigmoid_:function(t){var e=V(t,"x","sigmoid");return J.runKernelFunc(function(n,r){var o=n.sigmoid(e);return r([o]),o},{x:e},function(n,r){var o=r[0];return{x:function(){return n.mul(o.mul(Ct(1).sub(o)))}}},"Sigmoid")}}),m8=Y({sign_:function(t){var e=V(t,"x","sign");return J.runKernelFunc(function(n){return n.sign(e)},{$x:e},function(n){return{$x:function(){return ye(n)}}})}}),v8=Y({isNaN_:function(t){var e=V(t,"x","isNaN");return J.runKernelFunc(function(n){return n.isNaN(e)},{$x:e},function(n){return{$x:function(){return ye(n)}}})}}),g8=Y({isInf_:function(t){var e=V(t,"x","isInf");return J.runKernelFunc(function(n){return n.isInf(e)},{$x:e},function(n){return{$x:function(){return ye(n)}}})}}),y8=Y({isFinite_:function(t){var e=V(t,"x","isFinite");return J.runKernelFunc(function(n){return n.isFinite(e)},{$x:e},function(n){return{$x:function(){return ye(n)}}})}}),b8=Y({sin_:function(t){var e=V(t,"x","sin"),n=[e];return J.runKernelFunc(function(r,o){var a=r.sin(e);return o([e]),a},{x:e},function(r,o){var a=o[0];return{x:function(){return a.toFloat().cos().mul(r)}}},"Sin",{},n)}}),x8=Y({sinh_:function(t){var e=V(t,"x","sinh");return J.runKernelFunc(function(n,r){var o=n.sinh(e);return r([e]),o},{$x:e},function(n,r){var o=r[0];return{$x:function(){return o.toFloat().cosh().mulStrict(n)}}})}}),w8=Y({softplus_:function(t){var e=V(t,"x","softplus");return J.runKernelFunc(function(n,r){var o=n.softplus(e);return r([e]),o},{$x:e},function(n,r){var o=r[0];return{$x:function(){return n.mul(o.sigmoid())}}})}}),S8=Y({sqrt_:function(t){var e=V(t,"x","sqrt");return J.runKernelFunc(function(n,r){var o=n.sqrt(e);return r([e]),o},{$x:e},function(n,r){var o=r[0];return{$x:function(){return n.div(o.toFloat().sqrt().mul(2))}}})}}),C8=Y({step_:function(t,e){e===void 0&&(e=0);var n=V(t,"x","step");return J.runKernelFunc(function(r){return r.step(n,e)},{$x:n},function(r){return{$x:function(){return ye(r)}}})}}),E8=Y({tan_:function(t){var e=V(t,"x","tan");return J.runKernelFunc(function(n,r){var o=n.tan(e);return r([e]),o},{$x:e},function(n,r){var o=r[0];return{$x:function(){return n.div(o.cos().square())}}})}}),T8=Y({tanh_:function(t){var e=V(t,"x","tanh");return J.runKernelFunc(function(n,r){var o=n.tanh(e);return r([o]),o},{x:e},function(n,r){var o=r[0];return{x:function(){return Ct(1).sub(o.square()).mulStrict(n)}}},"Tanh",{},null,[!0])}});function DD(t,e,n,r,o,a){var s,u,c=V(t,"x","batchNorm"),f=V(e,"mean","batchNorm"),h=V(n,"variance","batchNorm");return o!=null&&(s=V(o,"scale","batchNorm")),r!=null&&(u=V(r,"offset","batchNorm")),G(c.rank===2,function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+c.rank+"."}),G(f.rank===2||f.rank===1,function(){return"Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank "+f.rank+"."}),G(h.rank===2||h.rank===1,function(){return"Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank "+h.rank+"."}),s!=null&&G(s.rank===2||s.rank===1,function(){return"Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank "+s.rank+"."}),u!=null&&G(u.rank===2||u.rank===1,function(){return"Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank "+u.rank+"."}),Ef(c,f,h,u,s,a)}function kD(t,e,n,r,o,a){var s,u,c=V(t,"x","batchNorm"),f=V(e,"mean","batchNorm"),h=V(n,"variance","batchNorm");return o!=null&&(s=V(o,"scale","batchNorm")),r!=null&&(u=V(r,"offset","batchNorm")),G(c.rank===3,function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+c.rank+"."}),G(f.rank===3||f.rank===1,function(){return"Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank "+f.rank+"."}),G(h.rank===3||h.rank===1,function(){return"Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank "+h.rank+"."}),s!=null&&G(s.rank===3||s.rank===1,function(){return"Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank "+s.rank+"."}),u!=null&&G(u.rank===3||u.rank===1,function(){return"Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank "+u.rank+"."}),Ef(c,f,h,u,s,a)}function MD(t,e,n,r,o,a){var s,u,c=V(t,"x","batchNorm"),f=V(e,"mean","batchNorm"),h=V(n,"variance","batchNorm");return o!=null&&(s=V(o,"scale","batchNorm")),r!=null&&(u=V(r,"offset","batchNorm")),G(c.rank===4,function(){return"Error in batchNorm4D: x must be rank 4 but got rank "+c.rank+"."}),G(f.rank===4||f.rank===1,function(){return"Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank "+f.rank+"."}),G(h.rank===4||h.rank===1,function(){return"Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank "+h.rank+"."}),s!=null&&G(s.rank===4||s.rank===1,function(){return"Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank "+s.rank+"."}),u!=null&&G(u.rank===4||u.rank===1,function(){return"Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank "+u.rank+"."}),Ef(c,f,h,u,s,a)}function Ef(t,e,n,r,o,a){a==null&&(a=.001);var s,u,c,f=V(t,"x","batchNorm"),h=V(e,"mean","batchNorm"),p=V(n,"variance","batchNorm");o!=null&&(s=V(o,"scale","batchNorm")),r!=null&&(u=V(r,"offset","batchNorm")),G(h.rank===p.rank,function(){return"Batch normalization gradient requires mean and variance to have equal ranks."}),G(u==null||h.rank===u.rank,function(){return"Batch normalization gradient requires mean and offset to have equal ranks."}),G(s==null||h.rank===s.rank,function(){return"Batch normalization gradient requires mean and scale to have equal ranks."}),c=f.rank===0||f.rank===1?f.as4D(1,1,1,f.size):f.rank===2?f.as4D(1,1,f.shape[0],f.shape[1]):f.rank===3?f.as4D(1,f.shape[0],f.shape[1],f.shape[2]):f;var v=[f,h,p,s];return J.runKernelFunc(function(g,y){var x=g.batchNormalization(c,sh(h),sh(p),a,sh(s),sh(u));return y([f,h,p,s]),x},{x:f,mean:h,variance:p,scale:s,offset:u},function(g,y){var x=y,w=x[0],S=x[1],A=x[2],E=x[3],T=E??Ct(1),R=Cn(S.shape,c.shape),_=[];if(S.rank===1){for(var M=0;M<c.shape.length-1;++M)_.push(c.shape[M]);_.push(1)}var k=w.sub(S),N=g.mul(T),I=AD(A.add(Ct(a))),z=I.mul(I).mul(I).mul(Ct(-.5));return{x:function(){return S.rank===1?g.mul(Nu(I.as4D(1,1,1,S.shape[0]),_)).mul(T).reshape(w.shape):g.mul(I).mul(T).reshape(w.shape)},mean:function(){var D=I.mul(Ct(-1)).mul(N);return S.rank===1&&(D=D.sum(R)),D.reshape(S.shape)},variance:function(){var D=z.mul(k).mul(N);return S.rank===1&&(D=D.sum(R)),D.reshape(S.shape)},scale:function(){var D=k.mul(I),$=g.mul(D);return S.rank===1&&($=$.sum(R)),$.reshape(S.shape)},offset:function(){var D=g;return S.rank===1&&(D=D.sum(R)),D.reshape(S.shape)}}},"BatchNormalization",{varianceEpsilon:a},v).reshape(f.shape)}function sh(t){return t==null?null:t.rank===0?t.as1D():t.rank===1?t:t.rank===2?t.as4D(1,1,t.shape[0],t.shape[1]):t.rank===3?t.as4D(1,t.shape[0],t.shape[1],t.shape[2]):t}function Hp(){$_("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon")}var R8=Y({batchNormalization2d_:function(t,e,n,r,o,a){return r===void 0&&(r=.001),Hp(),DD(t,e,n,a,o,r)}}),A8=Y({batchNormalization3d_:function(t,e,n,r,o,a){return r===void 0&&(r=.001),Hp(),kD(t,e,n,a,o,r)}}),_8=Y({batchNormalization4d_:function(t,e,n,r,o,a){return r===void 0&&(r=.001),Hp(),MD(t,e,n,a,o,r)}}),D8=Y({batchNormalization_:function(t,e,n,r,o,a){return r===void 0&&(r=.001),Hp(),Ef(t,e,n,a,o,r)}}),ND=Y({batchNorm_:Ef}),k8=Y({batchNorm2d_:DD}),M8=Y({batchNorm3d_:kD}),N8=Y({batchNorm4d_:MD}),Gp=Y({logicalAnd_:function(t,e){var n=V(t,"a","logicalAnd","bool"),r=V(e,"b","logicalAnd","bool");return ce(n.shape,r.shape),J.runKernelFunc(function(o){return o.logicalAnd(n,r)},{a:n,b:r},null,"LogicalAnd")}}),O8=Y({logicalNot_:function(t){var e=V(t,"x","logicalNot","bool");return J.runKernelFunc(function(n){return n.logicalNot(e)},{$x:e})}}),OD=Y({logicalOr_:function(t,e){var n=V(t,"a","logicalOr","bool"),r=V(e,"b","logicalOr","bool");return ce(n.shape,r.shape),J.runKernelFunc(function(o){return o.logicalOr(n,r)},{$a:n,$b:r})}}),P8=Y({logicalXor_:function(t,e){var n=V(t,"a","logicalXor","bool"),r=V(e,"b","logicalXor","bool");return ce(n.shape,r.shape),OD(t,e).logicalAnd(Gp(t,e).logicalNot())}}),vs=Y({where_:function(t,e,n){var r=V(e,"a","where"),o=V(n,"b","where"),a=V(t,"condition","where","bool");return De(r.shape,o.shape,"Error in where: "),a.rank===1?G(a.shape[0]===r.shape[0],function(){return"The first dimension of `a` must match the size of `condition`."}):De(a.shape,o.shape,"Error in where: "),J.runKernelFunc(function(s,u){var c=s.select(a,r,o);return u([a]),c},{$condition:a,$a:r,$b:o},function(s,u){var c=u[0];return{$condition:function(){return ye(c).toFloat()},$a:function(){return s.mul(c.cast(s.dtype))},$b:function(){return s.mul(c.logicalNot().cast(s.dtype))}}})}}),PD=function(t){return Mt(this,void 0,void 0,function(){var e,n,r;return Nt(this,function(o){switch(o.label){case 0:return[4,(e=V(t,"condition","whereAsync","bool")).data()];case 1:return n=o.sent(),r=jb(e.shape,n),t!==e&&e.dispose(),[2,r]}})})},ie=Y({add_:function(t,e){var n,r=V(t,"a","add"),o=V(e,"b","add");n=tn(r,o),r=n[0],o=n[1];var a=ce(r.shape,o.shape);return J.runKernelFunc(function(s){return s.add(r,o)},{a:r,b:o},function(s){return{a:function(){var u=s,c=Cn(r.shape,a);return c.length>0&&(u=u.sum(c)),u.reshape(r.shape)},b:function(){var u=s,c=Cn(o.shape,a);return c.length>0&&(u=u.sum(c)),u.reshape(o.shape)}}},"Add")}}),I8=Y({addN_:function(t){G(Array.isArray(t),function(){return"The argument passed to tf.addN() must be a list of tensors"}),G(t.length>=1,function(){return"Must pass at least one tensor to tf.addN(), but got "+t.length});var e=t.map(function(o,a){return V(o,"tensors"+a,"addN")}),n=e[0];e.forEach(function(o){if(o.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")}),e.forEach(function(o){if(!Mn(o.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")});var r=e;return J.runKernelFunc(function(o){return o.addN(e)},r,function(o){var a={};return e.forEach(function(s,u){a[u]=function(){return o.clone()}}),a},"AddN")}}),B8=Y({addStrict_:function(t,e){var n=V(t,"a","addStrict"),r=V(e,"b","addStrict");return De(n.shape,r.shape,"Error in addStrict: "),n.add(r)}}),F8=Y({atan2_:function(t,e){var n,r=V(t,"a","atan2"),o=V(e,"b","atan2");n=tn(r,o),r=n[0],o=n[1];var a=ce(r.shape,o.shape);return J.runKernelFunc(function(s,u){var c=s.atan2(r,o);return u([r,o]),c},{$a:r,$b:o},function(s,u){var c=u[0],f=u[1];return{$a:function(){var h=ie(c.square(),f.square()),p=s.mul(f.div(h)),v=Cn(c.shape,a);return v.length>0&&(p=p.sum(v)),p.reshape(c.shape)},$b:function(){var h=ie(c.square(),f.square()),p=ip(s.mul(c.div(h))),v=Cn(f.shape,a);return v.length>0&&(p=p.sum(v)),p.reshape(f.shape)}}})}}),po=Y({div_:function(t,e){var n,r=V(t,"a","div"),o=V(e,"b","div");if(n=tn(r,o),r=n[0],o=n[1],r.dtype==="int32"&&o.dtype==="int32")return ID(r,o);var a=ce(r.shape,o.shape);return J.runKernelFunc(function(s,u){var c=s.realDivide(r,o);return u([r,o]),c},{a:r,b:o},function(s,u){var c=u[0],f=u[1];return{a:function(){var h=s.div(f.toFloat()),p=Cn(c.shape,a);return p.length>0?h.sum(p).reshape(c.shape):h},b:function(){var h=s.mul(c.toFloat()),p=Cn(f.shape,a);p.length>0&&(h=h.sum(p).reshape(f.shape));var v=f.square();return h.div(v.toFloat()).neg()}}},"Div")}}),L8=Y({divNoNan_:function(t,e){var n,r=V(t,"a","div"),o=V(e,"b","div");r=(n=tn(r,o))[0],o=n[1];var a=po(r,o),s=ye(a),u=o.equal(s);return vs(u,s,a)}}),z8=Y({divStrict_:function(t,e){var n=V(t,"a","div"),r=V(e,"b","div");return De(n.shape,r.shape,"Error in divideStrict: "),n.div(r)}}),ID=Y({floorDiv_:function(t,e){var n,r=V(t,"a","floorDiv"),o=V(e,"b","floorDiv");n=tn(r,o),r=n[0],o=n[1];var a=ce(r.shape,o.shape);return J.runKernelFunc(function(s,u){var c=s.floorDiv(r,o);return u([r,o]),c},{a:r,b:o},function(s,u){var c=u[0],f=u[1];return{a:function(){var h=s.div(f.toFloat()),p=Cn(c.shape,a);return p.length>0?h.sum(p).reshape(c.shape):h},b:function(){var h=s.mul(c.toFloat()),p=Cn(f.shape,a);p.length>0&&(h=h.sum(p).reshape(f.shape));var v=f.square();return h.div(v.toFloat()).neg()}}},"FloorDiv")}}),qb=Y({maximum_:function(t,e){var n,r=V(t,"a","maximum"),o=V(e,"b","maximum");return n=tn(r,o),r=n[0],o=n[1],r.dtype==="bool"&&(r=r.toInt(),o=o.toInt()),ce(r.shape,o.shape),J.runKernelFunc(function(a,s){var u=a.maximum(r,o);return s([r,o]),u},{a:r,b:o},function(a,s){var u=s[0],c=s[1];return{a:function(){return a.mul(u.greaterEqual(c).toFloat())},b:function(){return a.mul(u.less(c).toFloat())}}},"Maximum")}}),V8=Y({maximumStrict_:function(t,e){var n=V(t,"a","maximumStrict"),r=V(e,"b","maximumStrict");return De(n.shape,r.shape,"Error in maximumStrict: "),n.maximum(r)}}),BD=Y({minimum_:function(t,e){var n,r=V(t,"a","minimum"),o=V(e,"b","minimum");return n=tn(r,o),r=n[0],o=n[1],r.dtype==="bool"&&(r=r.toInt(),o=o.toInt()),ce(r.shape,o.shape),J.runKernelFunc(function(a,s){var u=a.minimum(r,o);return s([r,o]),u},{a:r,b:o},function(a,s){var u=s[0],c=s[1];return{a:function(){return a.mul(u.lessEqual(c).toFloat())},b:function(){return a.mul(u.greater(c).toFloat())}}},"Minimum")}}),U8=Y({minimumStrict_:function(t,e){var n=V(t,"a","minimumStrict"),r=V(e,"b","minimumStrict");return De(n.shape,r.shape,"Error in minimumStrict: "),n.minimum(r)}}),j8=Y({mod_:function(t,e){var n,r=V(t,"a","mod"),o=V(e,"b","mod");n=tn(r,o),r=n[0],o=n[1];var a=ce(r.shape,o.shape);return J.runKernelFunc(function(s,u){var c=s.mod(r,o);return u([r,o]),c},{$a:r,$b:o},function(s,u){var c=u[0],f=u[1];return{$a:function(){var h=Cn(c.shape,a);return h.length>0?s.sum(h).reshape(c.shape):s},$b:function(){var h=s.mul(c.div(f).floor().neg()),p=Cn(f.shape,a);return p.length>0?h.sum(p).reshape(f.shape):h}}})}}),W8=Y({modStrict_:function(t,e){var n=V(t,"a","modStrict"),r=V(e,"b","modStrict");return De(n.shape,r.shape,"Error in modStrict: "),n.mod(r)}}),Zn=Y({mul_:function(t,e){var n,r=V(t,"a","mul"),o=V(e,"b","mul");n=tn(r,o),r=n[0],o=n[1];var a=ce(r.shape,o.shape);return J.runKernelFunc(function(s,u){var c=s.multiply(r,o);return u([r,o]),c},{a:r,b:o},function(s,u){var c=u[0],f=u[1];return{a:function(){var h=s.mul(f.toFloat()),p=Cn(c.shape,a);return p.length>0?h.sum(p).reshape(c.shape):h},b:function(){var h=s.mul(c.toFloat()),p=Cn(f.shape,a);return p.length>0?h.sum(p).reshape(f.shape):h}}},"Mul")}}),H8=Y({mulStrict_:function(t,e){var n=V(t,"a","mul"),r=V(e,"b","mul");return De(n.shape,r.shape,"Error in multiplyStrict: "),n.mul(r)}}),sp=Y({pow_:function(t,e){var n,r=V(t,"base","pow"),o=V(e,"exp","pow");n=tn(r,o),r=n[0],o=n[1];var a=ce(r.shape,o.shape),s=[r,o];return J.runKernelFunc(function(u,c){var f=u.pow(r,o);return c([r,o,f]),f},{a:r,b:o},function(u,c){var f=c[0],h=c[1],p=c[2];return{a:function(){var v=h.toFloat(),g=u.mul(v.mul(f.pow(v.sub(Ct(1))))),y=Cn(f.shape,a);return y.length>0&&(g=g.sum(y)),g.reshape(f.shape)},b:function(){var v=f.greater(0),g=f.log().where(v,ye(f)),y=u.mul(p.mul(g)),x=Cn(h.shape,a);return x.length>0&&(y=y.sum(x)),y.reshape(h.shape)}}},"Pow",{},s,[!0])}}),G8=Y({powStrict_:function(t,e){return De(t.shape,e.shape,"Error in powStrict: "),t.pow(e)}}),$8=Y({squaredDifferenceStrict_:function(t,e){var n=V(t,"a","squaredDifferenceStrict"),r=V(e,"b","squaredDifferenceStrict");return De(n.shape,r.shape,"Error in squaredDifferenceStrict: "),n.squaredDifference(r)}}),En=Y({sub_:function(t,e){var n,r=V(t,"a","sub"),o=V(e,"b","sub");n=tn(r,o),r=n[0],o=n[1];var a=ce(r.shape,o.shape);return J.runKernelFunc(function(s){return s.subtract(r,o)},{a:r,b:o},function(s){return{a:function(){var u=s,c=Cn(r.shape,a);return c.length>0&&(u=u.sum(c)),u.reshape(r.shape)},b:function(){var u=s,c=Cn(o.shape,a);return c.length>0&&(u=u.sum(c)),u.neg().reshape(o.shape)}}},"Sub")}}),q8=Y({subStrict_:function(t,e){var n=V(t,"a","subStrict"),r=V(e,"b","subStrict");return De(n.shape,r.shape,"Error in subStrict: "),n.sub(r)}}),FD=Y({equal_:function(t,e){var n,r=V(t,"a","equal"),o=V(e,"b","equal");return n=tn(r,o),r=n[0],o=n[1],ce(r.shape,o.shape),J.runKernelFunc(function(a){return a.equal(r,o)},{$a:r,$b:o})}}),K8=Y({equalStrict_:function(t,e){var n=V(t,"a","equalStrict"),r=V(e,"b","equalStrict");return De(n.shape,r.shape,"Error in equalStrict: "),n.equal(r)}}),X8=Y({greater_:function(t,e){var n,r=V(t,"a","greater"),o=V(e,"b","greater");return n=tn(r,o),r=n[0],o=n[1],ce(r.shape,o.shape),J.runKernelFunc(function(a){return a.greater(r,o)},{a:r,b:o},null,"Greater")}}),LD=Y({greaterEqual_:function(t,e){var n,r=V(t,"a","greaterEqual"),o=V(e,"b","greaterEqual");return n=tn(r,o),r=n[0],o=n[1],ce(r.shape,o.shape),J.runKernelFunc(function(a,s){var u=a.greaterEqual(r,o);return s([r,o]),u},{a:r,b:o},function(a,s){var u=s[0],c=s[1];return{a:function(){return ye(u)},b:function(){return ye(c)}}},"GreaterEqual")}}),Y8=Y({greaterEqualStrict_:function(t,e){var n=V(t,"a","greaterEqualStrict"),r=V(e,"b","greaterEqualStrict");return De(n.shape,r.shape,"Error in greaterEqualStrict: "),n.greaterEqual(r)}}),Q8=Y({greaterStrict_:function(t,e){var n=V(t,"a","greaterStrict"),r=V(e,"b","greaterStrict");return De(n.shape,r.shape,"Error in greaterStrict: "),n.greater(r)}}),Z8=Y({less_:function(t,e){var n,r=V(t,"a","less"),o=V(e,"b","less");return n=tn(r,o),r=n[0],o=n[1],ce(r.shape,o.shape),J.runKernelFunc(function(a){return a.less(r,o)},{a:r,b:o},null,"Less")}}),J8=Y({lessEqual_:function(t,e){var n,r=V(t,"a","lessEqual"),o=V(e,"b","lessEqual");return n=tn(r,o),r=n[0],o=n[1],ce(r.shape,o.shape),J.runKernelFunc(function(a,s){var u=a.lessEqual(r,o);return s([r,o]),u},{a:r,b:o},null,"LessEqual")}}),tG=Y({lessEqualStrict_:function(t,e){var n=V(t,"a","lessEqualStrict"),r=V(e,"b","lessEqualStrict");return De(n.shape,r.shape,"Error in lessEqualStrict: "),n.lessEqual(r)}}),eG=Y({lessStrict_:function(t,e){var n=V(t,"a","lessStrict"),r=V(e,"b","lessStrict");return De(n.shape,r.shape,"Error in lessStrict: "),n.less(r)}}),nG=Y({notEqual_:function(t,e){var n,r=V(t,"a","notEqual"),o=V(e,"b","notEqual");return n=tn(r,o),r=n[0],o=n[1],ce(r.shape,o.shape),J.runKernelFunc(function(a){return a.notEqual(r,o)},{a:r,b:o},null,"NotEqual")}}),rG=Y({notEqualStrict_:function(t,e){var n=V(t,"a","notEqualStrict"),r=V(e,"b","notEqualStrict");return De(n.shape,r.shape,"Error in notEqualStrict: "),n.notEqual(r)}});function dT(t,e){for(var n=[],r=t;r<e;++r)n.push(r);return n}function hT(t){for(var e=[],n=0;n<t.length;++n)for(var r=0;r<t[n].length;++r)e.push(t[n][r]);return e}var Kb=Y({gather_:function(t,e,n){n===void 0&&(n=0);var r=V(t,"x","gather"),o=V(e,"indices","gather","int32");n=Tn(n,r.shape)[0];var a=function(s,u,c){for(var f=s.shape[c],h=[],p=1,v=1,g=0;g<c;g++)h.push(s.shape[g]),p*=s.shape[g];for(g=0;g<u.rank;g++)h.push(u.shape[g]);for(g=c+1;g<s.rank;g++)h.push(s.shape[g]),v*=s.shape[g];return{batchSize:p,sliceSize:v,dimSize:f,outputShape:h}}(r,o,n);return J.runKernelFunc(function(s,u){var c=s.gather(r,o.flatten(),n);return u([o]),c},{x:r,indices:o},function(s,u){var c=u[0];return{x:function(){var f=r.shape,h=c.size,p=f.slice(0,n),v=p.length,g=f.slice(n,f.length).slice(1),y=g.length,x=dT(0,v),w=dT(v+1,v+1+y),S=hT([p,[h],g]),A=s.reshape(S),E=c.reshape([h]),T=hT([[v],x,w]),R=A.transpose(T),_=zD(R,E,r.shape[n]),M=Pb(T);return _=_.transpose(M)},indices:function(){return c}}},"Gather",{axis:n}).reshape(a.outputShape)}}),zD=Y({unsortedSegmentSum_:function(t,e,n){var r=V(t,"x","unsortedSegmentSum"),o=V(e,"segmentIds","unsortedSegmentSum","int32");return G(fn(n),function(){return"numSegments must be of dtype int"}),J.runKernelFunc(function(a,s){var u=a.unsortedSegmentSum(r,o,n);return s([o]),u},{$x:r},function(a,s){var u=s[0];return{$x:function(){return function(c,f){for(var h=qb(f,ye(f)),p=Kb(c,h),v=LD(f,Ct(0,"int32")),g=p.rank-v.rank,y=0;y<g;++y)v=Yr(v,y+1);v=Gp(v,ul(p.shape,"bool"));var x=ye(p);return vs(v,p,x)}(a,u)}}})}}),oG=function(t,e,n){return Mt(this,void 0,void 0,function(){var r,o,a,s,u,c,f,h,p,v,g,y,x;return Nt(this,function(w){switch(w.label){case 0:for(r=V(t,"tensor","boolMask"),o=V(e,"mask","boolMask","bool"),a=n??0,s=o.rank,u=r.shape,G(s>0,function(){return"mask cannot be scalar"}),De(u.slice(a,a+s),o.shape,"mask's shape must match the first K dimensions of tensor's shape,"),c=1,f=a;f<a+s;f++)c*=u[f];return h=u.slice(0,a).concat([c],u.slice(a+s)),p=r.reshape(h),v=o.reshape([-1]),[4,PD(v)];case 1:return g=w.sent(),y=g.squeeze([1]),x=Kb(p,y,a),t!==r&&r.dispose(),e!==o&&o.dispose(),y.dispose(),p.dispose(),v.dispose(),g.dispose(),[2,x]}})})};function VD(t,e,n,r,o,a,s){a===void 0&&(a="NHWC"),G(t.length===e.rank,function(){return"Length of inShape ("+t.length+") and rank of dy ("+e.rank+") must match"});var u=t,c=e,f=!1;e.rank===3&&(f=!0,c=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]),u=[1,t[0],t[1],t[2]]),G(u.length===4,function(){return"Error in conv2dDerInput: inShape must be length 4, but got length "+u.length+"."}),G(c.rank===4,function(){return"Error in conv2dDerInput: dy must be rank 4, but got rank "+c.rank}),G(n.rank===4,function(){return"Error in conv2dDerInput: filter must be rank 4, but got rank "+n.rank});var h=a==="NHWC"?u[3]:u[1],p=a==="NHWC"?c.shape[3]:c.shape[1];G(h===n.shape[2],function(){return"Error in conv2dDerInput: depth of input ("+h+") must match input depth for filter "+n.shape[2]+"."}),G(p===n.shape[3],function(){return"Error in conv2dDerInput: depth of output ("+p+") must match output depth for filter "+n.shape[3]+"."}),s!=null&&G(fn(o),function(){return"Error in conv2dDerInput: pad must be an integer when using, dimRoundingMode "+s+" but got pad "+o+"."});var v=zb(a),g=ws(u,n.shape,r,1,o,s,!1,v),y=J.runKernelFunc(function(x,w){var S=x.conv2dDerInput(c,n,g);return w([n,c]),S},{dy4D:c,filter:n},function(x,w){var S=w[0],A=w[1];return{dy4D:function(){return so(x,S,r,o,a,1,s)},filter:function(){return Xb(x,A,S.shape,r,o,a,s)}}});return f?y.as3D(y.shape[1],y.shape[2],y.shape[3]):y}function ey(t){var e=function(a){return typeof a=="number"?[a,a,a]:a.length===2?[a[0],a[1],1]:a}(t),n=e[0],r=e[1],o=e[2];return n===1&&r===1&&o===1}function UD(t,e,n,r,o){G(t.length===e.rank,function(){return"Length of inShape ("+t.length+") and rank of dy ("+e.rank+") must match"});var a=t,s=e,u=!1;e.rank===4&&(u=!0,s=e.as5D(1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]),a=[1,t[0],t[1],t[2],t[3]]);var c=a[4],f=s.shape[4];G(a.length===5,function(){return"Error in conv3dDerInput: inShape must be length 5, but got length "+a.length+"."}),G(s.rank===5,function(){return"Error in conv3dDerInput: dy must be rank 5, but got rank "+s.rank}),G(n.rank===5,function(){return"Error in conv3dDerInput: filter must be rank 5, but got rank "+n.rank}),G(c===n.shape[3],function(){return"Error in conv3dDerInput: depth of input ("+c+") must match input depth for filter "+n.shape[3]+"."}),G(f===n.shape[4],function(){return"Error in conv3dDerInput: depth of output ("+f+") must match output depth for filter "+n.shape[4]+"."});var h=op(a,n.shape,r,1,o),p=J.runKernelFunc(function(v){return v.conv3dDerInput(s,n,h)},{dy5D:s});return u?p.as4D(p.shape[1],p.shape[2],p.shape[3],p.shape[4]):p}var aG=Y({conv1d_:function(t,e,n,r,o,a,s){o===void 0&&(o="NWC"),a===void 0&&(a=1);var u=V(t,"x","conv1d"),c=V(e,"filter","conv1d"),f=u,h=!1;u.rank===2&&(h=!0,f=u.as3D(1,u.shape[0],u.shape[1])),G(f.rank===3,function(){return"Error in conv1d: input must be rank 3, but got rank "+f.rank+"."}),G(c.rank===3,function(){return"Error in conv1d: filter must be rank 3, but got rank "+c.rank+"."}),s!=null&&G(fn(r),function(){return"Error in conv1d: pad must be an integer when using, dimRoundingMode "+s+" but got pad "+r+"."}),G(f.shape[2]===c.shape[1],function(){return"Error in conv1d: depth of input ("+f.shape[2]+") must match input depth for filter "+c.shape[1]+"."}),G(br(n,a),function(){return"Error in conv1D: Either stride or dilation must be 1. Got stride "+n+" and dilation '"+a+"'"}),G(o==="NWC",function(){return"Error in conv1d: got dataFormat of "+o+" but only NWC is currently supported."});var p=c.as4D(1,c.shape[0],c.shape[1],c.shape[2]),v=f.as4D(f.shape[0],1,f.shape[1],f.shape[2]),g=so(v,p,[1,n],r,"NHWC",[1,a],s);return h?g.as2D(g.shape[2],g.shape[3]):g.as3D(g.shape[0],g.shape[2],g.shape[3])}}),so=Y({conv2d_:function(t,e,n,r,o,a,s){o===void 0&&(o="NHWC"),a===void 0&&(a=[1,1]);var u=V(t,"x","conv2d"),c=V(e,"filter","conv2d"),f=u,h=!1;u.rank===3&&(h=!0,f=u.as4D(1,u.shape[0],u.shape[1],u.shape[2])),G(f.rank===4,function(){return"Error in conv2d: input must be rank 4, but got rank "+f.rank+"."}),G(c.rank===4,function(){return"Error in conv2d: filter must be rank 4, but got rank "+c.rank+"."}),s!=null&&G(fn(r),function(){return"Error in conv2d: pad must be an integer when using, dimRoundingMode "+s+" but got pad "+r+"."});var p=o==="NHWC"?f.shape[3]:f.shape[1];G(p===c.shape[2],function(){return"Error in conv2d: depth of input ("+p+") must match input depth for filter "+c.shape[2]+"."}),G(br(n,a),function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+a+"'"});var v=zb(o),g=ws(f.shape,c.shape,n,a,r,s,!1,v),y=[c,f],x=J.runKernelFunc(function(w,S){var A=w.conv2d(f,c,g);return S([c,f]),A},{x:f,filter:c},function(w,S){var A=S,E=A[0],T=A[1];return G(Xu(a),function(){return"Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+a+"'"}),{x:function(){return jD(T.shape,w,E,n,r,o)},filter:function(){return Xb(T,w,E.shape,n,r,o)}}},"Conv2D",g,y);return h?x.as3D(x.shape[1],x.shape[2],x.shape[3]):x}}),iG=Y({conv3d_:function(t,e,n,r,o,a){o===void 0&&(o="NDHWC"),a===void 0&&(a=[1,1,1]);var s=V(t,"x","conv3d"),u=V(e,"filter","conv3d"),c=s,f=!1;s.rank===4&&(f=!0,c=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3])),G(c.rank===5,function(){return"Error in conv3d: input must be rank 5, but got rank "+c.rank+"."}),G(u.rank===5,function(){return"Error in conv3d: filter must be rank 5, but got rank "+u.rank+"."}),G(c.shape[4]===u.shape[3],function(){return"Error in conv3d: depth of input ("+c.shape[4]+") must match input depth for filter "+u.shape[3]+"."}),G(function(v,g){return ey(v)||ey(g)}(n,a),function(){return"Error in conv3D: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+a+"'"}),G(o==="NDHWC",function(){return"Error in conv3d: got dataFormat of "+o+" but only NDHWC is currently supported."});var h=op(c.shape,u.shape,n,a,r),p=J.runKernelFunc(function(v,g){var y=v.conv3d(c,u,h);return g([c,u]),y},{x:c,$filter:u},function(v,g){G(ey(a),function(){return"Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+a+"'"});var y=g[0],x=g[1];return{x:function(){return UD(y.shape,v,x,n,r)},$filter:function(){return function(w,S,A,E,T){var R=w;w.rank===4&&(R=w.as5D(1,w.shape[0],w.shape[1],w.shape[2],w.shape[3]));var _=S;_.rank===4&&(_=S.as5D(1,S.shape[0],S.shape[1],S.shape[2],S.shape[3])),G(R.rank===5,function(){return"Error in conv3dDerFilter: input must be rank 5, but got shape "+R.shape+"."}),G(_.rank===5,function(){return"Error in conv3dDerFilter: dy must be rank 5, but got shape "+_.shape+"."}),G(A.length===5,function(){return"Error in conv3dDerFilter: filterShape must be length 5, but got "+A+"."}),G(R.shape[4]===A[3],function(){return"Error in conv3dDerFilter: depth of input "+R.shape[4]+") must match input depth in filter ("+A[3]+"."}),G(_.shape[4]===A[4],function(){return"Error in conv3dDerFilter: depth of dy ("+_.shape[4]+") must match output depth for filter ("+A[4]+")."});var M=op(R.shape,A,E,1,T);return J.runKernelFunc(function(k){return k.conv3dDerFilter(R,_,M)},{x5D:R,dy5D:_})}(y,v,x.shape,n,r)}}});return f?p.as4D(p.shape[1],p.shape[2],p.shape[3],p.shape[4]):p}}),Xb=Y({conv2dDerFilter_:function(t,e,n,r,o,a,s){a===void 0&&(a="NHWC");var u=t;t.rank===3&&(u=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]));var c=e;c.rank===3&&(c=e.as4D(1,e.shape[0],e.shape[1],e.shape[2])),G(u.rank===4,function(){return"Error in conv2dDerFilter: input must be rank 4, but got shape "+u.shape+"."}),G(c.rank===4,function(){return"Error in conv2dDerFilter: dy must be rank 4, but got shape "+c.shape+"."}),G(n.length===4,function(){return"Error in conv2dDerFilter: filterShape must be length 4, but got "+n+"."});var f=a==="NHWC"?u.shape[3]:u.shape[1],h=a==="NHWC"?c.shape[3]:c.shape[1];G(f===n[2],function(){return"Error in conv2dDerFilter: depth of input "+f+") must match input depth in filter ("+n[2]+"."}),G(h===n[3],function(){return"Error in conv2dDerFilter: depth of dy ("+h+") must match output depth for filter ("+n[3]+")."}),s!=null&&G(fn(o),function(){return"Error in conv2dDerFilter: pad must be an integer when using, dimRoundingMode "+s+" but got pad "+o+"."});var p=zb(a),v=ws(u.shape,n,r,1,o,s,!1,p);return J.runKernelFunc(function(g){return g.conv2dDerFilter(u,c,v)},{x4D:u,dy4D:c})}}),jD=Y({conv2dDerInput_:VD}),$p=Y({depthwiseConv2d_:function(t,e,n,r,o,a,s){a===void 0&&(a=[1,1]);var u=V(t,"x","depthwiseConv2d"),c=V(e,"filter","depthwiseConv2d"),f=u,h=!1;u.rank===3&&(h=!0,f=u.as4D(1,u.shape[0],u.shape[1],u.shape[2])),G(f.rank===4,function(){return"Error in depthwiseConv2d: input must be rank 4, but got rank "+f.rank+"."}),G(c.rank===4,function(){return"Error in depthwiseConv2d: filter must be rank 4, but got rank "+c.rank+"."}),G(f.shape[3]===c.shape[2],function(){return"Error in depthwiseConv2d: number of input channels ("+f.shape[3]+") must match the inChannels dimension in filter "+c.shape[2]+"."}),a==null&&(a=[1,1]),G(br(n,a),function(){return"Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+a+"'"}),s!=null&&G(fn(r),function(){return"Error in depthwiseConv2d: pad must be an integer when using, dimRoundingMode "+s+" but got pad "+r+"."});var p=ws(f.shape,c.shape,n,a,r,s,!0),v=[f,c],g=J.runKernelFunc(function(y,x){var w=y.depthwiseConv2D(f,c,p);return x([f,c]),w},{x:f,filter:c},function(y,x){G(Xu(a),function(){return"Error in gradient of depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+a+"'"});var w=x[0],S=x[1];return{x:function(){return WD(w.shape,y,S,p)},filter:function(){return HD(w,y,S.shape,p)}}},"DepthwiseConv2dNative",p,v);return h?g.as3D(g.shape[1],g.shape[2],g.shape[3]):g}}),WD=Y({depthwiseConv2dDerInput_:function(t,e,n,r){var o=e,a=!1;e.rank===3&&(a=!0,o=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var s=J.runKernelFunc(function(u){return u.depthwiseConv2DDerInput(o,n,r)},{dy4D:o});return a?s.as3D(s.shape[1],s.shape[2],s.shape[3]):s}}),HD=Y({depthwiseConv2dDerFilter_:function(t,e,n,r){var o=t;t.rank===3&&(o=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]));var a=e;return a.rank===3&&(a=e.as4D(1,e.shape[0],e.shape[1],e.shape[2])),J.runKernelFunc(function(s){return s.depthwiseConv2DDerFilter(o,a,r)},{x4D:o,dy4D:a})}}),Yb=Y({separableConv2d_:function(t,e,n,r,o,a,s){a===void 0&&(a=[1,1]),s===void 0&&(s="NHWC");var u=V(t,"x","separableConv2d"),c=V(e,"depthwiseFilter","separableConv2d"),f=V(n,"pointwiseFilter","separableConv2d"),h=u,p=!1;if(u.rank===3&&(p=!0,h=u.as4D(1,u.shape[0],u.shape[1],u.shape[2])),s==="NCHW")throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");G(h.rank===4,function(){return"Error in separableConv2d: input must be rank 4, but got rank "+h.rank+"."}),G(c.rank===4,function(){return"Error in separableConv2d: depthwise filter must be rank 4, but got rank "+c.rank+"."}),G(f.rank===4,function(){return"Error in separableConv2d: pointwise filter must be rank 4, but got rank "+c.rank+"."}),G(f.shape[0]===1,function(){return"Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got "+f.shape[0]+"."}),G(f.shape[1]===1,function(){return"Error in separableConv2d: the second dimension of pointwise filter must be 1, but got "+f.shape[1]+"."});var v=c.shape[2],g=c.shape[3];G(f.shape[2]===v*g,function(){return"Error in separableConv2d: the third dimension of pointwise filter must be "+v*g+", but got "+f.shape[2]+"."});var y=$p(h,c,r,o,s,a),x=so(y,f,1,"valid",s);return p?x.as3D(x.shape[1],x.shape[2],x.shape[3]):x}}),sG=Y({conv2dTranspose_:function(t,e,n,r,o,a){return VD(n,V(t,"x","conv2dTranspose"),V(e,"filter","conv2dTranspose"),r,o,"NHWC",a)}}),uG=Y({conv3dTranspose_:function(t,e,n,r,o){return UD(n,V(t,"x","conv3dTranspose"),V(e,"filter","conv3dTranspose"),r,o)}}),qp=Y({matMul_:function(t,e,n,r){var o;n===void 0&&(n=!1),r===void 0&&(r=!1);var a=V(t,"a","matMul"),s=V(e,"b","matMul");o=tn(a,s),a=o[0],s=o[1];var u=n?a.shape[a.rank-2]:a.shape[a.rank-1],c=r?s.shape[s.rank-1]:s.shape[s.rank-2],f=n?a.shape[a.rank-1]:a.shape[a.rank-2],h=r?s.shape[s.rank-2]:s.shape[s.rank-1],p=a.shape.slice(0,-2),v=s.shape.slice(0,-2),g=Ot(p),y=Ot(v);G(a.rank>=2&&s.rank>=2&&a.rank===s.rank,function(){return"Error in matMul: inputs must have the same rank of at least 2, got ranks "+a.rank+" and "+s.rank+"."}),G(Mn(p,v),function(){return"Error in matMul: outer dimensions ("+p+") and ("+v+") of Tensors with shapes "+a.shape+" and "+s.shape+" must match."}),G(u===c,function(){return"Error in matMul: inner shapes ("+u+") and ("+c+") of Tensors with shapes "+a.shape+" and "+s.shape+" and transposeA="+n+" and transposeB="+r+" must match."});var x=a.shape.slice(0,-2).concat([f,h]),w=n?a.as3D(g,u,f):a.as3D(g,f,u),S=r?s.as3D(y,h,c):s.as3D(y,c,h),A={transposeA:n,transposeB:r};return J.runKernelFunc(function(E,T){var R=E.batchMatMul(w,S,n,r);return T([w,S]),R},{a:w,b:S},function(E,T){var R=T,_=R[0],M=R[1];return n||r?!n&&r?{a:function(){return E.matMul(M,!1,!1)},b:function(){return E.matMul(_,!0,!1)}}:n&&!r?{a:function(){return M.matMul(E,!1,!0)},b:function(){return _.matMul(E,!1,!1)}}:{a:function(){return M.matMul(E,!0,!0)},b:function(){return E.matMul(_,!0,!0)}}:{a:function(){return E.matMul(M,!1,!0)},b:function(){return _.matMul(E,!0,!1)}}},"BatchMatMul",A).reshape(x)}}),lG=Y({dot_:function(t,e){var n=V(t,"t1","dot"),r=V(e,"t2","dot");G(!(n.rank!==1&&n.rank!==2||r.rank!==1&&r.rank!==2),function(){return"Error in dot: inputs must all be rank 1 or 2, but got ranks "+n.rank+" and "+r.rank+"."});var o=n.rank===1?n.size:n.shape[1],a=r.rank===1?r.size:r.shape[0];return G(o===a,function(){return"Error in dot: inner dimensions of inputs must match, but got "+o+" and "+a+"."}),n.rank===1&&r.rank===1?n.as2D(1,-1).matMul(r.as2D(-1,1)).asScalar():n.rank===1&&r.rank===2?n.as2D(1,-1).matMul(r.as2D(r.shape[0],r.shape[1])).as1D():n.rank===2&&r.rank===1?n.matMul(r.as2D(-1,1)).as1D():n.matMul(r.as2D(r.shape[0],r.shape[1]))}}),cG=Y({outerProduct_:function(t,e){var n=V(t,"v1","outerProduct"),r=V(e,"v2","outerProduct");return G(n.rank===1&&r.rank===1,function(){return"Error in outerProduct: inputs must be rank 1, but got ranks "+n.rank+" and "+r.rank+"."}),n.as2D(-1,1).matMul(r.as2D(1,-1))}}),Tf=Y({reverse_:function(t,e){var n=V(t,"x","reverse");if(n.rank===0)return n.clone();var r=Tn(e,n.shape);return J.runKernelFunc(function(o){return o.reverse(n,r)},{$x:n},function(o){return{$x:function(){return o.reverse(r)}}}).reshapeAs(n)}}),fG=Y({reverse1d_:function(t){var e=V(t,"x","reverse");return G(e.rank===1,function(){return"Error in reverse1D: x must be rank 1 but got rank "+e.rank+"."}),Tf(e,0)}}),dG=Y({reverse2d_:function(t,e){var n=V(t,"x","reverse");return G(n.rank===2,function(){return"Error in reverse2D: x must be rank 2 but got rank "+n.rank+"."}),Tf(n,e)}}),hG=Y({reverse3d_:function(t,e){var n=V(t,"x","reverse");return G(n.rank===3,function(){return"Error in reverse3D: x must be rank 3 but got rank "+n.rank+"."}),Tf(n,e)}}),pG=Y({reverse4d_:function(t,e){var n=V(t,"x","reverse");return G(n.rank===4,function(){return"Error in reverse4D: x must be rank 4 but got rank "+n.rank+"."}),Tf(n,e)}});function GD(t,e,n,r,o,a){var s=V(t,"x","maxPool"),u=s,c=!1;s.rank===3&&(c=!0,u=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),G(u.rank===4,function(){return"Error in maxPool: input must be rank 4 but got rank "+u.rank+"."}),G(br(n,r),function(){return"Error in maxPool: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+r+"'"}),a!=null&&G(fn(o),function(){return"Error in maxPool: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+o+"."});var f=Yc(u.shape,e,n,r,o,a);if(f.filterWidth===1&&f.filterHeight===1&&Mn(f.inShape,f.outShape))return s.clone();var h=[u],p=J.runKernelFunc(function(v,g){var y=v.maxPool(u,f);return g([u,y]),y},{x:u},function(v,g){var y=g[0],x=g[1];return{x:function(){return function(w,S,A,E,T,R,_,M){var k=V(w,"dy","maxPoolBackprop"),N=V(S,"input","maxPoolBackprop"),I=V(A,"output","maxPoolBackprop");G(N.rank===k.rank,function(){return"Rank of input ("+N.rank+") does not match rank of dy ("+k.rank+")"}),G(br(T,R),function(){return"Error in maxPoolBackProp: Either strides or dilations must be 1. Got strides "+T+" and dilations '"+R+"'"}),G(k.rank===4,function(){return"Error in maxPoolBackprop: dy must be rank 4 but got rank "+k.rank+"."}),G(N.rank===4,function(){return"Error in maxPoolBackprop: input must be rank 4 but got rank "+N.rank+"."});var z=Yc(N.shape,E,T,R,_,M);return J.runKernelFunc(function(D){return D.maxPoolBackprop(k,N,I,z)},{$dy:k,$input:N})}(v,y,x,e,n,r,o)}}},"MaxPool",f,h);return c?p.as3D(p.shape[1],p.shape[2],p.shape[3]):p}function $D(t,e,n,r,o,a){var s=V(t,"x","avgPool","float32");G(br(n,r),function(){return"Error in avgPool: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+r+"'"});var u=s,c=!1;s.rank===3&&(c=!0,u=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),G(u.rank===4,function(){return"Error in avgPool: x must be rank 4 but got rank "+u.rank+"."}),a!=null&&G(fn(o),function(){return"Error in avgPool: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+o+"."});var f=Yc(u.shape,e,n,r,o,a);if(f.filterWidth===1&&f.filterHeight===1&&Mn(f.inShape,f.outShape))return s.clone();var h=J.runKernelFunc(function(p){return p.avgPool(u,f)},{x:u},function(p){return{x:function(){return function(v,g,y,x,w,S){var A=V(v,"dy","avgPoolBackprop"),E=V(g,"input","avgPoolBackprop");G(E.rank===A.rank,function(){return"Rank of input ("+E.rank+") does not match rank of dy ("+A.rank+")"}),G(br(x,w),function(){return"Error in avgPoolBackprop: Either strides or dilations must be 1. Got strides "+x+" and dilations '"+w+"'"});var T=E,R=A,_=!1;E.rank===3&&(_=!0,T=E.as4D(1,E.shape[0],E.shape[1],E.shape[2]),R=A.as4D(1,A.shape[0],A.shape[1],A.shape[2])),G(R.rank===4,function(){return"Error in avgPoolBackprop: dy must be rank 4 but got rank "+R.rank+"."}),G(T.rank===4,function(){return"Error in avgPoolBackprop: input must be rank 4 but got rank "+T.rank+"."});var M=Yc(T.shape,y,x,w,S),k=J.runKernelFunc(function(N){return N.avgPoolBackprop(R,T,M)},{dy4D:R,input4D:T});return _?k.as3D(k.shape[1],k.shape[2],k.shape[3]):k}(p,u,e,n,r,o)}}},"AvgPool",f);return h=h.cast(s.dtype),c?h.as3D(h.shape[1],h.shape[2],h.shape[3]):h}var kn=Y({maxPool_:function(t,e,n,r,o){return GD(t,e,n,1,r,o)}}),Rf=Y({avgPool_:function(t,e,n,r,o){return $D(t,e,n,1,r,o)}}),mG=Y({pool_:function(t,e,n,r,o,a){o==null&&(o=[1,1]),a==null&&(a=1),r===0&&(r="valid");var s=V(t,"x","maxPool"),u=s,c=!1;s.rank===3&&(c=!0,u=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),G(br(a,o),function(){return"Error in pool: Either strides or dilations must be 1. Got strides "+a+" and dilations '"+o+"'"});var f,h=Yc(u.shape,e,a,o,r),p=[h.dilationHeight,h.dilationWidth];f=r==="same"?function(T,R){var _=T.map(function(N,I){return N+(N-1)*(R[I]-1)}).map(function(N){return N-1}),M=_.map(function(N){return Math.floor(N/2)}),k=_.map(function(N,I){return N-M[I]});return _.map(function(N,I){return[M[I],k[I]]})}([h.filterHeight,h.filterWidth],p):[[0,0],[0,0]];var v=p[0]===1&&p[1]===1,g=function(T,R,_){var M=_.map(function(j){return j[0]}),k=_.map(function(j){return j[1]}),N=T.concat(M,k),I=R.map(function(j,W){return(j-N[W]%j)%j}),z=k.map(function(j,W){return j+I[W]}),D=R.map(function(j,W){return[M[W],z[W]]}),$=R.map(function(j,W){return[0,I[W]]});return[D,$]}([h.inHeight,h.inWidth],p,f),y=g[0],x=g[1],w=v?r:"valid",S=v?u:Z_(u,p,y),A=(n==="avg"?function(){return $D(S,e,a,1,w)}:function(){return GD(S,e,a,1,w)})(),E=v?A:X_(A,p,x);return c?E.as3D(E.shape[1],E.shape[2],E.shape[3]):E}}),vG=Y({maxPool3d_:function(t,e,n,r,o,a,s){a===void 0&&(a="NDHWC");var u=V(t,"x","maxPool3d"),c=u,f=!1;u.rank===4&&(f=!0,c=u.as5D(1,u.shape[0],u.shape[1],u.shape[2],u.shape[3])),s==null&&(s=[1,1,1]),G(c.rank===5,function(){return"Error in maxPool3d: x must be rank 5 but got rank "+c.rank+"."}),G(a==="NDHWC",function(){return"Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of "+a}),G(br(n,s),function(){return"Error in maxPool3d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+s+"'"}),o!=null&&G(fn(r),function(){return"Error in maxPool3d: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+r+"."});var h=rp(c.shape,e,n,s,r,o,a),p=J.runKernelFunc(function(v,g){var y=v.maxPool3d(c,h);return g([c,y]),y},{x:c},function(v,g){var y=g[0],x=g[1];return{x:function(){return function(w,S,A,E,T,R,_,M){var k=V(w,"dy","maxPool3dBackprop"),N=V(S,"input","maxPool3dBackprop"),I=V(A,"output","maxPool3dBackprop"),z=k,D=N,$=I,j=!1;N.rank===4&&(j=!0,z=k.as5D(1,k.shape[0],k.shape[1],k.shape[2],k.shape[3]),D=N.as5D(1,N.shape[0],N.shape[1],N.shape[2],N.shape[3]),$=I.as5D(1,I.shape[0],I.shape[1],I.shape[2],I.shape[3])),G(z.rank===5,function(){return"Error in maxPool3dBackprop: dy must be rank 5 but got rank "+z.rank+"."}),G(D.rank===5,function(){return"Error in maxPool3dBackprop: input must be rank 5 but got rank "+D.rank+"."}),G($.rank===5,function(){return"Error in maxPool3dBackprop: output must be rank 5 but got rank "+$.rank+"."}),R==null&&(R=[1,1,1]),G(br(T,R),function(){return"Error in maxPool3dBackprop: Either strides or dilations must be 1. Got strides "+T+" and dilations '"+R+"'"}),M!=null&&G(fn(_),function(){return"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode "+M+" but got pad "+_+"."});var W=rp(D.shape,E,T,R,_,M),B=J.runKernelFunc(function(H){return H.maxPool3dBackprop(z,D,$,W)},{dy5D:z,input5D:D});return j?B.as4D(B.shape[1],B.shape[2],B.shape[3],B.shape[4]):B}(v,y,x,e,n,s,r,o)}}});return f?p.as4D(p.shape[1],p.shape[2],p.shape[3],p.shape[4]):p}}),gG=Y({avgPool3d_:function(t,e,n,r,o,a,s){a===void 0&&(a="NDHWC");var u=V(t,"x","avgPool3d","float32"),c=u,f=!1;u.rank===4&&(f=!0,c=u.as5D(1,u.shape[0],u.shape[1],u.shape[2],u.shape[3])),s==null&&(s=[1,1,1]),G(c.rank===5,function(){return"Error in avgPool3d: x must be rank 5 but got rank "+c.rank+"."}),G(a==="NDHWC",function(){return"Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of "+a}),G(br(n,s),function(){return"Error in avgPool3d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+s+"'"}),o!=null&&G(fn(r),function(){return"Error in avgPool3d: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+r+"."});var h=rp(c.shape,e,n,s,r,o,a),p=J.runKernelFunc(function(v){return v.avgPool3d(c,h)},{x:c},function(v){return{x:function(){return function(g,y,x,w,S,A,E){var T=V(g,"dy","avgPool3dBackprop"),R=V(y,"input","avgPool3dBackprop"),_=T,M=R,k=!1;R.rank===4&&(k=!0,_=T.as5D(1,T.shape[0],T.shape[1],T.shape[2],T.shape[3]),M=R.as5D(1,R.shape[0],R.shape[1],R.shape[2],R.shape[3])),G(_.rank===5,function(){return"Error in avgPool3dBackprop: dy must be rank 5 but got rank "+_.rank+"."}),G(M.rank===5,function(){return"Error in avgPool3dBackprop: input must be rank 5 but got rank "+M.rank+"."}),S==null&&(S=[1,1,1]),G(br(w,S),function(){return"Error in avgPool3dBackprop: Either strides or dilations must be 1. Got strides "+w+" and dilations '"+S+"'"}),E!=null&&G(fn(A),function(){return"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode "+E+" but got pad "+A+"."});var N=rp(M.shape,x,w,S,A,E),I=J.runKernelFunc(function(z){return z.avgPool3dBackprop(_,M,N)},{dy5D:_,input5D:M});return k?I.as4D(I.shape[1],I.shape[2],I.shape[3],I.shape[4]):I}(v,c,e,n,s,r,o)}}});return p=p.cast(c.dtype),f?p.as4D(p.shape[1],p.shape[2],p.shape[3],p.shape[4]):p}}),Xo=Y({slice_:function(t,e,n){var r,o,a=V(t,"x","slice");if(a.rank===0)throw new Error("Slicing scalar is not possible");(r=typeof e=="number"?[e].concat(new Array(a.rank-1).fill(0)):e.length<a.rank?e.concat(new Array(a.rank-e.length).fill(0)):e.slice()).forEach(function(c){G(c!==-1,function(){return"slice() does not support negative begin indexing."})}),o=(o=n==null?new Array(a.rank).fill(-1):typeof n=="number"?[n].concat(new Array(a.rank-1).fill(-1)):n.length<a.rank?n.concat(new Array(a.rank-n.length).fill(-1)):n).map(function(c,f){return c>=0?c:(G(c===-1,function(){return"Negative size values should be exactly -1 but got "+c+" for the slice() size at index "+f+"."}),a.shape[f]-r[f])}),Gj(a,r,o);var s=a.shape,u={begin:r,size:o};return J.runKernelFunc(function(c){return c.slice(a,r,o)},{x:a},function(c){for(var f=[],h=0;h<c.rank;h++)f.push([r[h],s[h]-r[h]-o[h]]);return{x:function(){return c.pad(f)}}},"Slice",u)}}),yG=Y({slice1d_:function(t,e,n){var r=V(t,"x","slice1d");return G(r.rank===1,function(){return"slice1d expects a rank-1 tensor, but got a rank-"+r.rank+" tensor"}),Xo(r,[e],[n])}}),bG=Y({slice2d_:function(t,e,n){var r=V(t,"x","slice2d");return G(r.rank===2,function(){return"slice2d expects a rank-2 tensor, but got a rank-"+r.rank+" tensor"}),Xo(r,e,n)}}),qD=Y({slice3d_:function(t,e,n){var r=V(t,"x","slice3d");return G(r.rank===3,function(){return"slice3d expects a rank-3 tensor, but got a rank-"+r.rank+" tensor"}),Xo(r,e,n)}}),xG=Y({slice4d_:function(t,e,n){var r=V(t,"x","slice4d");return G(r.rank===4,function(){return"slice4d expects a rank-4 tensor, but got a rank-"+r.rank+" tensor"}),Xo(r,e,n)}});function KD(t,e,n,r,o){return e.rank<n.rank&&(e=e.reshape(yr(e.shape,r))),t.rank<n.rank&&(t=t.reshape(yr(t.shape,r))),{x:function(){var a=t.mul(n.equal(e).cast(t.dtype));return o==null?a:a.transpose(o)}}}var wG=Y({all_:function(t,e,n){e===void 0&&(e=null),n===void 0&&(n=!1);var r=V(t,"x","all","bool"),o=Tn(e,r.shape),a=o,s=ta(a,r.rank);s!=null&&(r=r.transpose(s),a=ea(a.length,r.rank));var u=J.runKernelFunc(function(f){return f.all(r,a)},{$x:r});if(n){var c=yr(u.shape,o);return u.reshape(c)}return u}}),SG=Y({any_:function(t,e,n){e===void 0&&(e=null),n===void 0&&(n=!1);var r=V(t,"x","any","bool"),o=Tn(e,r.shape),a=o,s=ta(a,r.rank);s!=null&&(r=r.transpose(s),a=ea(a.length,r.rank));var u=J.runKernelFunc(function(f){return f.any(r,a)},{$x:r});if(n){var c=yr(u.shape,o);return u.reshape(c)}return u}}),CG=Y({argMax_:function(t,e){e===void 0&&(e=0);var n=V(t,"x","argMax");e==null&&(e=0);var r=Tn(e,n.shape),o=ta(r,n.rank);o!=null&&(n=n.transpose(o),r=ea(r.length,n.rank));var a={axis:r[0]},s=[n];return J.runKernelFunc(function(u,c){var f=u.argMax(n,r[0]);return c([n]),f},{x:n},function(u,c){var f=c[0];return{x:function(){return ye(f)}}},"ArgMax",a,s)}}),EG=Y({argMin_:function(t,e){e===void 0&&(e=0);var n=V(t,"x","argMin");e==null&&(e=0);var r=Tn(e,n.shape),o=ta(r,n.rank);return o!=null&&(n=n.transpose(o),r=ea(r.length,n.rank)),J.runKernelFunc(function(a,s){var u=a.argMin(n,r[0]);return s([n]),u},{$x:n},function(a,s){var u=s[0];return{$x:function(){return ye(u)}}})}}),TG=Y({logSumExp_:function(t,e,n){e===void 0&&(e=null),n===void 0&&(n=!1);var r=V(t,"x","logSumExp"),o=Tn(e,r.shape),a=r.max(o,!0),s=r.sub(a).exp().sum(o).log(),u=a.reshape(s.shape).add(s);if(n){var c=yr(u.shape,o);return u.reshape(c)}return u}}),Kp=Y({max_:function(t,e,n){e===void 0&&(e=null),n===void 0&&(n=!1);var r=V(t,"x","max"),o=r,a=Tn(e,r.shape),s=a,u=ta(s,r.rank);u!=null&&(r=r.transpose(u),s=ea(s.length,r.rank));var c=[r],f=J.runKernelFunc(function(p,v){var g=p.max(r,s);return v([o,g]),g},{x:r},function(p,v){return KD(p,v[1],v[0],a,u)},"Max",{axes:s},c,[!0]);if(n){var h=yr(f.shape,a);f=f.reshape(h)}return f}}),RG=Y({mean_:function(t,e,n){e===void 0&&(e=null),n===void 0&&(n=!1);var r=V(t,"x","mean"),o=Tn(e,r.shape),a=Ot(qn(r.shape,o)[1]);return Wp(function(s){var u=Ct(a);return{value:(u.dtype===s.dtype?s:s.cast(u.dtype)).div(u).sum(e,n),gradFunc:function(c){var f=s.shape.slice();return o.forEach(function(h){f[h]=1}),c.reshape(f).mul(ul(s.shape,"float32")).div(a)}}})(r)}}),AG=Y({min_:function(t,e,n){e===void 0&&(e=null),n===void 0&&(n=!1);var r=V(t,"x","min"),o=r,a=Tn(e,r.shape),s=a,u=ta(s,r.rank);u!=null&&(r=r.transpose(u),s=ea(s.length,r.rank));var c=[r],f=J.runKernelFunc(function(p,v){var g=p.min(r,s);return v([o,g]),g},{x:r},function(p,v){return KD(p,v[1],v[0],a,u)},"Min",{axes:s},c,[!0]);if(n){var h=yr(f.shape,a);f=f.reshape(h)}return f}}),_G=Y({moments_:function(t,e,n){e===void 0&&(e=null),n===void 0&&(n=!1);var r=Tn(e,(t=V(t,"x","moments")).shape),o=t.mean(r,n),a=o.shape;n||(a=yr(o.shape,r));var s=t.toFloat().sub(o.reshape(a)).square();return{mean:o,variance:s.mean(r,n)}}}),XD=Y({sum_:function(t,e,n){e===void 0&&(e=null),n===void 0&&(n=!1);var r=V(t,"x","sum");r.dtype==="bool"&&(r=r.toInt());var o=Tn(e,r.shape);return Wp(function(a){var s=ta(o,a.rank),u=o,c=a;s!=null&&(c=a.transpose(s),u=ea(u.length,a.rank));var f=function(g){var y=a.shape.slice();return o.forEach(function(x){y[x]=1}),g.reshape(y).mul(ul(a.shape,"float32"))},h={axes:u},p=J.runKernelFunc(function(g){return g.sum(c,u)},{x:c},function(g){return{x:function(){return f(g)}}},"Sum",h);if(n){var v=yr(p.shape,o);p=p.reshape(v)}return{value:p,gradFunc:f}})(r)}}),DG=Y({prod_:function(t,e,n){e===void 0&&(e=null),n===void 0&&(n=!1);var r=V(t,"x","prod");r.dtype==="bool"&&(r=r.toInt());var o=Tn(e,r.shape),a=ta(o,r.rank),s=o,u=r;a!=null&&(u=r.transpose(a),s=ea(s.length,r.rank));var c=J.runKernelFunc(function(h){return h.prod(u,s)},{permutedX:u});if(n){var f=yr(c.shape,o);c=c.reshape(f)}return c}}),YD=Y({elu_:function(t){var e=V(t,"x","elu");return J.runKernelFunc(function(n,r){var o=n.elu(e);return r([o]),o},{$x:e},function(n,r){var o=r[0];return{$x:function(){return J.runKernelFunc(function(a){return a.eluDer(n,o)},{dy:n,y:o})}}})}}),kG=Y({leakyRelu_:function(t,e){e===void 0&&(e=.2);var n=V(t,"x","leakyRelu");return qb(Ct(e).mul(n),n)}}),QD=Y({prelu_:function(t,e){var n=V(t,"x","prelu"),r=V(e,"alpha","prelu");return J.runKernelFunc(function(o,a){var s=o.prelu(n,r);return a([n,r]),s},{x:n,alpha:r},function(o,a){var s=a[0],u=a[1],c=s.greater(0);return{x:function(){return vs(c,o,o.mul(u))},alpha:function(){var f=vs(c,ye(o),o.mul(s)),h=Cn(u.shape,o.shape);return h.length>0&&(f=f.sum(h)),f.reshape(u.shape)}}},"Prelu")}}),Ze=Y({relu_:function(t){var e=V(t,"x","relu");return e.dtype==="bool"?e.toInt():J.runKernelFunc(function(n,r){var o=n.relu(e);return r([e]),o},{x:e},function(n,r){var o=r[0];return{x:function(){return n.mulStrict(o.step().toFloat())}}},"Relu")}}),ZD=Y({relu6_:function(t){var e=V(t,"x","relu6");return e.dtype==="bool"?e.toInt():J.runKernelFunc(function(n,r){var o=n.relu6(e);return r([e]),o},{x:e},function(n,r){var o=r[0],a=o.lessEqual(6).mul(o.step());return{x:function(){return n.mulStrict(a.toFloat())}}},"Relu6")}}),MG=Y({selu_:function(t){var e=V(t,"x","selu");return J.runKernelFunc(function(n,r){var o=n.selu(e);return r([e]),o},{$x:e},function(n,r){var o=r[0];return{$x:function(){var a=o.greater(Ct(0)),s=Ct(Hb),u=Ct(Gb),c=n.mul(u),f=n.mul(s).mul(o.toFloat().exp());return vs(a,c,f)}}})}}),wi=Y({transpose_:function(t,e){var n=V(t,"x","transpose");if(e==null&&(e=n.shape.map(function(o,a){return a}).reverse()),G(n.rank===e.length,function(){return"Error in transpose: rank of input "+n.rank+" must match length of perm "+e+"."}),e.forEach(function(o){G(o>=0&&o<n.rank,function(){return"All entries in 'perm' must be between 0 and "+(n.rank-1)+" but got "+e})}),n.rank<=1)return n.clone();var r={perm:e};return J.runKernelFunc(function(o){return o.transpose(n,e)},{x:n},function(o){var a=Pb(e);return{x:function(){return o.transpose(a)}}},"Transpose",r)}}),NG=Y({localResponseNormalization_:function(t,e,n,r,o){e===void 0&&(e=5),n===void 0&&(n=1),r===void 0&&(r=1),o===void 0&&(o=.5);var a=V(t,"x","localResponseNormalization");G(a.rank===4||a.rank===3,function(){return`Error in localResponseNormalization: x must be rank 3 or 4 but got
               rank `+a.rank+"."}),G(fn(e),function(){return"Error in localResponseNormalization: depthRadius must be an integer but got depthRadius "+e+"."});var s=a,u=!1;a.rank===3&&(u=!0,s=a.as4D(1,a.shape[0],a.shape[1],a.shape[2]));var c=J.runKernelFunc(function(f,h){var p=f.localResponseNormalization4D(s,e,n,r,o);return h([s,p]),p},{x4D:s},function(f,h){var p=h[0],v=h[1];return{x4D:function(){return J.runKernelFunc(function(g){return g.LRNGrad(f,p,v,e,n,r,o)},{})}}});return u?c.as3D(c.shape[1],c.shape[2],c.shape[3]):c}}),JD=Y({norm_:function(t,e,n,r){e===void 0&&(e="euclidean"),n===void 0&&(n=null),r===void 0&&(r=!1);var o=function u(c,f,h){if(h===void 0&&(h=null),c.rank===0)return c.abs();if(c.rank!==1&&h===null)return u(c.reshape([-1]),f,h);if(c.rank===1||typeof h=="number"||Array.isArray(h)&&h.length===1){if(f===1)return c.abs().sum(h);if(f===1/0)return c.abs().max(h);if(f===-1/0)return c.abs().min(h);if(f==="euclidean"||f===2)return c.abs().pow(Ct(2,"int32")).sum(h).sqrt();throw new Error("Error in norm: invalid ord value: "+f)}if(Array.isArray(h)&&h.length===2){if(f===1)return c.abs().sum(h[0]).max(h[1]-1);if(f===1/0)return c.abs().sum(h[1]).max(h[0]);if(f===-1/0)return c.abs().sum(h[1]).min(h[0]);if(f==="fro"||f==="euclidean")return c.square().sum(h).sqrt();throw new Error("Error in norm: invalid ord value: "+f)}throw new Error("Error in norm: invalid axis: "+h)}(t=V(t,"x","norm"),e,n),a=o.shape;if(r){var s=Tn(n,t.shape);a=yr(o.shape,s)}return o.reshape(a)}}),OG=Y({basicLSTMCell_:function(t,e,n,r,o,a){var s=V(t,"forgetBias","basicLSTMCell"),u=V(e,"lstmKernel","basicLSTMCell"),c=V(n,"lstmBias","basicLSTMCell"),f=V(r,"data","basicLSTMCell"),h=V(o,"c","basicLSTMCell"),p=V(a,"h","basicLSTMCell"),v=f.concat(p,1).matMul(u).add(c),g=v.shape[0],y=v.shape[1]/4,x=[g,y],w=v.slice([0,0],x),S=v.slice([0,y],x),A=v.slice([0,2*y],x),E=v.slice([0,3*y],x),T=w.sigmoid().mulStrict(S.tanh()).addStrict(h.mulStrict(s.add(A).sigmoid())),R=T.tanh().mulStrict(E.sigmoid());return[T,R]}}),PG=Y({multiRNNCell_:function(t,e,n,r){for(var o=V(e,"data","multiRNNCell"),a=Qh(n,"c","multiRNNCell"),s=Qh(r,"h","multiRNNCell"),u=o,c=[],f=0;f<t.length;f++){var h=t[f](u,a[f],s[f]);c.push(h[0]),c.push(h[1]),u=h[1]}var p=[],v=[];for(f=0;f<c.length;f+=2)p.push(c[f]),v.push(c[f+1]);return[p,v]}}),IG=Y({movingAverage_:function(t,e,n,r,o){o===void 0&&(o=!0);var a=V(t,"v","movingAverage"),s=V(e,"x","movingAverage"),u=V(n,"decay","movingAverage");NU(a,s),G(Mn(a.shape,s.shape),function(){return"Shape mismatch in v and x"});var c=Ct(1),f=c.sub(u),h=s.sub(a).mul(f);if(o){G(r!=null,function(){return"When using zeroDebias: true, step is required."});var p=V(r,"step","movingAverage");h=h.div(c.sub(sp(u,p)))}return a.add(h)}}),BG=Y({stridedSlice_:function(t,e,n,r,o,a,s,u,c){if(o===void 0&&(o=0),a===void 0&&(a=0),s===void 0&&(s=0),u===void 0&&(u=0),c===void 0&&(c=0),r==null&&(r=new Array(e.length)),s!==0)throw new Error("ellipsis mask is not yet supported");var f=V(t,"x","stridedSlice"),h=$E(u),p=f.shape.slice();h.forEach(function(w){e[w]=0,n[w]=1,p.splice(w,0,1)}),f=f.reshape(p);for(var v=0;v<f.rank;v++)e[v]=$j(o,e,r,f.shape,v),n[v]=qj(a,n,r,f.shape,v),r[v]=r[v]||1;var g=$E(c);g.forEach(function(w){n[w]=e[w]+1,r[w]=1});var y=Lb(e,n,r),x=y.filter(function(w,S){return g.indexOf(S)===-1});return r.every(function(w){return w===1})?Xo(f,e,y).reshape(x):J.runKernelFunc(function(w){return w.stridedSlice(f,e,n,r)},{$x:f}).reshape(x)}}),FG=Y({topk_:function(t,e,n){e===void 0&&(e=1),n===void 0&&(n=!0);var r=V(t,"x","topk");if(r.rank===0)throw new Error("topk() expects the input to be of rank 1 or higher");var o=r.shape[r.shape.length-1];if(e>o)throw new Error("'k' passed to topk() must be <= the last dimension ("+o+") but got "+e);var a=J.runKernelFunc(function(s){return s.topk(r,e,n)},{$x:r});return{values:a[0],indices:a[1]}}}),LG=Y({scatterND_:function(t,e,n){var r=V(t,"indices","scatterND","int32"),o=V(e,"updates","scatterND");return Hj(o,r,n),J.runKernelFunc(function(a){return a.scatterND(r,o,n)},{indices:r,updates:o},null,"ScatterNd",{shape:n})}}),Qb=Y({fft_:function(t){G(t.dtype==="complex64",function(){return"The dtype for tf.spectral.fft() must be complex64 but got "+t.dtype+"."});var e=t.shape[t.shape.length-1],n=t.size/e,r=t.as2D(n,e);return J.runKernelFunc(function(o){return o.fft(r)},{input:t}).reshape(t.shape)}}),up=Y({ifft_:function(t){G(t.dtype==="complex64",function(){return"The dtype for tf.spectral.ifft() must be complex64 but got "+t.dtype+"."});var e=t.shape[t.shape.length-1],n=t.size/e,r=t.as2D(n,e);return J.runKernelFunc(function(o){return o.ifft(r)},{input:t}).reshape(t.shape)}}),Zb=Y({rfft_:function(t,e){G(t.dtype==="float32",function(){return"The dtype for rfft() must be real value but got "+t.dtype});var n,r=t.shape[t.shape.length-1],o=t.size/r;if(e!=null&&e<r){var a=t.shape.map(function(S){return 0}),s=t.shape.map(function(S){return S});s[t.shape.length-1]=e,n=t.slice(a,s),r=e}else if(e!=null&&e>r){var u=t.shape.map(function(S){return S});u[t.shape.length-1]=e-r,n=t.concat(We(u),t.shape.length-1),r=e}else n=t;var c=n.zerosLike(),f=Ln(n,c).as2D(o,r),h=Qb(f),p=Math.floor(r/2)+1,v=Qr(h),g=Io(h),y=v.split([p,r-p],v.shape.length-1),x=g.split([p,r-p],g.shape.length-1),w=n.shape.slice();return w[n.shape.length-1]=p,Ln(y[0],x[0]).reshape(w)}}),tk=Y({irfft_:function(t){var e=t.shape[t.shape.length-1],n=t.size/e;if(e<=2){var r=t.as2D(n,e),o=up(r);return Qr(o)}var a=[n,2*(e-1)],s=Qr(t).as2D(n,e),u=Io(t).as2D(n,e),c=s.slice([0,1],[n,e-2]).reverse(1),f=u.slice([0,1],[n,e-2]).reverse(1).mul(Ct(-1)),h=s.concat(c,1),p=u.concat(f,1);return r=Ln(h,p).as2D(a[0],a[1]),o=up(r),Qr(o)}}),zG=Object.freeze({fft:Qb,ifft:up,rfft:Zb,irfft:tk}),VG=Y({sparseToDense_:function(t,e,n,r){r===void 0&&(r=0);var o=V(t,"sparseIndices","sparseToDense","int32"),a=V(e,"sparseValues","sparseToDense"),s=V(r,"defaultValue","sparseToDense",a.dtype);return function(u,c,f,h){if(u.dtype!=="int32")throw new Error("tf.sparseToDense() expects the indices to be int32 type, but the dtype was "+u.dtype+".");if(u.rank>2)throw new Error("sparseIndices should be a scalar, vector, or matrix, but got shape "+u.shape+".");var p=u.rank>0?u.shape[0]:1,v=u.rank>1?u.shape[1]:1;if(f.length!==v)throw new Error("outputShape has incorrect number of elements:, "+f.length+", should be: "+v+".");var g=c.size;if(c.rank!==0&&(c.rank!==1||g!==p))throw new Error("sparseValues has incorrect shape "+c.shape+", should be [] or ["+p+"]");if(c.dtype!==h.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}(o,a,n,s),J.runKernelFunc(function(u){return u.sparseToDense(o,a,n,s)},{$sparseIndices:o,$sparseValues:a,$defaultValue:s})}}),UG=Y({gatherND_:function(t,e){var n=V(e,"indices","gatherND","int32"),r=V(t,"x","gatherND");return J.runKernelFunc(function(o){return o.gatherND(r,n)},{x:r,indices:n},null,"GatherNd")}}),jG=Y({diag_:function(t){var e=V(t,"x","diag").flatten(),n=t.shape.concat(t.shape);return J.runKernelFunc(function(r){return r.diag(e)},{$x:e}).reshape(n)}}),WG=Y({dropout_:function(t,e,n,r){var o=V(t,"x","dropout");if(G(o.dtype==="float32",function(){return"x has to be a floating point tensor since it's going to be scaled, but got a "+o.dtype+" tensor instead."}),G(e>=0&&e<1,function(){return"rate must be a float in the range [0, 1), but got "+e+"."}),e===0)return t instanceof Ye?o.clone():o;var a=function(c,f){if(f==null)return c.shape.slice();if(Mn(c.shape,f))return f;if(c.shape.length===f.length){for(var h=[],p=0;p<c.shape.length;p++)f[p]==null&&c.shape[p]!=null?h.push(c.shape[p]):h.push(f[p]);return h}return f}(o,n),s=1-e,u=Q_(a,0,1,"float32",r).add(s).floor().div(s);return o.mul(u)}});function ek(t,e,n){for(var r=1-t%2,o=new Float32Array(t),a=0;a<t;++a){var s=2*Math.PI*a/(t+r-1);o[a]=e-n*Math.cos(s)}return gn(o,"float32")}var Jb=Y({hannWindow_:function(t){return ek(t,.5,.5)}}),nk=Y({hammingWindow_:function(t){return ek(t,.54,.46)}}),tx=Y({frame_:function(t,e,n,r,o){r===void 0&&(r=!1),o===void 0&&(o=0);for(var a=0,s=[];a+e<=t.size;)s.push(Xo(t,a,e)),a+=n;if(r)for(;a<t.size;){var u=a+e-t.size,c=wn([Xo(t,a,e-u),Wo([u],o)]);s.push(c),a+=n}return s.length===0?vi([],[0,e]):wn(s).as2D(s.length,e)}}),rk=Y({stft_:function(t,e,n,r,o){var a;o===void 0&&(o=Jb),r==null&&(a=e,r=Math.floor(Math.pow(2,Math.ceil(Math.log(a)/Math.log(2)))));for(var s=tx(t,e,n),u=Zn(s,o(e)),c=[],f=0;f<s.shape[0];f++)c.push(Zb(u.slice([f,0],[1,e]),r));return wn(c)}}),HG=Object.freeze({hannWindow:Jb,hammingWindow:nk,frame:tx,stft:rk}),Qn,GG=function(t,e,n){return n===void 0&&(n=1),Mt(this,void 0,void 0,function(){var r,o,a,s,u,c,f,h,p,v,g,y,x,w;return Nt(this,function(S){switch(S.label){case 0:return r=V(t,"predictions","inTopK"),o=V(e,"targets","inTopK"),G(r.rank>1,function(){return"inTopK() expects the predictions to be of rank 2 or higher, but got "+r.rank}),G(r.rank-1===o.rank,function(){return"predictions rank should be 1 larger than targets rank, but got predictions rank "+r.rank+" and targets rank "+o.rank}),De(r.shape.slice(0,r.shape.length-1),o.shape,"predictions's shape should be align with the targets' shape, except the last dimension."),a=r.shape[r.shape.length-1],G(n>0&&n<=a,function(){return"'k' passed to inTopK() must be > 0 && <= the predictions last dimension ("+a+"), but got "+n}),[4,r.data()];case 1:return s=S.sent(),[4,o.data()];case 2:for(u=S.sent(),c=[s.length/a,a],h=c[1],p=qc("bool",f=c[0]),v=0;v<f;v++){for(g=v*h,y=s.subarray(g,g+h),x=[],w=0;w<y.length;w++)x.push({value:y[w],index:w});for(x.sort(function(A,E){return E.value-A.value}),p[v]=0,w=0;w<n;w++)if(x[w].index===u[v]){p[v]=1;break}}return t!==r&&r.dispose(),e!==o&&o.dispose(),[2,Un(p,o.shape,"bool")]}})})};(function(t){t[t.NONE=0]="NONE",t[t.MEAN=1]="MEAN",t[t.SUM=2]="SUM",t[t.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"})(Qn||(Qn={}));var $G=Y({absoluteDifference_:function(t,e,n,r){r===void 0&&(r=Qn.SUM_BY_NONZERO_WEIGHTS);var o=V(t,"labels","absoluteDifference"),a=V(e,"predictions","absoluteDifference"),s=null;n!=null&&(s=V(n,"weights","absoluteDifference")),De(o.shape,a.shape,"Error in absoluteDifference: ");var u=o.sub(a).abs();return Ia(u,s,r)}}),Ia=Y({computeWeightedLoss_:function(t,e,n){n===void 0&&(n=Qn.SUM_BY_NONZERO_WEIGHTS);var r=V(t,"losses","computeWeightedLoss"),o=null;e!=null&&(o=V(e,"weights","computeWeightedLoss"));var a=o==null?r:r.mul(o);if(n===Qn.NONE)return a;if(n===Qn.SUM)return a.sum();if(n===Qn.MEAN){if(o==null)return a.mean();var s=r.size/o.size,u=a.sum().div(o.sum());return s>1?u.div(Ct(s)):u}if(n===Qn.SUM_BY_NONZERO_WEIGHTS){if(o==null)return a.sum().div(Ct(r.size));var c=o.mul(ul(r.shape)).notEqual(Ct(0)).sum().toFloat();return a.sum().div(c)}throw Error("Unknown reduction: "+n)}}),qG=Y({cosineDistance_:function(t,e,n,r,o){o===void 0&&(o=Qn.SUM_BY_NONZERO_WEIGHTS);var a=V(t,"labels","cosineDistance"),s=V(e,"predictions","cosineDistance"),u=null;r!=null&&(u=V(r,"weights","cosineDistance")),De(a.shape,s.shape,"Error in cosineDistance: ");var c=Ct(1).sub(a.mul(s).sum(n,!0));return Ia(c,u,o)}}),KG=Y({hingeLoss_:function(t,e,n,r){r===void 0&&(r=Qn.SUM_BY_NONZERO_WEIGHTS);var o=V(t,"labels","hingeLoss"),a=V(e,"predictions","hingeLoss"),s=null;n!=null&&(s=V(n,"weights","hingeLoss")),De(o.shape,a.shape,"Error in hingeLoss: ");var u=Ct(1);o=Ct(2).mul(o).sub(u);var c=u.sub(o.mul(a)).relu();return Ia(c,s,r)}}),XG=Y({huberLoss_:function(t,e,n,r,o){r===void 0&&(r=1),o===void 0&&(o=Qn.SUM_BY_NONZERO_WEIGHTS);var a=V(t,"labels","huberLoss"),s=V(e,"predictions","huberLoss"),u=null;n!=null&&(u=V(n,"weights","huberLoss")),De(a.shape,s.shape,"Error in huberLoss: ");var c=Ct(r),f=s.sub(a).abs(),h=BD(f,c),p=f.sub(h),v=Ct(.5).mul(h.square()).add(c.mul(p));return Ia(v,u,o)}}),YG=Y({logLoss_:function(t,e,n,r,o){r===void 0&&(r=1e-7),o===void 0&&(o=Qn.SUM_BY_NONZERO_WEIGHTS);var a=V(t,"labels","logLoss"),s=V(e,"predictions","logLoss"),u=null;n!=null&&(u=V(n,"weights","logLoss")),De(a.shape,s.shape,"Error in logLoss: ");var c=Ct(1),f=Ct(r),h=a.mul(s.add(f).log()).neg().sub(c.sub(a).mul(c.sub(s).add(f).log()));return Ia(h,u,o)}}),QG=Y({meanSquaredError_:function(t,e,n,r){r===void 0&&(r=Qn.SUM_BY_NONZERO_WEIGHTS);var o=V(t,"labels","meanSquaredError"),a=V(e,"predictions","meanSquaredError"),s=null;n!=null&&(s=V(n,"weights","meanSquaredError")),De(o.shape,a.shape,"Error in meanSquaredError: ");var u=o.squaredDifference(a);return Ia(u,s,r)}}),ZG=Y({sigmoidCrossEntropy_:function(t,e,n,r,o){r===void 0&&(r=0),o===void 0&&(o=Qn.SUM_BY_NONZERO_WEIGHTS);var a=V(t,"multiClassLabels","sigmoidCrossEntropy"),s=V(e,"logits","sigmoidCrossEntropy"),u=null;if(n!=null&&(u=V(n,"weights","sigmoidCrossEntropy")),De(a.shape,s.shape,"Error in sigmoidCrossEntropy: "),r>0){var c=Ct(r),f=Ct(1),h=Ct(.5);a=a.mul(f.sub(c)).add(h.mul(c))}var p=function(v,g){var y=V(v,"labels","sigmoidCrossEntropyWithLogits"),x=V(g,"logits","sigmoidCrossEntropyWithLogits");De(y.shape,x.shape,"Error in sigmoidCrossEntropyWithLogits: ");var w=x.relu(),S=x.mul(y),A=x.abs().neg().exp().log1p();return w.sub(S).add(A)}(a,s);return Ia(p,u,o)}}),JG=Y({softmaxCrossEntropy_:function(t,e,n,r,o){r===void 0&&(r=0),o===void 0&&(o=Qn.SUM_BY_NONZERO_WEIGHTS);var a=V(t,"onehotLabels","softmaxCrossEntropy"),s=V(e,"logits","softmaxCrossEntropy"),u=null;if(n!=null&&(u=V(n,"weights","softmaxCrossEntropy")),De(a.shape,s.shape,"Error in softmaxCrossEntropy: "),r>0){var c=Ct(r),f=Ct(1),h=Ct(a.shape[1]);a=a.mul(f.sub(c)).add(c.div(h))}var p=function(v,g,y){if(y===void 0&&(y=-1),y===-1&&(y=g.rank-1),y!==g.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank "+g.rank+" and dim was "+y);return Wp(function(x,w,S){var A=w.logSumExp([y],!0),E=w.toFloat().sub(A);return S([x,E]),{value:E.mul(x).neg().sum([y]),gradFunc:function(T,R){var _=R[0],M=R[1],k=yr(T.shape,[y]);return[T.reshape(k).mul(_.toFloat().sub(M.exp())),T.reshape(k).mul(M.exp().sub(_.toFloat()))]}}})(v,g)}(a,s);return Ia(p,u,o)}}),t$=Object.freeze({get Reduction(){return Qn},absoluteDifference:$G,computeWeightedLoss:Ia,cosineDistance:qG,hingeLoss:KG,huberLoss:XG,logLoss:YG,meanSquaredError:QG,sigmoidCrossEntropy:ZG,softmaxCrossEntropy:JG});function pT(t,e){return e===void 0&&(e=!1),J.tidy(function(){if(t.shape.length!==2)throw new Error("qr2d() requires a 2D Tensor, but got a "+t.shape.length+"D Tensor.");for(var n=t.shape[0],r=t.shape[1],o=Y_(n),a=t.clone(),s=vi([[1]],[1,1]),u=s.clone(),c=n>=r?r:n,f=function(p){var v,g=a,y=u,x=o;v=J.tidy(function(){var w=a.slice([p,p],[n-p,1]),S=w.norm(),A=a.slice([p,p],[1,1]),E=vi([[-1]]).where(A.greater(0),vi([[1]])),T=A.sub(E.mul(S)),R=w.div(T);u=R.shape[0]===1?s.clone():s.concat(R.slice([1,0],[R.shape[0]-1,R.shape[1]]),0);var _=E.matMul(T).div(S).neg(),M=a.slice([p,0],[n-p,r]),k=_.mul(u);if(p===0)a=M.sub(k.matMul(u.transpose().matMul(M)));else{var N=M.sub(k.matMul(u.transpose().matMul(M)));a=a.slice([0,0],[p,r]).concat(N,0)}var I=o.slice([0,p],[n,o.shape[1]-p]);if(p===0)o=I.sub(I.matMul(u).matMul(k.transpose()));else{var z=I.sub(I.matMul(u).matMul(k.transpose()));o=o.slice([0,0],[n,p]).concat(z,1)}return[u,a,o]}),u=v[0],a=v[1],o=v[2],vr([g,y,x])},h=0;h<c;++h)f(h);return!e&&n>r&&(o=o.slice([0,0],[n,r]),a=a.slice([0,0],[r,r])),[o,a]})}var e$=Y({bandPart_:function(t,e,n){if(e%1!=0)throw new Error("bandPart(): numLower must be an integer, got "+e+".");if(n%1!=0)throw new Error("bandPart(): numUpper must be an integer, got "+n+".");var r=V(t,"a","bandPart");if(r.rank<2)throw new Error("bandPart(): Rank must be at least 2, got "+r.rank+".");var o=r.shape,a=r.shape.slice(-2),s=a[0],u=a[1];if(!(e<=s))throw new Error("bandPart(): numLower ("+e+") must not be greater than the number of rows ("+s+").");if(!(n<=u))throw new Error("bandPart(): numUpper ("+n+") must not be greater than the number of columns ("+u+").");e<0&&(e=s),n<0&&(n=u);var c=Zh(0,s,1,"int32").reshape([-1,1]),f=Zh(0,u,1,"int32"),h=En(c,f),p=Gp(h.lessEqual(Ct(+e,"int32")),h.greaterEqual(Ct(-n,"int32"))),v=We([s,u],r.dtype);return Ir(Sn(r.reshape([-1,s,u])).map(function(g){return vs(p,g,v)})).reshape(o)}}),n$=Y({gramSchmidt_:function(t){var e;if(Array.isArray(t)){e=!1,G(t!=null&&t.length>0,function(){return"Gram-Schmidt process: input must not be null, undefined, or empty"});for(var n=t[0].shape[0],r=function(c){G(t[c].shape[0]===n,function(){return"Gram-Schmidt: Non-unique lengths found in the input vectors: ("+t[c].shape[0]+" vs. "+n+")"})},o=1;o<t.length;++o)r(o)}else e=!0,t=Bb(t,t.shape[0],0).map(function(c){return J_(c,[0])});G(t.length<=t[0].shape[0],function(){return"Gram-Schmidt: Number of vectors ("+t.length+") exceeds number of dimensions ("+t[0].shape[0]+")."});var a=[],s=t,u=function(c){a.push(J.tidy(function(){var f=s[c];if(c>0)for(var h=0;h<c;++h){var p=XD(a[h].mulStrict(f)).mul(a[h]);f=f.sub(p)}return f.div(JD(f,"euclidean"))}))};for(o=0;o<t.length;++o)u(o);return e?Ir(a,0):a}}),r$=Y({qr_:function(t,e){if(e===void 0&&(e=!1),t.rank<2)throw new Error("qr() requires input tensor to have a rank >= 2, but got rank "+t.rank);if(t.rank===2)return pT(t,e);var n=t.shape.slice(0,t.shape.length-2).reduce(function(s,u){return s*u}),r=Sn(t.reshape([n,t.shape[t.shape.length-2],t.shape[t.shape.length-1]]),0),o=[],a=[];return r.forEach(function(s){var u=pT(s,e),c=u[0],f=u[1];o.push(c),a.push(f)}),[Ir(o,0).reshape(t.shape),Ir(a,0).reshape(t.shape)]}}),o$=Object.freeze({bandPart:e$,gramSchmidt:n$,qr:r$});function Xp(t,e,n,r,o,a){r==null&&(r=.5),o==null&&(o=Number.NEGATIVE_INFINITY),a==null&&(a=0);var s=t.shape[0];return n=Math.min(n,s),G(0<=r&&r<=1,function(){return"iouThreshold must be in [0, 1], but was '"+r+"'"}),G(t.rank===2,function(){return"boxes must be a 2D tensor, but was of rank '"+t.rank+"'"}),G(t.shape[1]===4,function(){return"boxes must have 4 columns, but 2nd dimension was "+t.shape[1]}),G(e.rank===1,function(){return"scores must be a 1D tensor"}),G(e.shape[0]===s,function(){return"scores has incompatible shape with boxes. Expected "+s+", but was "+e.shape[0]}),G(0<=a&&a<=1,function(){return"softNmsSigma must be in [0, 1], but was '"+a+"'"}),{maxOutputSize:n,iouThreshold:r,scoreThreshold:o,softNmsSigma:a}}var a$=Y({resizeBilinear_:function(t,e,n){n===void 0&&(n=!1);var r=V(t,"images","resizeBilinear");G(r.rank===3||r.rank===4,function(){return"Error in resizeBilinear: x must be rank 3 or 4, but got rank "+r.rank+"."}),G(e.length===2,function(){return"Error in resizeBilinear: new shape must 2D, but got shape "+e+"."});var o=r,a=!1;r.rank===3&&(a=!0,o=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var s=e[0],u=e[1],c=J.runKernelFunc(function(f,h){return h([o]),f.resizeBilinear(o,s,u,n)},{x:o},function(f,h){return{x:function(){return J.runKernelFunc(function(p){return p.resizeBilinearBackprop(f,h[0],n)},{})}}},"ResizeBilinear",{alignCorners:n,newHeight:s,newWidth:u});return a?c.as3D(c.shape[1],c.shape[2],c.shape[3]):c}}),i$=Y({resizeNearestNeighbor_:function(t,e,n){n===void 0&&(n=!1);var r=V(t,"images","resizeNearestNeighbor");G(r.rank===3||r.rank===4,function(){return"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank "+r.rank+"."}),G(e.length===2,function(){return"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+e+"."}),G(r.dtype==="float32"||r.dtype==="int32",function(){return"`images` must have `int32` or `float32` as dtype"});var o=r,a=!1;r.rank===3&&(a=!0,o=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var s=e[0],u=e[1],c=J.runKernelFunc(function(f,h){return h([o]),f.resizeNearestNeighbor(o,s,u,n)},{batchImages:o},function(f,h){return{batchImages:function(){return J.runKernelFunc(function(p){return p.resizeNearestNeighborBackprop(f,h[0],n)},{})}}});return a?c.as3D(c.shape[1],c.shape[2],c.shape[3]):c}}),s$=Y({nonMaxSuppression_:function(t,e,n,r,o){r===void 0&&(r=.5),o===void 0&&(o=Number.NEGATIVE_INFINITY);var a=V(t,"boxes","nonMaxSuppression"),s=V(e,"scores","nonMaxSuppression"),u=Xp(a,s,n,r,o);n=u.maxOutputSize,r=u.iouThreshold,o=u.scoreThreshold;var c={maxOutputSize:n,iouThreshold:r,scoreThreshold:o};return J.runKernelFunc(function(f){return f.nonMaxSuppression(a,s,n,r,o)},{boxes:a,scores:s},null,"NonMaxSuppressionV3",c)}}),u$=function(t,e,n,r,o){return r===void 0&&(r=.5),o===void 0&&(o=Number.NEGATIVE_INFINITY),Mt(this,void 0,void 0,function(){var a,s,u,c,f,h,p;return Nt(this,function(v){switch(v.label){case 0:return a=V(t,"boxes","nonMaxSuppressionAsync"),s=V(e,"scores","nonMaxSuppressionAsync"),u=Xp(a,s,n,r,o),n=u.maxOutputSize,r=u.iouThreshold,o=u.scoreThreshold,[4,Promise.all([a.data(),s.data()])];case 1:return c=v.sent(),f=c[0],h=c[1],p=Vb(f,h,n,r,o),a!==t&&a.dispose(),s!==e&&s.dispose(),[2,p]}})})},l$=Y({nonMaxSuppressionWithScore_:function(t,e,n,r,o,a){r===void 0&&(r=.5),o===void 0&&(o=Number.NEGATIVE_INFINITY),a===void 0&&(a=0);var s=V(t,"boxes","nonMaxSuppression"),u=V(e,"scores","nonMaxSuppression"),c=Xp(s,u,n,r,o,a),f={maxOutputSize:n=c.maxOutputSize,iouThreshold:r=c.iouThreshold,scoreThreshold:o=c.scoreThreshold,softNmsSigma:a=c.softNmsSigma},h=J.runKernel("NonMaxSuppressionV5",{boxes:s,scores:u},f);return{selectedIndices:h[0],selectedScores:h[1]}}}),c$=function(t,e,n,r,o,a){return r===void 0&&(r=.5),o===void 0&&(o=Number.NEGATIVE_INFINITY),a===void 0&&(a=0),Mt(this,void 0,void 0,function(){var s,u,c,f,h,p,v;return Nt(this,function(g){switch(g.label){case 0:return s=V(t,"boxes","nonMaxSuppressionAsync"),u=V(e,"scores","nonMaxSuppressionAsync"),c=Xp(s,u,n,r,o,a),n=c.maxOutputSize,r=c.iouThreshold,o=c.scoreThreshold,a=c.softNmsSigma,[4,Promise.all([s.data(),u.data()])];case 1:return f=g.sent(),h=f[0],p=f[1],v=Ub(h,p,n,r,o,a),s!==t&&s.dispose(),u!==e&&u.dispose(),[2,v]}})})},f$=Y({cropAndResize_:function(t,e,n,r,o,a){var s=V(t,"image","cropAndResize"),u=V(e,"boxes","cropAndResize","float32"),c=V(n,"boxInd","cropAndResize","int32");o=o||"bilinear",a=a||0;var f=u.shape[0];return G(s.rank===4,function(){return"Error in cropAndResize: image must be rank 4,but got rank "+s.rank+"."}),G(u.rank===2&&u.shape[1]===4,function(){return"Error in cropAndResize: boxes must be have size ["+f+",4] but had shape "+u.shape+"."}),G(c.rank===1&&c.shape[0]===f,function(){return"Error in cropAndResize: boxInd must be have size ["+f+"] but had shape "+u.shape+"."}),G(r.length===2,function(){return"Error in cropAndResize: cropSize must be of length 2, but got length "+r.length+"."}),G(r[0]>=1&&r[1]>=1,function(){return"cropSize must be atleast [1,1], but was "+r}),G(o==="bilinear"||o==="nearest",function(){return"method must be bilinear or nearest, but was "+o}),J.runKernelFunc(function(h,p){return h.cropAndResize(s,u,c,r,o,a)},{images:s,boxes:u,boxInd:c},null,"CropAndResize",{method:o,extrapolationValue:a,cropSize:r})}}),ex=Object.freeze({resizeBilinear:a$,resizeNearestNeighbor:i$,nonMaxSuppression:s$,nonMaxSuppressionAsync:u$,nonMaxSuppressionWithScore:l$,nonMaxSuppressionWithScoreAsync:c$,cropAndResize:f$}),nx=function(t,e){return!(t>0)||e==="linear"},rx=function(t,e,n){if(n==null||n==="linear")return t;if(n==="relu")return t.mul(e.step());throw new Error("Gradient for activation "+n+" has not been implemented yet.")},ox=function(t,e){var n=e,r=Cn(t.shape,e.shape);return r.length>0&&(n=n.sum(r)),n.reshape(t.shape)},ax=function(t,e,n){if(e==="linear")return t;if(e==="relu")return Ze(t);if(e==="elu")return YD(t);if(e==="relu6")return ZD(t);if(e==="prelu")return QD(t,n);throw new Error("Unknown fused activation "+e+".")},d$=Y({fusedMatMul_:function(t){var e,n=t.a,r=t.b,o=t.transposeA,a=o!==void 0&&o,s=t.transposeB,u=s!==void 0&&s,c=t.bias,f=t.activation,h=f===void 0?"linear":f,p=t.preluActivationWeights;if(nx(J.state.gradientDepth,h)===!1){var v=qp(n,r,a,u);return c!=null&&(v=ie(v,c)),ax(v,h,p)}var g=V(n,"a","fused matMul"),y=V(r,"b","fused matMul");e=tn(g,y),g=e[0],y=e[1];var x=a?g.shape[g.rank-2]:g.shape[g.rank-1],w=u?y.shape[y.rank-1]:y.shape[y.rank-2],S=a?g.shape[g.rank-1]:g.shape[g.rank-2],A=u?y.shape[y.rank-2]:y.shape[y.rank-1],E=g.shape.slice(0,-2),T=y.shape.slice(0,-2),R=Ot(E),_=Ot(T);G(g.rank>=2&&y.rank>=2&&g.rank===y.rank,function(){return"Error in fused matMul: inputs must have the same rank of at least 2, got ranks "+g.rank+" and "+y.rank+"."}),G(Mn(E,T),function(){return"Error in fused matMul: outer dimensions ("+E+") and ("+T+") of Tensors with shapes "+g.shape+" and "+y.shape+" must match."}),G(x===w,function(){return"Error in fused matMul: inner shapes ("+x+") and ("+w+") of Tensors with shapes "+g.shape+" and "+y.shape+" and transposeA="+a+" and transposeB="+u+" must match."});var M,k,N=g.shape.slice(0,-2).concat([S,A]),I=a?g.as3D(R,x,S):g.as3D(R,S,x),z=u?y.as3D(_,A,w):y.as3D(_,w,A);c!=null&&ce(N,(M=tn(M=V(c,"bias","fused matMul"),g)[0]).shape),p!=null&&(k=V(p,"prelu weights","fused matMul"));var D={a:I,b:z};c!=null&&(D.bias=M),p!=null&&(D.preluActivationWeights=k);var $=[I,z];return J.runKernelFunc(function(j,W){var B=j.fusedBatchMatMul({a:I,b:z,transposeA:a,transposeB:u,bias:M,activation:h,preluActivationWeights:k});return W([I,z,B]),B},D,function(j,W){var B=W[0],H=W[1],q=W[2],X=rx(j,q,h),F={};return c!=null&&(F={bias:function(){return ox(M,X)}}),Object.assign(a||u?!a&&u?{a:function(){return X.matMul(H,!1,!1)},b:function(){return X.matMul(B,!0,!1)}}:a&&!u?{a:function(){return H.matMul(X,!1,!0)},b:function(){return B.matMul(X,!1,!1)}}:{a:function(){return H.matMul(X,!0,!0)},b:function(){return X.matMul(B,!0,!0)}}:{a:function(){return X.matMul(H,!1,!0)},b:function(){return B.matMul(X,!0,!1)}},F)},"_FusedMatMul",{transposeA:a,transposeB:u,activation:h},$,[!0]).reshape(N)}}),h$=Y({fusedConv2d_:function(t){var e=t.x,n=t.filter,r=t.strides,o=t.pad,a=t.dataFormat,s=a===void 0?"NHWC":a,u=t.dilations,c=u===void 0?[1,1]:u,f=t.dimRoundingMode,h=t.bias,p=t.activation,v=p===void 0?"linear":p,g=t.preluActivationWeights;if(v=v||"linear",nx(J.state.gradientDepth,v)===!1){var y=so(e,n,r,o,s,c,f);return h!=null&&(y=ie(y,h)),ax(y,v,g)}var x=V(e,"x","conv2d"),w=V(n,"filter","conv2d"),S=x,A=!1;x.rank===3&&(A=!0,S=x.as4D(1,x.shape[0],x.shape[1],x.shape[2])),G(S.rank===4,function(){return"Error in fused conv2d: input must be rank 4, but got rank "+S.rank+"."}),G(w.rank===4,function(){return"Error in fused conv2d: filter must be rank 4, but got rank "+w.rank+"."}),f!=null&&G(fn(o),function(){return"Error in fused conv2d: pad must be an integer when using, dimRoundingMode "+f+" but got pad "+o+"."}),G(S.shape[3]===w.shape[2],function(){return"Error in conv2d: depth of input ("+S.shape[3]+") must match input depth for filter "+w.shape[2]+"."}),G(br(r,c),function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+c+"'"}),G(s==="NHWC",function(){return"Error in conv2d: got dataFormat of "+s+" but only NHWC is currently supported."});var E,T,R=ws(S.shape,w.shape,r,c,o,f);h!=null&&(E=tn(E=V(h,"bias","fused conv2d"),x)[0],ce(R.outShape,E.shape)),g!=null&&(T=V(g,"prelu weights","fused conv2d"));var _={x:S,filter:w};h!=null&&(_.bias=E),g!=null&&(_.preluActivationWeights=T);var M=[w,S],k=J.runKernelFunc(function(N,I){var z=N.fusedConv2d({input:S,filter:w,convInfo:R,bias:E,activation:v,preluActivationWeights:T});return I([w,S,z]),z},_,function(N,I){var z=I,D=z[0],$=z[1],j=z[2],W=rx(N,j,v);G(Xu(c),function(){return"Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+c+"'"});var B={};return h!=null&&(B={bias:function(){return ox(E,W)}}),Object.assign({x:function(){return jD($.shape,W,D,r,o)},filter:function(){return Xb($,W,D.shape,r,o)}},B)},"FusedConv2D",{convInfo:R,activation:v},M,[!0]);return A?k.as3D(k.shape[1],k.shape[2],k.shape[3]):k}}),p$=Y({fusedDepthwiseConv2d_:function(t){var e=t.x,n=t.filter,r=t.strides,o=t.pad,a=t.dataFormat,s=a===void 0?"NHWC":a,u=t.dilations,c=u===void 0?[1,1]:u,f=t.dimRoundingMode,h=t.bias,p=t.activation,v=p===void 0?"linear":p,g=t.preluActivationWeights;if(nx(J.state.gradientDepth,v)===!1){var y=$p(e,n,r,o,s,c,f);return h!=null&&(y=ie(y,h)),ax(y,v,g)}var x=V(e,"x","depthwiseConv2d"),w=V(n,"filter","depthwiseConv2d"),S=x,A=!1;x.rank===3&&(A=!0,S=x.as4D(1,x.shape[0],x.shape[1],x.shape[2])),G(S.rank===4,function(){return"Error in fused depthwiseConv2d: input must be rank 4, but got rank "+S.rank+"."}),G(w.rank===4,function(){return"Error in fused depthwiseConv2d: filter must be rank 4, but got rank "+w.rank+"."}),G(S.shape[3]===w.shape[2],function(){return"Error in fused depthwiseConv2d: number of input channels ("+S.shape[3]+") must match the inChannels dimension in filter "+w.shape[2]+"."}),c==null&&(c=[1,1]),G(br(r,c),function(){return"Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+c+"'"}),f!=null&&G(fn(o),function(){return"Error in fused depthwiseConv2d: pad must be an integer when using dimRoundingMode "+f+" but got pad "+o+"."});var E,T,R=ws(S.shape,w.shape,r,c,o,f,!0);h!=null&&(E=tn(E=V(h,"bias","fused conv2d"),x)[0],ce(R.outShape,E.shape)),g!=null&&(T=V(g,"prelu weights","fused depthwiseConv2d"));var _={x:S,filter:w};h!=null&&(_.bias=E),g!=null&&(_.preluActivationWeights=T);var M=[w,S],k=J.runKernelFunc(function(N,I){var z=N.fusedDepthwiseConv2D({input:S,filter:w,convInfo:R,bias:E,activation:v,preluActivationWeights:T});return I([w,S,z]),z},_,function(N,I){G(Xu(c),function(){return"Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+c+"'"});var z=I[0],D=I[1],$=I[2],j=rx(N,$,v),W={};return h!=null&&(W={bias:function(){return ox(E,j)}}),Object.assign({x:function(){return WD(D.shape,j,z,R)},filter:function(){return HD(D,j,z.shape,R)}},W)},"FusedDepthwiseConv2D",{convInfo:R,activation:v},M,[!0]);return A?k.as3D(k.shape[1],k.shape[2],k.shape[3]):k}}),m$=Object.freeze({matMul:d$,conv2d:h$,depthwiseConv2d:p$}),v$=Object.freeze({image:ex,linalg:o$,losses:t$,spectral:zG,fused:m$,signal:HG,square:YH,squaredDifference:RD,conv1d:aG,conv2d:so,conv3d:iG,depthwiseConv2d:$p,separableConv2d:Yb,conv2dTranspose:sG,conv3dTranspose:uG,op:Y,batchNormalization2d:R8,batchNormalization3d:A8,batchNormalization4d:_8,batchNormalization:D8,batchNorm:ND,batchNorm2d:k8,batchNorm3d:M8,batchNorm4d:N8,booleanMaskAsync:oG,complex:Ln,real:Qr,imag:Io,concat:wn,concat1d:mj,concat2d:vj,concat3d:gj,concat4d:yj,split:Bb,matMul:qp,dot:lG,outerProduct:cG,reverse:Tf,reverse1d:fG,reverse2d:dG,reverse3d:hG,reverse4d:pG,maxPool:kn,avgPool:Rf,pool:mG,maxPool3d:vG,avgPool3d:gG,slice:Xo,slice1d:yG,slice2d:bG,slice3d:qD,slice4d:xG,abs:QH,acos:ZH,acosh:JH,asin:t8,asinh:e8,atan:n8,atanh:r8,ceil:o8,clipByValue:$b,cos:a8,cosh:i8,erf:s8,exp:f0,expm1:u8,floor:l8,log:c8,log1p:f8,logSigmoid:d8,neg:ip,reciprocal:h8,round:p8,rsqrt:AD,sigmoid:_D,sign:m8,isNaN:v8,isInf:g8,isFinite:y8,sin:b8,sinh:x8,softplus:w8,sqrt:S8,step:C8,tan:E8,tanh:T8,all:wG,any:SG,argMax:CG,argMin:EG,logSumExp:TG,max:Kp,mean:RG,min:AG,moments:_G,sum:XD,prod:DG,equal:FD,equalStrict:K8,greater:X8,greaterEqual:LD,greaterEqualStrict:Y8,greaterStrict:Q8,less:Z8,lessEqual:J8,lessEqualStrict:tG,lessStrict:eG,notEqual:nG,notEqualStrict:rG,add:ie,addN:I8,addStrict:B8,atan2:F8,div:po,divNoNan:L8,divStrict:z8,floorDiv:ID,maximum:qb,maximumStrict:V8,minimum:BD,minimumStrict:U8,mod:j8,modStrict:W8,mul:Zn,mulStrict:H8,pow:sp,powStrict:G8,squaredDifferenceStrict:$8,sub:En,subStrict:q8,elu:YD,leakyRelu:kG,prelu:QD,relu:Ze,relu6:ZD,selu:MG,logicalAnd:Gp,logicalNot:O8,logicalOr:OD,logicalXor:P8,where:vs,whereAsync:PD,buffer:Yt,print:Aj,batchToSpaceND:X_,broadcastTo:_j,cast:Dj,clone:kj,cumsum:Mj,depthToSpace:Nj,expandDims:Yr,eye:Y_,multinomial:Oj,oneHot:s0,pad:xs,pad1d:Pj,pad2d:Ij,pad3d:Bj,pad4d:Fj,rand:Lj,randomNormal:zj,randomGamma:Vj,randomUniform:Q_,reshape:mo,spaceToBatchND:Z_,squeeze:J_,stack:Ir,tile:Nu,truncatedNormal:Uj,unstack:Sn,setdiff1dAsync:jj,fill:Wo,linspace:pj,ones:ul,range:Zh,scalar:Ct,tensor:Un,tensor1d:gn,tensor2d:vi,tensor3d:Ib,tensor4d:fr,tensor5d:fj,tensor6d:dj,variable:hj,zeros:We,onesLike:K_,zerosLike:ye,transpose:wi,softmax:Pa,logSoftmax:Xj,localResponseNormalization:NG,norm:JD,gather:Kb,unsortedSegmentSum:zD,basicLSTMCell:OG,multiRNNCell:PG,movingAverage:IG,stridedSlice:BG,topk:FG,scatterND:LG,fft:Qb,ifft:up,rfft:Zb,irfft:tk,sparseToDense:VG,gatherND:UG,diag:jG,dropout:WG,hannWindow:Jb,hammingWindow:nk,frame:tx,stft:rk,inTopKAsync:GG});function gt(t,e){Array.isArray(t)||(t=[t]),t.forEach(function(n){n!=null&&G(n.dtype!=="complex64",function(){return e+" does not support complex64 tensors."})})}function ny(t,e,n,r){if(n==="linear")return t.linear(e);if(n==="relu")return t.relu(e);if(n==="elu")return t.elu(e);if(n==="relu6")return t.relu6(e);if(n==="prelu")return t.prelu(e,r);throw new Error("Activation "+n+" has not been implemented for the CPU backend.")}var g$=function(t){function e(){var n=t.call(this)||this;return n.blockSize=48,n.firstUse=!0,n.data=new iD(n,J),n}return yo(e,t),e.prototype.write=function(n,r,o){this.firstUse&&(this.firstUse=!1,ft().get("IS_NODE")&&Yh(`
============================
Hi there 👋. Looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, which binds to TensorFlow C++, by running npm i @tensorflow/tfjs-node, or npm i @tensorflow/tfjs-node-gpu if you have CUDA. Then call require('@tensorflow/tfjs-node'); (-gpu suffix for CUDA) at the start of your program. Visit https://github.com/tensorflow/tfjs-node for more details.
============================`));var a={};return this.data.set(a,{values:n,dtype:o}),a},e.prototype.move=function(n,r,o,a){this.data.set(n,{values:r,dtype:a})},e.prototype.numDataIds=function(){return this.data.numDataIds()},e.prototype.read=function(n){return Mt(this,void 0,void 0,function(){return Nt(this,function(r){return[2,this.readSync(n)]})})},e.prototype.readSync=function(n){var r=this.data.get(n),o=r.dtype,a=r.complexTensors;return o==="complex64"?c0(this.readSync(a.real.dataId),this.readSync(a.imag.dataId)):this.data.get(n).values},e.prototype.bufferSync=function(n){var r=this.readSync(n.dataId),o=r;if(n.dtype==="string")try{o=r.map(function(a){return qh(a)})}catch{throw new Error("Failed to decode encoded string bytes into utf-8")}return Yt(n.shape,n.dtype,o)},e.prototype.makeOutput=function(n,r,o){var a=this.write(n,r,o);return J.makeTensorFromDataId(a,r,o,this)},e.prototype.disposeData=function(n){if(this.data.has(n)){var r=this.data.get(n).complexTensors;r!=null&&(r.real.dispose(),r.imag.dispose()),this.data.delete(n)}},e.prototype.time=function(n){return Mt(this,void 0,void 0,function(){var r;return Nt(this,function(o){return r=No(),n(),[2,{kernelMs:No()-r}]})})},e.prototype.memory=function(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}},e.prototype.complex=function(n,r){var o=this.makeOutput(null,n.shape,"complex64");return this.data.get(o.dataId).complexTensors={real:J.keep(n.clone()),imag:J.keep(r.clone())},o},e.prototype.real=function(n){return this.data.get(n.dataId).complexTensors.real.clone()},e.prototype.imag=function(n){return this.data.get(n.dataId).complexTensors.imag.clone()},e.prototype.slice=function(n,r,o){if(gt(n,"slice"),oD(n.shape,r,o)){var a=aD(r,n.strides),s=Ot(o);return Un(this.readSync(n.dataId).subarray(a,a+s),o,n.dtype)}for(var u=Yt(o,n.dtype),c=this.bufferSync(n),f=0;f<u.size;++f){var h=u.indexToLoc(f).map(function(p,v){return p+r[v]});u.values[f]=c.get.apply(c,h)}return u.toTensor()},e.prototype.stridedSlice=function(n,r,o,a){gt(n,"stridedSlice");var s=Lb(r,o,a);if(s.some(function(g){return g===0}))return Un([],s);for(var u=Yt(s,n.dtype),c=this.bufferSync(n),f=0;f<u.size;f++){for(var h=u.indexToLoc(f),p=new Array(h.length),v=0;v<p.length;v++)p[v]=h[v]*a[v]+r[v];u.set.apply(u,[c.get.apply(c,p)].concat(h))}return u.toTensor()},e.prototype.diag=function(n){for(var r=this.readSync(n.dataId),o=Yt([n.size,n.size],n.dtype),a=o.values,s=0;s<r.length;s++)a[s*n.size+s]=r[s];return o.toTensor()},e.prototype.unstack=function(n,r){for(var o=n.shape[r],a=new Array(n.rank-1),s=0,u=0;u<n.rank;u++)u!==r&&(a[s++]=n.shape[u]);var c=new Array(n.rank).fill(0),f=n.shape.slice();f[r]=1;var h=new Array(o);for(u=0;u<h.length;u++)c[r]=u,h[u]=this.slice(n,c,f).reshape(a);return h},e.prototype.reverse=function(n,r){gt(n,"reverse");for(var o=Yt(n.shape,n.dtype),a=this.bufferSync(n),s=function(c){var f=o.indexToLoc(c),h=f.slice();r.forEach(function(p){return h[p]=n.shape[p]-1-h[p]}),o.set.apply(o,[a.get.apply(a,h)].concat(f))},u=0;u<o.size;u++)s(u);return o.toTensor()},e.prototype.concat=function(n,r){var o=this;if(n[0].dtype==="complex64"){var a=n.map(function(g){return Qr(g)}),s=n.map(function(g){return Io(g)});return Ln(this.concat(a,r),this.concat(s,r))}var u=n.map(function(g){var y=Ot(g.shape.slice(r));return g.as2D(-1,y)}),c=Ku(u.map(function(g){return g.shape}),1),f=Yt(c,n[0].dtype).values;if(u[0].shape[0]===1){var h=0;u.forEach(function(g){f.set(o.readSync(g.dataId),h),h+=g.size})}else{var p=0;u.forEach(function(g){for(var y=o.readSync(g.dataId),x=0,w=0;w<g.shape[0];++w)for(var S=w*c[1]+p,A=0;A<g.shape[1];++A)f[S+A]=y[x++];p+=g.shape[1]})}var v=Ku(n.map(function(g){return g.shape}),r);return Un(f,v,n[0].dtype)},e.prototype.neg=function(n){return gt(n,"neg"),this.multiply(Ct(-1),n)},e.prototype.add=function(n,r){return n.dtype==="complex64"||r.dtype==="complex64"?this.broadcastedBinaryComplexOp(n.cast("complex64"),r.cast("complex64"),function(o,a,s,u){return{real:o+s,imag:a+u}}):this.broadcastedBinaryOp(n,r,zn(n.dtype,r.dtype),function(o,a){return o+a})},e.prototype.addN=function(n){var r=this;gt(n,"addN");for(var o=n.map(function(h){return r.readSync(h.dataId)}),a=Yt(n[0].shape,n[0].dtype),s=a.values,u=0;u<n.length;u++)for(var c=o[u],f=0;f<s.length;f++)s[f]+=c[f];return a.toTensor()},e.prototype.softmax=function(n,r){var o=Tn([r],n.shape),a=this.max(n,o),s=yr(a.shape,o),u=this.subtract(n,a.reshape(s)),c=this.exp(u),f=this.sum(c,o).reshape(s);return this.realDivide(c,f)},e.prototype.subtract=function(n,r){return n.dtype==="complex64"||r.dtype==="complex64"?this.broadcastedBinaryComplexOp(n.cast("complex64"),r.cast("complex64"),function(o,a,s,u){return{real:o-s,imag:a-u}}):this.broadcastedBinaryOp(n,r,zn(n.dtype,r.dtype),function(o,a){return o-a})},e.prototype.pow=function(n,r){return gt([n,r],"pow"),this.broadcastedBinaryOp(n,r,n.dtype,function(o,a){return Math.pow(o,a)})},e.prototype.batchMatMul=function(n,r,o,a){gt([n,r],"matMul");for(var s=o?n.shape[1]:n.shape[2],u=o?n.shape[2]:n.shape[1],c=a?r.shape[1]:r.shape[2],f=n.shape[0],h=this.readSync(n.dataId),p=this.readSync(r.dataId),v=o?[n.strides[0],1,n.strides[1]]:[n.strides[0],n.strides[1],1],g=v[0],y=v[1],x=v[2],w=a?[1,r.strides[1],r.strides[0]]:[r.strides[1],1,r.strides[0]],S=w[0],A=w[1],E=w[2],T=u*c,R=Yt([f,u,c],n.dtype),_=R.values,M=this.blockSize,k=0;k<f;k++)for(var N=0;N<u;N+=M)for(var I=0;I<c;I+=M)for(var z=0;z<s;z+=M)for(var D=Math.min(N+M,u),$=Math.min(I+M,c),j=Math.min(z+M,s),W=N;W<D;W++)for(var B=I;B<$;B++){for(var H=0,q=z;q<j;q++)H+=h[k*g+W*y+q*x]*p[q*S+B*A+k*E];_[k*T+(W*c+B)]+=H}return R.toTensor()},e.prototype.fusedBatchMatMul=function(n){var r=n.a,o=n.b,a=n.transposeA,s=n.transposeB,u=n.bias,c=n.activation,f=n.preluActivationWeights,h=this.batchMatMul(r,o,a,s);return u&&(h=this.add(h,u)),c&&(h=ny(this,h,c,f)),h},e.prototype.multiply=function(n,r){return n.dtype==="complex64"||r.dtype==="complex64"?this.broadcastedBinaryComplexOp(n.cast("complex64"),r.cast("complex64"),function(o,a,s,u){return{real:o*s-a*u,imag:o*u+a*s}}):this.broadcastedBinaryOp(n,r,zn(n.dtype,r.dtype),function(o,a){return o*a})},e.prototype.realDivide=function(n,r){return gt([n,r],"realDivide"),this.broadcastedBinaryOp(n,r,"float32",function(o,a){return o/a})},e.prototype.floorDiv=function(n,r){return gt([n,r],"floorDiv"),this.broadcastedBinaryOp(n,r,"int32",function(o,a){return Math.floor(o/a)})},e.prototype.sum=function(n,r){gt(n,"sum"),_r("sum",r,n.rank);for(var o=qn(n.shape,r),a=o[0],s=o[1],u=We(a,zn(n.dtype,"int32")),c=Ot(s),f=this.readSync(u.dataId),h=this.readSync(n.dataId),p=0;p<f.length;++p){for(var v=p*c,g=0,y=0;y<c;++y)g+=h[v+y];f[p]=g}return u},e.prototype.prod=function(n,r){gt(n,"sum");for(var o=qn(n.shape,r),a=o[0],s=o[1],u=We(a,zn(n.dtype,"int32")),c=Ot(s),f=this.readSync(u.dataId),h=this.readSync(n.dataId),p=0;p<f.length;++p){for(var v=p*c,g=1,y=0;y<c;++y)g*=h[v+y];f[p]=g}return u},e.prototype.unsortedSegmentSum=function(n,r,o){gt(n,"unsortedSegmentSum");for(var a=[],s=n.rank-r.rank,u=0;u<s;++u)r=r.expandDims(u+1);for(u=0;u<o;++u){var c=Ct(u,"int32"),f=FD(c,r).asType("float32").mul(n).sum(0);a.push(f)}return Ir(a)},e.prototype.argMin=function(n,r){gt(n,"argMin");var o=[r];_r("argMin",o,n.rank);for(var a=qn(n.shape,o),s=a[0],u=a[1],c=We(s,"int32"),f=Ot(u),h=this.readSync(c.dataId),p=this.readSync(n.dataId),v=0;v<h.length;++v){for(var g=v*f,y=p[g],x=0,w=0;w<f;++w){var S=p[g+w];S<y&&(y=S,x=w)}h[v]=x}return c},e.prototype.argMax=function(n,r){gt(n,"argMax");var o=[r];_r("argMax",o,n.rank);for(var a=qn(n.shape,o),s=a[0],u=a[1],c=We(s,"int32"),f=Ot(u),h=this.readSync(c.dataId),p=this.readSync(n.dataId),v=0;v<h.length;++v){for(var g=v*f,y=p[g],x=0,w=0;w<f;++w){var S=p[g+w];S>y&&(y=S,x=w)}h[v]=x}return c},e.prototype.cumsum=function(n,r,o,a){if(gt(n,"cumsum"),r!==n.rank-1)throw new Error("backend.cumsum in CPU expects an inner-most axis="+(n.rank-1)+" but got axis="+r);for(var s=zn(n.dtype,"int32"),u=We(n.shape,s),c=this.readSync(u.dataId),f=this.readSync(n.dataId),h=n.shape[n.rank-1],p=a?function(w,S){return w+h-S-1}:function(w,S){return w+S},v=0;v<f.length;v+=h)for(var g=0;g<h;g++){var y=p(v,g);if(g===0)c[y]=o?0:f[y];else{var x=p(v,g-1);c[y]=o?f[x]+c[x]:f[y]+c[x]}}return u},e.prototype.equal=function(n,r){return gt([n,r],"equal"),this.broadcastedBinaryOp(n,r,"bool",function(o,a){return o===a?1:0})},e.prototype.notEqual=function(n,r){return gt([n,r],"notEqual"),this.broadcastedBinaryOp(n,r,"bool",function(o,a){return o!==a?1:0})},e.prototype.less=function(n,r){return gt([n,r],"less"),this.broadcastedBinaryOp(n,r,"bool",function(o,a){return o<a?1:0})},e.prototype.lessEqual=function(n,r){return gt([n,r],"lessEqual"),this.broadcastedBinaryOp(n,r,"bool",function(o,a){return o<=a?1:0})},e.prototype.greater=function(n,r){return gt([n,r],"greater"),this.broadcastedBinaryOp(n,r,"bool",function(o,a){return o>a?1:0})},e.prototype.greaterEqual=function(n,r){return gt([n,r],"greaterEqual"),this.broadcastedBinaryOp(n,r,"bool",function(o,a){return o>=a?1:0})},e.prototype.logicalNot=function(n){gt(n,"logicalNot");for(var r=this.readSync(n.dataId),o=new Uint8Array(r.length),a=0;a<r.length;++a)o[a]=r[a]?0:1;return this.makeOutput(o,n.shape,"bool")},e.prototype.logicalAnd=function(n,r){return gt([n,r],"logicalAnd"),this.broadcastedBinaryOp(n,r,"bool",function(o,a){return o&&a})},e.prototype.logicalOr=function(n,r){return gt([n,r],"logicalOr"),this.broadcastedBinaryOp(n,r,"bool",function(o,a){return o||a})},e.prototype.select=function(n,r,o){gt([n,r,o],"select");for(var a=this.readSync(n.dataId),s=this.readSync(r.dataId),u=this.readSync(o.dataId),c=We(r.shape,zn(r.dtype,o.dtype)),f=this.readSync(c.dataId),h=0,p=n.rank===0||n.rank>1||r.rank===1?1:Ot(r.shape.slice(1)),v=0;v<a.length;v++)for(var g=0;g<p;g++)a[v]===1?f[h++]=s[v]:f[h++]=u[v];return c},e.prototype.where=function(n){gt([n],"where");var r=this.readSync(n.dataId);return jb(n.shape,r)},e.prototype.topk=function(n,r,o){return gt(n,"topk"),pD(this.readSync(n.dataId),n.shape,n.dtype,r)},e.prototype.min=function(n,r){gt(n,"min"),_r("min",r,n.rank);for(var o=qn(n.shape,r),a=o[0],s=o[1],u=We(a,n.dtype),c=Ot(s),f=this.readSync(u.dataId),h=this.readSync(n.dataId),p=0;p<f.length;++p){for(var v=p*c,g=h[v],y=0;y<c;++y){var x=h[v+y];x<g&&(g=x)}f[p]=g}return u},e.prototype.minimum=function(n,r){return gt([n,r],"minimum"),this.broadcastedBinaryOp(n,r,n.dtype,function(o,a){return Math.min(o,a)})},e.prototype.mod=function(n,r){return gt([n,r],"mod"),this.broadcastedBinaryOp(n,r,n.dtype,function(o,a){var s=o%a;return o<0&&a<0||o>=0&&a>=0?s:(s+a)%a})},e.prototype.max=function(n,r){gt(n,"max"),_r("max",r,n.rank);for(var o=qn(n.shape,r),a=o[0],s=o[1],u=We(a,n.dtype),c=Ot(s),f=this.readSync(u.dataId),h=this.readSync(n.dataId),p=0;p<f.length;++p){for(var v=p*c,g=h[v],y=0;y<c;++y){var x=h[v+y];x>g&&(g=x)}f[p]=g}return u},e.prototype.maximum=function(n,r){return gt([n,r],"maximum"),this.broadcastedBinaryOp(n,r,n.dtype,function(o,a){return Math.max(o,a)})},e.prototype.all=function(n,r){gt(n,"all"),_r("all",r,n.rank);for(var o=qn(n.shape,r),a=o[0],s=o[1],u=We(a,n.dtype),c=Ot(s),f=this.readSync(u.dataId),h=this.readSync(n.dataId),p=0;p<f.length;++p){for(var v=p*c,g=h[v],y=0;y<c;++y){var x=h[v+y];g=g&&x}f[p]=g}return u},e.prototype.any=function(n,r){gt(n,"any"),_r("any",r,n.rank);for(var o=qn(n.shape,r),a=o[0],s=o[1],u=We(a,n.dtype),c=Ot(s),f=this.readSync(u.dataId),h=this.readSync(n.dataId),p=0;p<f.length;++p){for(var v=p*c,g=h[v],y=0;y<c;++y){var x=h[v+y];g=g||x}f[p]=g}return u},e.prototype.squaredDifference=function(n,r){return gt([n,r],"squaredDifference"),this.broadcastedBinaryOp(n,r,n.dtype,function(o,a){var s=o-a;return s*s})},e.prototype.ceil=function(n){gt(n,"ceil");for(var r=this.readSync(n.dataId),o=new Float32Array(r.length),a=0;a<r.length;++a)o[a]=Math.ceil(r[a]);return this.makeOutput(o,n.shape,"float32")},e.prototype.floor=function(n){gt(n,"floor");for(var r=this.readSync(n.dataId),o=new Float32Array(r.length),a=0;a<r.length;++a)o[a]=Math.floor(r[a]);return this.makeOutput(o,n.shape,"float32")},e.prototype.sign=function(n){gt(n,"x");for(var r=this.readSync(n.dataId),o=new Float32Array(r.length),a=0;a<r.length;++a)r[a]<0?o[a]=-1:r[a]>0?o[a]=1:o[a]=0;return this.makeOutput(o,n.shape,"float32")},e.prototype.isNaN=function(n){gt(n,"x");for(var r=this.readSync(n.dataId),o=new Uint8Array(r.length),a=0;a<r.length;++a)Number.isNaN(r[a])&&(o[a]=1);return this.makeOutput(o,n.shape,"bool")},e.prototype.isInf=function(n){gt(n,"x");for(var r=this.readSync(n.dataId),o=new Uint8Array(r.length),a=0;a<r.length;++a)Math.abs(r[a])===1/0&&(o[a]=1);return this.makeOutput(o,n.shape,"bool")},e.prototype.isFinite=function(n){gt(n,"x");for(var r=this.readSync(n.dataId),o=new Uint8Array(r.length),a=0;a<r.length;++a)Number.isFinite(r[a])&&(o[a]=1);return this.makeOutput(o,n.shape,"bool")},e.prototype.round=function(n){gt(n,"round");for(var r=this.readSync(n.dataId),o=new Float32Array(r.length),a=0;a<r.length;++a){var s=Math.floor(r[a]);r[a]-s<.5?o[a]=Math.floor(r[a]):r[a]-s>.5?o[a]=Math.ceil(r[a]):o[a]=s%2==0?s:s+1}return this.makeOutput(o,n.shape,"float32")},e.prototype.exp=function(n){gt(n,"exp");for(var r=this.readSync(n.dataId),o=new Float32Array(r.length),a=0;a<r.length;++a)o[a]=Math.exp(r[a]);return this.makeOutput(o,n.shape,"float32")},e.prototype.expm1=function(n){gt(n,"expm1");for(var r=this.readSync(n.dataId),o=new Float32Array(r.length),a=0;a<r.length;++a)o[a]=Math.expm1(r[a]);return this.makeOutput(o,n.shape,"float32")},e.prototype.log=function(n){gt(n,"log");for(var r=this.readSync(n.dataId),o=new Float32Array(r.length),a=0;a<r.length;++a){var s=r[a];o[a]=Math.log(s)}return this.makeOutput(o,n.shape,"float32")},e.prototype.log1p=function(n){gt(n,"log1p");for(var r=this.readSync(n.dataId),o=new Float32Array(r.length),a=0;a<r.length;++a){var s=r[a];o[a]=Math.log1p(s)}return this.makeOutput(o,n.shape,"float32")},e.prototype.sqrt=function(n){gt(n,"sqrt");for(var r=this.readSync(n.dataId),o=new Float32Array(r.length),a=0;a<r.length;++a){var s=r[a];o[a]=Math.sqrt(s)}return this.makeOutput(o,n.shape,"float32")},e.prototype.rsqrt=function(n){gt(n,"rsqrt");for(var r=this.readSync(n.dataId),o=new Float32Array(r.length),a=0;a<r.length;++a){var s=r[a];o[a]=1/Math.sqrt(s)}return this.makeOutput(o,n.shape,"float32")},e.prototype.reciprocal=function(n){gt(n,"reciprocal");for(var r=this.readSync(n.dataId),o=new Float32Array(r.length),a=0;a<r.length;++a)o[a]=1/r[a];return this.makeOutput(o,n.shape,"float32")},e.prototype.linear=function(n){return n},e.prototype.relu=function(n){gt(n,"relu");for(var r=We(n.shape,n.dtype),o=this.readSync(r.dataId),a=this.readSync(n.dataId),s=0;s<a.length;++s)o[s]=Math.max(0,a[s]);return r},e.prototype.relu6=function(n){gt(n,"relu");for(var r=We(n.shape,n.dtype),o=this.readSync(r.dataId),a=this.readSync(n.dataId),s=0;s<a.length;++s)o[s]=Math.min(Math.max(0,a[s]),6);return r},e.prototype.prelu=function(n,r){return gt([n,r],"prelu"),this.broadcastedBinaryOp(n,r,n.dtype,function(o,a){return o<0?a*o:o})},e.prototype.elu=function(n){gt(n,"elu");for(var r=new Float32Array(n.size),o=this.readSync(n.dataId),a=0;a<o.length;++a){var s=o[a];r[a]=s>=0?s:Math.exp(s)-1}return this.makeOutput(r,n.shape,"float32")},e.prototype.eluDer=function(n,r){gt([n,r],"eluDer");for(var o=new Float32Array(r.size),a=this.readSync(r.dataId),s=this.readSync(n.dataId),u=0;u<a.length;++u){var c=a[u];o[u]=c>=1?s[u]:s[u]*(c+1)}return this.makeOutput(o,r.shape,"float32")},e.prototype.selu=function(n){gt(n,"selu");for(var r=Hb,o=Gb,a=new Float32Array(n.size),s=this.readSync(n.dataId),u=0;u<s.length;++u){var c=s[u];a[u]=c>=0?o*c:r*(Math.exp(c)-1)}return this.makeOutput(a,n.shape,"float32")},e.prototype.clip=function(n,r,o){gt(n,"clip");for(var a=new Float32Array(n.size),s=this.readSync(n.dataId),u=0;u<s.length;++u){var c=s[u];a[u]=c>o?o:c<r?r:c}return this.makeOutput(a,n.shape,"float32")},e.prototype.abs=function(n){for(var r=new Float32Array(n.size),o=this.readSync(n.dataId),a=0;a<o.length;++a)r[a]=Math.abs(o[a]);return this.makeOutput(r,n.shape,"float32")},e.prototype.complexAbs=function(n){for(var r=new Float32Array(n.size),o=this.readSync(n.dataId),a=0;a<n.size;++a){var s=o[2*a],u=o[2*a+1];r[a]=Math.hypot(s,u)}return this.makeOutput(r,n.shape,"float32")},e.prototype.int=function(n){gt(n,"int");for(var r=new Int32Array(n.size),o=this.readSync(n.dataId),a=0;a<o.length;++a)r[a]=o[a];return this.makeOutput(r,n.shape,"int32")},e.prototype.sigmoid=function(n){gt(n,"sigmoid");for(var r=new Float32Array(n.size),o=this.readSync(n.dataId),a=0;a<o.length;++a)r[a]=1/(1+Math.exp(-o[a]));return this.makeOutput(r,n.shape,"float32")},e.prototype.softplus=function(n){gt(n,"softplus");for(var r=Math.log(11920928955078125e-23)+2,o=new Float32Array(n.size),a=this.readSync(n.dataId),s=0;s<a.length;++s){var u=a[s]>-r,c=a[s]<r,f=Math.exp(a[s]),h=void 0;h=c?f:u?a[s]:Math.log(1+f),o[s]=h}return this.makeOutput(o,n.shape,"float32")},e.prototype.sin=function(n){gt(n,"sin");for(var r=new Float32Array(n.size),o=this.readSync(n.dataId),a=0;a<o.length;++a)r[a]=Math.sin(o[a]);return this.makeOutput(r,n.shape,"float32")},e.prototype.cos=function(n){gt(n,"cos");for(var r=new Float32Array(n.size),o=this.readSync(n.dataId),a=0;a<o.length;++a)r[a]=Math.cos(o[a]);return this.makeOutput(r,n.shape,"float32")},e.prototype.tan=function(n){gt(n,"tan");for(var r=new Float32Array(n.size),o=this.readSync(n.dataId),a=0;a<o.length;++a)r[a]=Math.tan(o[a]);return this.makeOutput(r,n.shape,"float32")},e.prototype.asin=function(n){gt(n,"asin");for(var r=new Float32Array(n.size),o=this.readSync(n.dataId),a=0;a<o.length;++a)r[a]=Math.asin(o[a]);return this.makeOutput(r,n.shape,"float32")},e.prototype.acos=function(n){gt(n,"acos");for(var r=new Float32Array(n.size),o=this.readSync(n.dataId),a=0;a<o.length;++a)r[a]=Math.acos(o[a]);return this.makeOutput(r,n.shape,"float32")},e.prototype.atan=function(n){gt(n,"atan");for(var r=new Float32Array(n.size),o=this.readSync(n.dataId),a=0;a<o.length;++a)r[a]=Math.atan(o[a]);return this.makeOutput(r,n.shape,"float32")},e.prototype.atan2=function(n,r){return gt([n,r],"atan2"),this.broadcastedBinaryOp(n,r,n.dtype,function(o,a){return Math.atan2(o,a)})},e.prototype.sinh=function(n){gt(n,"sinh");for(var r=new Float32Array(n.size),o=this.readSync(n.dataId),a=0;a<o.length;++a)r[a]=Math.sinh(o[a]);return this.makeOutput(r,n.shape,"float32")},e.prototype.cosh=function(n){gt(n,"cosh");for(var r=new Float32Array(n.size),o=this.readSync(n.dataId),a=0;a<o.length;++a)r[a]=Math.cosh(o[a]);return this.makeOutput(r,n.shape,"float32")},e.prototype.tanh=function(n){gt(n,"tanh");for(var r=new Float32Array(n.size),o=this.readSync(n.dataId),a=0;a<o.length;++a)r[a]=yU(o[a]);return this.makeOutput(r,n.shape,"float32")},e.prototype.asinh=function(n){gt(n,"asinh");for(var r=new Float32Array(n.size),o=this.readSync(n.dataId),a=0;a<o.length;++a)r[a]=Math.asinh(o[a]);return this.makeOutput(r,n.shape,"float32")},e.prototype.acosh=function(n){gt(n,"acosh");for(var r=new Float32Array(n.size),o=this.readSync(n.dataId),a=0;a<o.length;++a)r[a]=Math.acosh(o[a]);return this.makeOutput(r,n.shape,"float32")},e.prototype.atanh=function(n){gt(n,"atanh");for(var r=new Float32Array(n.size),o=this.readSync(n.dataId),a=0;a<o.length;++a)r[a]=Math.atanh(o[a]);return this.makeOutput(r,n.shape,"float32")},e.prototype.erf=function(n){gt(n,"erf");for(var r=new Float32Array(n.size),o=this.readSync(n.dataId),a=0;a<o.length;++a){var s=Math.sign(o[a]),u=Math.abs(o[a]),c=1/(1+.3275911*u);r[a]=s*(1-((((1.061405429*c-1.453152027)*c+1.421413741)*c-.284496736)*c+.254829592)*c*Math.exp(-u*u))}return this.makeOutput(r,n.shape,"float32")},e.prototype.step=function(n,r){r===void 0&&(r=0),gt(n,"step");for(var o=new Float32Array(n.size),a=this.readSync(n.dataId),s=0;s<a.length;++s){var u=a[s];isNaN(u)?o[s]=NaN:o[s]=u>0?1:r}return this.makeOutput(o,n.shape,"float32")},e.prototype.fusedConv2d=function(n){var r=n.input,o=n.filter,a=n.convInfo,s=n.bias,u=n.activation,c=n.preluActivationWeights,f=this.conv2d(r,o,a);return s&&(f=this.add(f,s)),u&&(f=ny(this,f,u,c)),f},e.prototype.conv2d=function(n,r,o){gt([n,r],"conv2d");for(var a=o.filterHeight,s=o.filterWidth,u=o.dilationHeight,c=o.dilationWidth,f=o.padInfo.left,h=o.padInfo.top,p=o.dataFormat==="channelsLast",v=Yt(o.outShape,n.dtype),g=n.strides[0],y=p?n.strides[1]:n.strides[2],x=p?n.strides[2]:1,w=p?1:n.strides[1],S=v.strides[0],A=p?v.strides[1]:v.strides[2],E=p?v.strides[2]:1,T=p?1:v.strides[1],R=this.readSync(n.dataId),_=this.readSync(r.dataId),M=v.values,k=0;k<o.batchSize;++k)for(var N=k*g,I=k*S,z=0;z<o.outHeight;++z)for(var D=I+z*A,$=z*o.strideHeight-h,j=0;j<a;j++){var W=$+j*u;if(!(W<0||W>=o.inHeight))for(var B=j*r.strides[0],H=N+W*y,q=0;q<o.outWidth;++q)for(var X=D+q*E,F=q*o.strideWidth-f,Q=0;Q<s;Q++){var et=F+Q*c;if(!(et<0||et>=o.inWidth))for(var nt=H+et*x,lt=B+Q*r.strides[1],pt=0;pt<o.inChannels;++pt){for(var vt=R[nt+pt*w],bt=0;bt<o.outChannels;++bt)M[X+bt*T]+=vt*_[lt+bt];lt+=o.outChannels}}}return v.toTensor()},e.prototype.conv3d=function(n,r,o){for(var a=o.filterDepth,s=o.filterHeight,u=o.filterWidth,c=o.dilationDepth,f=o.dilationHeight,h=o.dilationWidth,p=o.padInfo.front,v=o.padInfo.left,g=o.padInfo.top,y=Yt(o.outShape,n.dtype),x=this.readSync(n.dataId),w=this.readSync(r.dataId),S=y.values,A=0;A<o.batchSize;++A)for(var E=A*n.strides[0],T=A*y.strides[0],R=0;R<o.outDepth;++R)for(var _=T+R*y.strides[1],M=R*o.strideDepth-p,k=0;k<a;k++){var N=M+k*c;if(!(N<0||N>=o.inDepth))for(var I=k*r.strides[0],z=E+N*n.strides[1],D=0;D<o.outHeight;++D)for(var $=_+D*y.strides[2],j=D*o.strideHeight-g,W=0;W<s;W++){var B=j+W*f;if(!(B<0||B>=o.inHeight))for(var H=I+W*r.strides[1],q=z+B*n.strides[2],X=0;X<o.outWidth;++X)for(var F=$+X*o.outChannels,Q=X*o.strideWidth-v,et=0;et<u;et++){var nt=Q+et*h;if(!(nt<0||nt>=o.inWidth))for(var lt=H+et*r.strides[2],pt=q+nt*o.inChannels,vt=lt,bt=0;bt<o.inChannels;++bt){for(var yt=x[pt+bt],wt=0;wt<o.outChannels;++wt)S[F+wt]+=yt*w[vt+wt];vt+=o.outChannels}}}}return y.toTensor()},e.prototype.conv2dDerInput=function(n,r,o){gt([n,r],"conv2dDerInput");for(var a=Yt(o.inShape,"float32"),s=a.values,u=this.readSync(n.dataId),c=this.readSync(r.dataId),f=r.strides,h=f[0],p=f[1],v=f[2],g=o.batchSize,y=o.filterHeight,x=o.filterWidth,w=o.inChannels,S=o.inHeight,A=o.inWidth,E=o.outChannels,T=o.outHeight,R=o.outWidth,_=o.strideHeight,M=o.strideWidth,k=o.dataFormat,N=y-1-o.padInfo.top,I=x-1-o.padInfo.left,z=k==="channelsLast",D=a.strides[0],$=z?a.strides[1]:a.strides[2],j=z?a.strides[2]:1,W=z?1:a.strides[1],B=n.strides[0],H=z?n.strides[1]:n.strides[2],q=z?n.strides[2]:1,X=z?1:n.strides[1],F=0;F<g;++F)for(var Q=0;Q<w;++Q)for(var et=0;et<S;++et)for(var nt=et-N,lt=Math.max(0,Math.ceil(nt/_)),pt=Math.min(T,(y+nt)/_),vt=0;vt<A;++vt){for(var bt=vt-I,yt=Math.max(0,Math.ceil(bt/M)),wt=Math.min(R,(x+bt)/M),Et=0,xt=lt;xt<pt;++xt)for(var At=xt*_-nt,Rt=yt;Rt<wt;++Rt)for(var St=B*F+H*xt+q*Rt,zt=h*(y-1-At)+p*(x-1-(Rt*M-bt))+v*Q,Xt=0;Xt<E;++Xt)Et+=u[St+X*Xt]*c[zt+Xt];s[D*F+$*et+j*vt+W*Q]=Et}return a.toTensor()},e.prototype.conv3dDerInput=function(n,r,o){for(var a=Yt(o.inShape,"float32"),s=a.values,u=a.strides,c=u[0],f=u[1],h=u[2],p=u[3],v=this.readSync(n.dataId),g=n.strides,y=g[0],x=g[1],w=g[2],S=g[3],A=this.readSync(r.dataId),E=r.strides,T=E[0],R=E[1],_=E[2],M=E[3],k=o.batchSize,N=o.filterDepth,I=o.filterHeight,z=o.filterWidth,D=o.inChannels,$=o.inDepth,j=o.inHeight,W=o.inWidth,B=o.outChannels,H=o.outDepth,q=o.outHeight,X=o.outWidth,F=o.strideDepth,Q=o.strideHeight,et=o.strideWidth,nt=N-1-o.padInfo.front,lt=I-1-o.padInfo.top,pt=z-1-o.padInfo.left,vt=0;vt<k;++vt)for(var bt=0;bt<D;++bt)for(var yt=0;yt<$;++yt)for(var wt=yt-nt,Et=Math.max(0,Math.ceil(wt/F)),xt=Math.min(H,(N+wt)/F),At=0;At<j;++At)for(var Rt=At-lt,St=Math.max(0,Math.ceil(Rt/Q)),zt=Math.min(q,(I+Rt)/Q),Xt=0;Xt<W;++Xt){for(var Qt=Xt-pt,se=Math.max(0,Math.ceil(Qt/et)),te=Math.min(X,(z+Qt)/et),oe=0,Zt=Et;Zt<xt;++Zt)for(var _t=Zt*F-wt,Ve=St;Ve<zt;++Ve)for(var be=Ve*Q-Rt,He=se;He<te;++He)for(var we=y*vt+x*Zt+w*Ve+S*He,Ut=T*(N-1-_t)+R*(I-1-be)+_*(z-1-(He*et-Qt))+M*bt,Jt=0;Jt<B;++Jt)oe+=v[we+Jt]*A[Ut+Jt];s[c*vt+f*yt+h*At+p*Xt+bt]=oe}return a.toTensor()},e.prototype.conv2dDerFilter=function(n,r,o){gt([n,r],"conv2dDerFilter");for(var a=o.strideHeight,s=o.strideWidth,u=o.filterHeight,c=o.filterWidth,f=o.dataFormat==="channelsLast",h=Yt(o.filterShape,"float32"),p=o.padInfo.left,v=o.padInfo.top,g=this.bufferSync(n),y=this.bufferSync(r),x=0;x<u;++x)for(var w=Math.max(0,Math.ceil((v-x)/a)),S=Math.min(o.outHeight,(o.inHeight+v-x)/a),A=0;A<c;++A)for(var E=Math.max(0,Math.ceil((p-A)/s)),T=Math.min(o.outWidth,(o.inWidth+p-A)/s),R=0;R<o.inChannels;++R)for(var _=0;_<o.outChannels;++_){for(var M=0,k=0;k<o.batchSize;++k)for(var N=w;N<S;++N)for(var I=x+N*a-v,z=E;z<T;++z){var D=A+z*s-p;M+=f?g.get(k,I,D,R)*y.get(k,N,z,_):g.get(k,R,I,D)*y.get(k,_,N,z)}h.set(M,x,A,R,_)}return h.toTensor()},e.prototype.conv3dDerFilter=function(n,r,o){for(var a=o.strideDepth,s=o.strideHeight,u=o.strideWidth,c=o.filterDepth,f=o.filterHeight,h=o.filterWidth,p=Yt(o.filterShape,"float32"),v=p.values,g=p.strides,y=g[0],x=g[1],w=g[2],S=g[3],A=this.readSync(r.dataId),E=r.strides,T=E[0],R=E[1],_=E[2],M=E[3],k=this.readSync(n.dataId),N=n.strides,I=N[0],z=N[1],D=N[2],$=N[3],j=o.padInfo.front,W=o.padInfo.left,B=o.padInfo.top,H=0;H<c;++H)for(var q=Math.max(0,Math.ceil((j-H)/a)),X=Math.min(o.outDepth,(o.inDepth+j-H)/a),F=H*y,Q=0;Q<f;++Q)for(var et=Math.max(0,Math.ceil((B-Q)/s)),nt=Math.min(o.outHeight,(o.inHeight+B-Q)/s),lt=Q*x+F,pt=0;pt<h;++pt)for(var vt=Math.max(0,Math.ceil((W-pt)/u)),bt=Math.min(o.outWidth,(o.inWidth+W-pt)/u),yt=pt*w+lt,wt=0;wt<o.inChannels;++wt)for(var Et=wt*S+yt,xt=0;xt<o.outChannels;++xt){for(var At=0,Rt=0;Rt<o.batchSize;++Rt)for(var St=Rt*I,zt=Rt*T,Xt=q;Xt<X;++Xt)for(var Qt=(H+Xt*a-j)*z+St,se=Xt*R+zt,te=et;te<nt;++te)for(var oe=(Q+te*s-B)*D+Qt,Zt=te*_+se,_t=vt;_t<bt;++_t){var Ve=_t*M+Zt;At+=k[(pt+_t*u-W)*$+oe+wt]*A[Ve+xt]}v[Et+xt]=At}return p.toTensor()},e.prototype.fusedDepthwiseConv2D=function(n){var r=n.input,o=n.filter,a=n.convInfo,s=n.bias,u=n.activation,c=n.preluActivationWeights,f=this.depthwiseConv2D(r,o,a);return s&&(f=this.add(f,s)),u&&(f=ny(this,f,u,c)),f},e.prototype.depthwiseConv2D=function(n,r,o){gt([n,r],"depthwiseConv2D");for(var a=o.filterHeight,s=o.filterWidth,u=o.dilationHeight,c=o.dilationWidth,f=o.padInfo.left,h=o.padInfo.top,p=o.outChannels/o.inChannels,v=Yt(o.outShape,n.dtype),g=this.readSync(n.dataId),y=this.readSync(r.dataId),x=v.values,w=0;w<o.batchSize;++w)for(var S=w*n.strides[0],A=w*v.strides[0],E=0;E<o.outHeight;++E)for(var T=A+E*v.strides[1],R=E*o.strideHeight-f,_=0;_<a;++_){var M=R+_*u;if(!(M<0||M>=o.inHeight))for(var k=_*r.strides[0],N=S+M*n.strides[1],I=0;I<o.outWidth;++I)for(var z=T+I*v.strides[2],D=I*o.strideWidth-h,$=0;$<s;++$){var j=D+$*c;if(!(j<0||j>=o.inWidth))for(var W=k+$*r.strides[1],B=N+j*o.inChannels,H=z,q=W,X=0;X<o.inChannels;++X){for(var F=g[B+X],Q=0;Q<p;++Q)x[H+Q]+=F*y[q+Q];H+=p,q+=p}}}return v.toTensor()},e.prototype.depthwiseConv2DDerInput=function(n,r,o){gt([n,r],"depthwiseConv2DDerInput");for(var a=Yt(o.inShape,"float32"),s=a.values,u=a.strides,c=u[0],f=u[1],h=u[2],p=this.readSync(n.dataId),v=n.strides,g=v[0],y=v[1],x=v[2],w=this.readSync(r.dataId),S=r.strides,A=S[0],E=S[1],T=S[2],R=o.batchSize,_=o.filterHeight,M=o.filterWidth,k=o.inChannels,N=o.inHeight,I=o.inWidth,z=o.outChannels,D=o.outHeight,$=o.outWidth,j=o.strideHeight,W=o.strideWidth,B=_-1-o.padInfo.top,H=M-1-o.padInfo.left,q=z/k,X=0;X<R;++X)for(var F=0;F<k;++F)for(var Q=0;Q<N;++Q)for(var et=Q-B,nt=Math.max(0,Math.ceil(et/j)),lt=Math.min(D,(_+et)/j),pt=0;pt<I;++pt){for(var vt=pt-H,bt=Math.max(0,Math.ceil(vt/W)),yt=Math.min($,(M+vt)/W),wt=0,Et=nt;Et<lt;++Et)for(var xt=Et*j-et,At=bt;At<yt;++At)for(var Rt=g*X+y*Et+x*At,St=A*(_-1-xt)+E*(M-1-(At*W-vt))+T*F,zt=0;zt<q;++zt)wt+=p[Rt+(F*q+zt)]*w[St+zt];s[c*X+f*Q+h*pt+F]=wt}return a.toTensor()},e.prototype.depthwiseConv2DDerFilter=function(n,r,o){gt([n,r],"depthwiseConv2DDerFilter");for(var a=o.strideHeight,s=o.strideWidth,u=o.filterHeight,c=o.filterWidth,f=Yt(o.filterShape,"float32"),h=o.padInfo.left,p=o.padInfo.top,v=o.outChannels/o.inChannels,g=this.bufferSync(n),y=this.bufferSync(r),x=0;x<u;++x)for(var w=Math.max(0,Math.ceil((p-x)/a)),S=Math.min(o.outHeight,(o.inHeight+p-x)/a),A=0;A<c;++A)for(var E=Math.max(0,Math.ceil((h-A)/s)),T=Math.min(o.outWidth,(o.inWidth+h-A)/s),R=0;R<o.outChannels;++R){for(var _=Math.trunc(R/v),M=R%v,k=0,N=0;N<o.batchSize;++N)for(var I=w;I<S;++I)for(var z=x+I*a-p,D=E;D<T;++D){var $=A+D*s-h;k+=g.get(N,z,$,_)*y.get(N,I,D,R)}f.set(k,x,A,_,M)}return f.toTensor()},e.prototype.tile=function(n,r){return gt(n,"tile"),hD(this.bufferSync(n),r)},e.prototype.pad=function(n,r,o){gt(n,"pad");var a=r.map(function(v,g){return v[0]+n.shape[g]+v[1]}),s=r.map(function(v){return v[0]}),u=this.bufferSync(n),c=Yt(a,n.dtype);o!==0&&c.values.fill(o);for(var f=0;f<n.size;f++){var h=u.indexToLoc(f),p=h.map(function(v,g){return v+s[g]});c.set.apply(c,[u.get.apply(u,h)].concat(p))}return c.toTensor()},e.prototype.transpose=function(n,r){gt(n,"transpose");for(var o=new Array(n.rank),a=0;a<o.length;a++)o[a]=n.shape[r[a]];var s=this.readSync(n.dataId),u=Yt(o,n.dtype),c=this.bufferSync(n);for(a=0;a<n.size;++a){for(var f=c.indexToLoc(a),h=new Array(f.length),p=0;p<h.length;p++)h[p]=f[r[p]];var v=u.locToIndex(h);u.values[v]=s[a]}return u.toTensor()},e.prototype.gather=function(n,r,o){gt([n,r],"gather");var a=n.shape.slice(),s=this.readSync(r.dataId);a[o]=s.length;for(var u=Yt(a,n.dtype),c=this.bufferSync(n),f=0;f<u.size;++f){var h=u.indexToLoc(f),p=h.slice();p[o]=s[h[o]];var v=c.locToIndex(p);u.values[f]=c.values[v]}return u.toTensor()},e.prototype.batchToSpaceND=function(n,r,o){gt([n],"batchToSpaceND");var a=r.reduce(function(p,v){return p*v}),s=Jh(n.shape,r,a),u=tp(s.length,r.length),c=ep(n.shape,r,a),f=tD(o,r.length),h=eD(c,o,r.length);return n.reshape(s).transpose(u).reshape(c).slice(f,h)},e.prototype.spaceToBatchND=function(n,r,o){gt([n],"spaceToBatchND");var a=r.reduce(function(v,g){return v*g}),s=[[0,0]];s.push.apply(s,o);for(var u=1+r.length;u<n.shape.length;++u)s.push([0,0]);var c=n.pad(s),f=Jh(c.shape,r,a,!1),h=tp(f.length,r.length,!1),p=ep(c.shape,r,a,!1);return c.reshape(f).transpose(h).reshape(p)},e.prototype.pool=function(n,r,o){gt(n,"pool");for(var a=r.strideHeight,s=r.strideWidth,u=r.dilationHeight,c=r.dilationWidth,f=r.effectiveFilterHeight,h=r.effectiveFilterWidth,p=r.padInfo.top,v=r.padInfo.left,g=o==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,y=this.readSync(n.dataId),x=Yt(r.outShape,n.dtype),w=x.values,S=r.outShape[1]*r.outShape[2]*r.outShape[3],A=r.outShape[2]*r.outShape[3],E=r.outShape[3],T=0;T<r.batchSize;++T)for(var R=T*S,_=T*n.strides[0],M=0;M<r.inChannels;++M)for(var k=0;k<r.outHeight;++k)for(var N=k*a-p,I=Math.max(0,N),z=Math.min(r.inHeight,f+N),D=R+k*A,$=0;$<r.outWidth;++$){for(var j=$*s-v,W=Math.max(0,j),B=Math.min(r.inWidth,h+j),H=g,q=0,X=0,F=I;F<z;F+=u){for(var Q=_+F*n.strides[1],et=W;et<B;et+=c){var nt=y[Q+et*n.strides[2]+M];o==="max"&&nt>H?H=nt:o==="avg"&&(q+=nt,X++)}if(isNaN(H))break}w[D+$*E+M]=o==="avg"?q/X:H}return x.toTensor()},e.prototype.maxPool=function(n,r){return this.pool(n,r,"max")},e.prototype.maxPoolPositions=function(n,r){for(var o=Yt(r.outShape,"int32"),a=r.strideHeight,s=r.strideWidth,u=r.dilationHeight,c=r.dilationWidth,f=r.effectiveFilterHeight,h=r.effectiveFilterWidth,p=r.padInfo.top,v=r.padInfo.left,g=this.bufferSync(n),y=0;y<r.batchSize;++y)for(var x=0;x<r.inChannels;++x)for(var w=0;w<r.outHeight;++w){for(var S=w*a-p,A=S;A<0;)A+=u;for(var E=Math.min(r.inHeight,f+S),T=0;T<r.outWidth;++T){for(var R=T*s-v,_=R;_<0;)_+=c;for(var M=Math.min(r.inWidth,h+R),k=Number.NEGATIVE_INFINITY,N=-1,I=A;I<E;I+=u)for(var z=I-S,D=_;D<M;D+=c){var $=D-R,j=g.get(y,I,D,x);j>k&&(k=j,N=z*h+$)}o.set(N,y,w,T,x)}}return o.toTensor()},e.prototype.maxPoolBackprop=function(n,r,o,a){gt([r,o],"maxPoolBackprop");for(var s=this.maxPoolPositions(r,a),u=a.strideHeight,c=a.strideWidth,f=a.dilationHeight,h=a.dilationWidth,p=a.effectiveFilterHeight,v=a.effectiveFilterWidth,g=v-1-a.padInfo.left,y=p-1-a.padInfo.top,x=Yt(r.shape,"float32"),w=this.bufferSync(s),S=this.bufferSync(n),A=0;A<a.batchSize;++A)for(var E=0;E<a.inChannels;++E)for(var T=0;T<a.inHeight;++T)for(var R=0;R<a.inWidth;++R){for(var _=T-y,M=R-g,k=0,N=0;N<p;N+=f){var I=(_+N)/u;if(!(I<0||I>=a.outHeight||Math.floor(I)!==I))for(var z=0;z<v;z+=h){var D=(M+z)/c;if(!(D<0||D>=a.outWidth||Math.floor(D)!==D)){var $=p*v-1-w.get(A,I,D,E)===N*v+z?1:0;$!==0&&(k+=S.get(A,I,D,E)*$)}}}x.set(k,A,T,R,E)}return x.toTensor()},e.prototype.avgPoolBackprop=function(n,r,o){gt([n,r],"avgPoolBackprop");for(var a=o.strideHeight,s=o.strideWidth,u=o.filterHeight,c=o.filterWidth,f=o.dilationHeight,h=o.dilationWidth,p=o.effectiveFilterHeight,v=o.effectiveFilterWidth,g=v-1-o.padInfo.left,y=p-1-o.padInfo.top,x=Yt(r.shape,"float32"),w=1/(u*c),S=this.bufferSync(n),A=0;A<o.batchSize;++A)for(var E=0;E<o.inChannels;++E)for(var T=0;T<o.inHeight;++T)for(var R=0;R<o.inWidth;++R){for(var _=T-y,M=R-g,k=0,N=0;N<p;N+=f){var I=(_+N)/a;if(!(I<0||I>=o.outHeight||Math.floor(I)!==I))for(var z=0;z<v;z+=h){var D=(M+z)/s;D<0||D>=o.outWidth||Math.floor(D)!==D||(k+=S.get(A,I,D,E))}}x.set(k*w,A,T,R,E)}return x.toTensor()},e.prototype.pool3d=function(n,r,o){gt(n,"pool3d");for(var a=r.strideDepth,s=r.strideHeight,u=r.strideWidth,c=r.dilationDepth,f=r.dilationHeight,h=r.dilationWidth,p=r.effectiveFilterDepth,v=r.effectiveFilterHeight,g=r.effectiveFilterWidth,y=r.padInfo.front,x=r.padInfo.top,w=r.padInfo.left,S=o==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,A=this.readSync(n.dataId),E=Yt(r.outShape,n.dtype),T=E.values,R=r.outShape[1]*r.outShape[2]*r.outShape[3]*r.outShape[4],_=r.outShape[2]*r.outShape[3]*r.outShape[4],M=r.outShape[3]*r.outShape[4],k=r.outShape[4],N=0;N<r.batchSize;++N)for(var I=N*R,z=N*n.strides[0],D=0;D<r.inChannels;++D)for(var $=0;$<r.outDepth;++$){for(var j=$*a-y,W=j;W<0;)W+=c;for(var B=Math.min(r.inDepth,p+j),H=I+$*_,q=0;q<r.outHeight;++q){for(var X=q*s-x,F=X;F<0;)F+=f;for(var Q=Math.min(r.inHeight,v+X),et=H+q*M,nt=0;nt<r.outWidth;++nt){for(var lt=nt*u-w,pt=lt;pt<0;)pt+=h;for(var vt=Math.min(r.inWidth,g+lt),bt=et+nt*k,yt=S,wt=0,Et=0,xt=W;xt<B;xt+=c){for(var At=z+xt*n.strides[1],Rt=F;Rt<Q;Rt+=f){for(var St=At+Rt*n.strides[2],zt=pt;zt<vt;zt+=h){var Xt=A[St+zt*n.strides[3]+D];if(o==="max"&&Xt>yt?yt=Xt:o==="avg"&&(wt+=Xt,Et++),isNaN(yt))break}if(isNaN(yt))break}if(isNaN(yt))break}T[bt+D]=o==="avg"?wt/Et:yt}}}return E.toTensor()},e.prototype.avgPool3d=function(n,r){return gt(n,"avgPool3d"),this.pool3d(n,r,"avg").toFloat()},e.prototype.avgPool3dBackprop=function(n,r,o){gt([n,r],"avgPool3dBackprop");for(var a=o.strideDepth,s=o.strideHeight,u=o.strideWidth,c=o.filterDepth,f=o.filterHeight,h=o.filterWidth,p=o.dilationDepth,v=o.dilationHeight,g=o.dilationWidth,y=o.effectiveFilterDepth,x=o.effectiveFilterHeight,w=o.effectiveFilterWidth,S=y-1-o.padInfo.front,A=w-1-o.padInfo.left,E=x-1-o.padInfo.top,T=Yt(r.shape,"float32"),R=1/(c*f*h),_=this.bufferSync(n),M=0;M<o.batchSize;++M)for(var k=0;k<o.inChannels;++k)for(var N=0;N<o.inDepth;++N)for(var I=0;I<o.inHeight;++I)for(var z=0;z<o.inWidth;++z){for(var D=N-S,$=I-E,j=z-A,W=0,B=0;B<y;B+=p){var H=(D+B)/a;if(!(H<0||H>=o.outDepth||Math.floor(H)!==H))for(var q=0;q<x;q+=v){var X=($+q)/s;if(!(X<0||X>=o.outHeight||Math.floor(X)!==X))for(var F=0;F<w;F+=g){var Q=(j+F)/u;Q<0||Q>=o.outWidth||Math.floor(Q)!==Q||(W+=_.get(M,H,X,Q,k))}}}T.set(W*R,M,N,I,z,k)}return T.toTensor()},e.prototype.maxPool3d=function(n,r){return gt(n,"maxPool3d"),this.pool3d(n,r,"max").toFloat()},e.prototype.maxPool3dPositions=function(n,r){for(var o=Yt(r.outShape,"int32"),a=r.strideDepth,s=r.strideHeight,u=r.strideWidth,c=r.dilationDepth,f=r.dilationHeight,h=r.dilationWidth,p=r.effectiveFilterDepth,v=r.effectiveFilterHeight,g=r.effectiveFilterWidth,y=r.padInfo.front,x=r.padInfo.top,w=r.padInfo.left,S=this.bufferSync(n),A=0;A<r.batchSize;++A)for(var E=0;E<r.inChannels;++E)for(var T=0;T<r.outDepth;++T){for(var R=T*a-y,_=R;_<0;)_+=c;for(var M=Math.min(r.inDepth,p+R),k=0;k<r.outHeight;++k){for(var N=k*s-x,I=N;I<0;)I+=f;for(var z=Math.min(r.inHeight,v+N),D=0;D<r.outWidth;++D){for(var $=D*u-w,j=$;j<0;)j+=h;for(var W=Math.min(r.inWidth,g+$),B=Number.NEGATIVE_INFINITY,H=-1,q=_;q<M;q+=c)for(var X=q-R,F=I;F<z;F+=f)for(var Q=F-N,et=j;et<W;et+=h){var nt=et-$,lt=S.get(A,q,F,et,E);lt>=B&&(B=lt,H=X*v*g+Q*v+nt)}o.set(H,A,T,k,D,E)}}}return o.toTensor()},e.prototype.maxPool3dBackprop=function(n,r,o,a){gt([r,o],"maxPool3dBackprop");for(var s=this.maxPool3dPositions(r,a),u=a.strideDepth,c=a.strideHeight,f=a.strideWidth,h=a.dilationDepth,p=a.dilationHeight,v=a.dilationWidth,g=a.effectiveFilterDepth,y=a.effectiveFilterHeight,x=a.effectiveFilterWidth,w=g-1-a.padInfo.front,S=x-1-a.padInfo.left,A=y-1-a.padInfo.top,E=Yt(r.shape,"float32"),T=this.bufferSync(s),R=this.bufferSync(n),_=0;_<a.batchSize;++_)for(var M=0;M<a.inChannels;++M)for(var k=0;k<a.inDepth;++k)for(var N=0;N<a.inHeight;++N)for(var I=0;I<a.inWidth;++I){for(var z=k-w,D=N-A,$=I-S,j=0,W=0;W<g;W+=h){var B=(z+W)/u;if(!(B<0||B>=a.outDepth||Math.floor(B)!==B))for(var H=0;H<y;H+=p){var q=(D+H)/c;if(!(q<0||q>=a.outHeight||Math.floor(q)!==q))for(var X=0;X<x;X+=v){var F=($+X)/f;if(!(F<0||F>=a.outWidth||Math.floor(F)!==F)){var Q=g*y*x-1-T.get(_,B,q,F,M)===W*y*x+H*x+X?1:0;Q!==0&&(j+=R.get(_,B,q,F,M)*Q)}}}}E.set(j,_,k,N,I,M)}return E.toTensor()},e.prototype.cast=function(n,r){return lD(n,r,this)},e.prototype.reshape=function(n,r){return l0(n,r)},e.prototype.avgPool=function(n,r){return gt(n,"avgPool"),this.pool(n,r,"avg").toFloat()},e.prototype.resizeBilinear=function(n,r,o,a){gt(n,"resizeBilinear");for(var s=n.shape,u=s[0],c=s[1],f=s[2],h=s[3],p=this.readSync(n.dataId),v=new Float32Array(Ot([u,r,o,h])),g=[a&&r>1?c-1:c,a&&o>1?f-1:f],y=[a&&r>1?r-1:r,a&&o>1?o-1:o],x=0,w=g[0]/y[0],S=g[1]/y[1],A=0;A<u;A++)for(var E=0;E<r;E++)for(var T=w*E,R=Math.floor(T),_=T-R,M=Math.min(c-1,Math.ceil(T)),k=A*n.strides[0]+R*n.strides[1],N=A*n.strides[0]+M*n.strides[1],I=0;I<o;I++)for(var z=S*I,D=Math.floor(z),$=z-D,j=Math.min(f-1,Math.ceil(z)),W=k+D*n.strides[2],B=N+D*n.strides[2],H=k+j*n.strides[2],q=N+j*n.strides[2],X=0;X<h;X++){var F=p[W+X],Q=p[B+X],et=F+(p[H+X]-F)*$,nt=et+(Q+(p[q+X]-Q)*$-et)*_;v[x++]=nt}return Un(v,[u,r,o,h])},e.prototype.resizeBilinearBackprop=function(n,r,o){gt([n,r],"resizeBilinearBackprop");for(var a=r.shape,s=a[0],u=a[1],c=a[2],f=a[3],h=n.shape,p=h[1],v=h[2],g=new Float32Array(s*u*c*f),y=[o&&p>1?u-1:u,o&&v>1?c-1:c],x=[o&&p>1?p-1:p,o&&v>1?v-1:v],w=y[0]/x[0],S=y[1]/x[1],A=this.readSync(n.dataId),E=0,T=0;T<s;T++)for(var R=T*r.strides[0],_=0;_<p;_++)for(var M=_*w,k=Math.floor(M),N=Math.min(Math.ceil(M),u-1),I=R+k*r.strides[1],z=R+N*r.strides[1],D=M-k,$=1-D,j=0;j<v;j++)for(var W=j*S,B=Math.floor(W),H=Math.min(Math.ceil(W),c-1),q=W-B,X=1-q,F=I+B*r.strides[2],Q=I+H*r.strides[2],et=z+B*r.strides[2],nt=z+H*r.strides[2],lt=$*X,pt=$*q,vt=D*X,bt=D*q,yt=0;yt<f;yt++){var wt=A[E++];g[F+yt]+=wt*lt,g[Q+yt]+=wt*pt,g[et+yt]+=wt*vt,g[nt+yt]+=wt*bt}return fr(g,[s,c,u,f],r.dtype)},e.prototype.resizeNearestNeighbor=function(n,r,o,a){gt(n,"resizeNearestNeighbor");for(var s=n.shape,u=s[0],c=s[1],f=s[2],h=s[3],p=this.readSync(n.dataId),v=new Float32Array(u*r*o*h),g=[a&&r>1?c-1:c,a&&o>1?f-1:f],y=[a&&r>1?r-1:r,a&&o>1?o-1:o],x=g[0]/y[0],w=g[1]/y[1],S=0,A=0;A<u;A++)for(var E=A*n.strides[0],T=0;T<r;T++)for(var R=x*T,_=E+Math.min(c-1,a?Math.round(R):Math.floor(R))*n.strides[1],M=0;M<o;M++)for(var k=w*M,N=_+Math.min(f-1,a?Math.round(k):Math.floor(k))*n.strides[2],I=0;I<h;I++){var z=p[N+I];v[S++]=z}return Un(v,[u,r,o,h],n.dtype)},e.prototype.resizeNearestNeighborBackprop=function(n,r,o){gt([n,r],"resizeNearestNeighborBackprop");for(var a=r.shape,s=a[0],u=a[1],c=a[2],f=a[3],h=n.shape,p=h[1],v=h[2],g=new Float32Array(s*u*c*f),y=this.readSync(n.dataId),x=[o&&p>1?u-1:u,o&&v>1?c-1:c],w=[o&&p>1?p-1:p,o&&v>1?v-1:v],S=x[0]/w[0],A=x[1]/w[1],E=1/S,T=1/A,R=2*Math.ceil(E)+2,_=2*Math.ceil(T)+2,M=0;M<s;M++)for(var k=M*r.strides[0],N=0;N<u;N++)for(var I=k+N*r.strides[1],z=Math.floor(N*E),D=Math.floor(z-R/2),$=0;$<c;$++)for(var j=I+$*r.strides[2],W=Math.floor($*T),B=Math.floor(W-_/2),H=0;H<f;H++){for(var q=0,X=0;X<R;X++){var F=X+D;if(!(F<0||F>=p)){var Q=k+F*n.strides[1],et=F*S;if(N===Math.min(u-1,o?Math.round(et):Math.floor(et)))for(var nt=0;nt<_;nt++){var lt=nt+B;if(!(lt<0||lt>=v)){var pt=Q+lt*n.strides[2],vt=lt*A;$===Math.min(c-1,o?Math.round(vt):Math.floor(vt))&&(q+=y[pt+H])}}}}g[j+H]=q}return fr(g,r.shape,r.dtype)},e.prototype.batchNormalization=function(n,r,o,a,s,u){gt([n,r,o,s,u],"batchNorm");for(var c=this.readSync(n.dataId),f=this.readSync(r.dataId),h=this.readSync(o.dataId),p=s?this.readSync(s.dataId):new Float32Array([1]),v=u?this.readSync(u.dataId):new Float32Array([0]),g=new Float32Array(c.length),y=v.length,x=p.length,w=h.length,S=f.length,A=0,E=0,T=0,R=0,_=0;_<c.length;++_)g[_]=v[A++]+(c[_]-f[E++])*p[T++]/Math.sqrt(h[R++]+a),A>=y&&(A=0),E>=S&&(E=0),T>=x&&(T=0),R>=w&&(R=0);return fr(g,n.shape)},e.prototype.localResponseNormalization4D=function(n,r,o,a,s){gt(n,"localResponseNormalization4D");var u=n.shape[3],c=u-1,f=this.readSync(n.dataId),h=n.size,p=new Float32Array(h);function v(w){for(var S=w%u,A=w-S+Math.max(0,S-r),E=w-S+Math.min(S+r,c),T=0;A<=E;A++){var R=f[A];T+=R*R}return T}for(var g=0;g<h;g++){var y=v(g),x=f[g]*Math.pow(o+a*y,-s);p[g]=x}return fr(p,n.shape)},e.prototype.LRNGrad=function(n,r,o,a,s,u,c){gt(n,"LRNGrad");for(var f=n.shape[3],h=this.readSync(n.dataId),p=this.readSync(r.dataId),v=this.readSync(o.dataId),g=new Float32Array(n.size),y=n.size,x=0;x<y;x++){for(var w=x%f,S=x-w+Math.max(0,w-a),A=x-w+Math.min(f,w+a+1),E=0,T=S;T<A;T++)E+=Math.pow(p[T],2);for(E=u*E+s,T=S;T<A;T++){var R=-2*u*c*p[T]*v[x]/E;x===T&&(R+=Math.pow(E,-c)),R*=h[x],g[T]+=R}}return fr(g,n.shape)},e.prototype.multinomial=function(n,r,o,a){gt(n,"multinomial");for(var s=r?n:Pa(n),u=s.shape[0],c=s.shape[1],f=We([u,o],"int32"),h=this.readSync(f.dataId),p=this.readSync(s.dataId),v=0;v<u;++v){var g=v*c,y=new Float32Array(c-1);y[0]=p[g];for(var x=1;x<y.length;++x)y[x]=y[x-1]+p[g+x];for(var w=jp(a.toString()),S=v*o,A=0;A<o;++A){var E=w();h[S+A]=y.length;for(var T=0;T<y.length;T++)if(E<y[T]){h[S+A]=T;break}}}return f},e.prototype.oneHot=function(n,r,o,a){gt(n,"oneHot");var s=new Float32Array(n.size*r);s.fill(a);for(var u=this.readSync(n.dataId),c=0;c<n.size;++c)u[c]>=0&&u[c]<r&&(s[c*r+u[c]]=o);return vi(s,[n.size,r],"int32")},e.prototype.nonMaxSuppression=function(n,r,o,a,s){return gt(n,"nonMaxSuppression"),Vb(this.readSync(n.dataId),this.readSync(r.dataId),o,a,s)},e.prototype.fft=function(n){return this.fftBatch(n,!1)},e.prototype.ifft=function(n){return this.fftBatch(n,!0)},e.prototype.fftBatch=function(n,r){for(var o=n.shape[0],a=n.shape[1],s=Yt(n.shape,"float32"),u=Yt(n.shape,"float32"),c=Qr(n).as2D(o,a),f=Io(n).as2D(o,a),h=0;h<o;h++)for(var p=c.slice([h,0],[1,a]),v=f.slice([h,0],[1,a]),g=Ln(p,v),y=this.readSync(this.fftImpl(g,r).dataId),x=0;x<a;x++){var w=qE(y,x);s.values[h*a+x]=w.real,u.values[h*a+x]=w.imag}return Ln(s.toTensor(),u.toTensor()).as2D(o,a)},e.prototype.fftImpl=function(n,r){var o=n.as1D(),a=o.size;if(this.isExponentOf2(a)){var s=this.fftRadix2(o,a,r).as2D(n.shape[0],n.shape[1]);return r&&(s=Ln(Qr(s).div(Ct(a)),Io(s).div(Ct(a)))),s}var u=this.readSync(n.dataId),c=function(f){for(var h=new Float32Array(f.length/2),p=new Float32Array(f.length/2),v=0;v<f.length;v+=2)h[v/2]=f[v],p[v/2]=f[v+1];return{real:h,imag:p}}(this.fourierTransformByMatmul(u,a,r));return Ln(c.real,c.imag).as2D(n.shape[0],n.shape[1])},e.prototype.isExponentOf2=function(n){return(n&n-1)==0},e.prototype.fftRadix2=function(n,r,o){if(r===1)return n;var a=this.readSync(n.dataId),s=r/2,u=function(S){for(var A=Math.ceil(S.length/4),E=new Float32Array(A),T=new Float32Array(A),R=0;R<S.length;R+=4)E[Math.floor(R/4)]=S[R],T[Math.floor(R/4)]=S[R+1];return{real:E,imag:T}}(a),c=Ln(u.real,u.imag).as1D(),f=function(S){for(var A=Math.floor(S.length/4),E=new Float32Array(A),T=new Float32Array(A),R=2;R<S.length;R+=4)E[Math.floor(R/4)]=S[R],T[Math.floor(R/4)]=S[R+1];return{real:E,imag:T}}(a),h=Ln(f.real,f.imag).as1D();c=this.fftRadix2(c,s,o),h=this.fftRadix2(h,s,o);var p=function(S,A){for(var E=new Float32Array(S/2),T=new Float32Array(S/2),R=0;R<Math.ceil(S/2);R++){var _=(A?2:-2)*Math.PI*(R/S);E[R]=Math.cos(_),T[R]=Math.sin(_)}return{real:E,imag:T}}(r,o),v=Ln(p.real,p.imag).mul(h),g=c.add(v),y=c.sub(v),x=Qr(g).concat(Qr(y)),w=Io(g).concat(Io(y));return Ln(x,w).as1D()},e.prototype.fourierTransformByMatmul=function(n,r,o){for(var a=new Float32Array(2*r),s=0;s<r;s++){for(var u=0,c=0,f=0;f<r;f++){var h=Qj(s*f,r,o),p=qE(n,f);u+=p.real*h.real-p.imag*h.imag,c+=p.real*h.imag+p.imag*h.real}o&&(u/=r,c/=r),Yj(a,u,c,s)}return a},e.prototype.depthToSpace=function(n,r,o){G(o==="NHWC",function(){return"Only NHWC dataFormat supported on CPU for depthToSpace. Got "+o}),G(r>1,function(){return"blockSize should be > 1 for depthToSpace, but was: "+r});for(var a=n.shape[0],s=n.shape[1],u=n.shape[2],c=n.shape[3],f=s*r,h=u*r,p=c/(r*r),v=this.readSync(n.dataId),g=new Float32Array(a*f*h*p),y=0,x=0;x<a;++x)for(var w=0;w<f;++w)for(var S=Math.floor(w/r),A=w%r,E=0;E<h;++E)for(var T=Math.floor(E/r),R=(A*r+E%r)*p,_=0;_<p;++_){var M=_+R+c*(T+u*(S+s*x));g[y++]=v[M]}return fr(g,[a,f,h,p])},e.prototype.broadcastedBinaryOp=function(n,r,o,a){var s=ce(n.shape,r.shape),u=Yt(s,o),c=this.readSync(n.dataId),f=this.readSync(r.dataId),h=hi(n.shape,s),p=hi(r.shape,s),v=u.values;if(h.length+p.length===0)for(var g=0;g<v.length;++g)v[g]=a(c[g%c.length],f[g%f.length]);else{var y=this.bufferSync(n),x=this.bufferSync(r),w=function(S){var A=u.indexToLoc(S),E=A.slice(-n.rank);h.forEach(function(M){return E[M]=0});var T=y.locToIndex(E),R=A.slice(-r.rank);p.forEach(function(M){return R[M]=0});var _=x.locToIndex(R);v[S]=a(c[T],f[_])};for(g=0;g<v.length;++g)w(g)}return u.toTensor()},e.prototype.broadcastedBinaryComplexOp=function(n,r,o){var a=ce(n.shape,r.shape),s=Yt(a,"float32"),u=Yt(a,"float32"),c=this.readSync(n.dataId),f=this.readSync(r.dataId),h=hi(n.shape,a),p=hi(r.shape,a),v=s.values,g=u.values;if(h.length+p.length===0)for(var y=0;y<v.length;y++){var x=y%c.length,w=y%f.length,S=o(c[2*x],c[2*x+1],f[2*w],f[2*w+1]);v[y]=S.real,g[y]=S.imag}else{var A=this.bufferSync(this.data.get(n.dataId).complexTensors.real),E=this.bufferSync(this.data.get(r.dataId).complexTensors.real),T=function(R){var _=s.indexToLoc(R),M=_.slice(-n.rank);h.forEach(function(D){return M[D]=0});var k=A.locToIndex(M),N=_.slice(-r.rank);p.forEach(function(D){return N[D]=0});var I=E.locToIndex(N),z=o(c[2*k],c[2*k+1],f[2*I],f[2*I+1]);v[R]=z.real,g[R]=z.imag};for(y=0;y<v.length;y++)T(y)}return this.complex(s.toTensor(),u.toTensor())},e.prototype.split=function(n,r,o){return dD(n,r,o)},e.prototype.dispose=function(){},e.prototype.floatPrecision=function(){return 32},e.prototype.epsilon=function(){return 1e-7},e.prototype.cropAndResize=function(n,r,o,a,s,u){for(var c=n.shape,f=c[0],h=c[1],p=c[2],v=c[3],g=r.shape[0],y=a[0],x=a[1],w=Yt([g,y,x,v],"float32"),S=this.readSync(r.dataId),A=this.readSync(o.dataId),E=this.readSync(n.dataId),T=n.strides,R=w.strides,_=0;_<g;_++){var M=4*_,k=S[M],N=S[M+1],I=S[M+2],z=S[M+3],D=A[_];if(!(D>=f))for(var $=y>1?(I-k)*(h-1)/(y-1):0,j=x>1?(z-N)*(p-1)/(x-1):0,W=0;W<y;W++){var B=y>1?k*(h-1)+W*$:.5*(k+I)*(h-1);if(B<0||B>h-1)for(var H=0;H<x;H++)for(var q=0;q<v;q++){var X=q+H*R[2]+W*R[1]+_*R[0];w.values[X]=u}else if(s==="bilinear"){var F=Math.floor(B),Q=Math.ceil(B),et=B-F;for(H=0;H<x;H++)if((xt=x>1?N*(p-1)+H*j:.5*(N+z)*(p-1))<0||xt>p-1)for(q=0;q<v;q++)X=q+H*R[2]+W*R[1]+_*R[0],w.values[X]=u;else{var nt=Math.floor(xt),lt=Math.ceil(xt),pt=xt-nt;for(q=0;q<v;q++){var vt=E[X=q+nt*T[2]+F*T[1]+D*T[0]],bt=E[X=q+lt*T[2]+F*T[1]+D*T[0]],yt=E[X=q+nt*T[2]+Q*T[1]+D*T[0]],wt=vt+(bt-vt)*pt,Et=yt+(E[X=q+lt*T[2]+Q*T[1]+D*T[0]]-yt)*pt;X=q+H*R[2]+W*R[1]+_*R[0],w.values[X]=wt+(Et-wt)*et}}}else for(H=0;H<x;++H){var xt;if((xt=x>1?N*(p-1)+H*j:.5*(N+z)*(p-1))<0||xt>p-1)for(q=0;q<v;q++)X=q+H*R[2]+W*R[1]+_*R[0],w.values[X]=u;else{var At=Math.round(xt),Rt=Math.round(B);for(q=0;q<v;q++){var St=q+At*T[2]+Rt*T[1]+D*T[0],zt=q+H*R[2]+W*R[1]+_*R[0];w.values[zt]=E[St]}}}}}return w.toTensor()},e.prototype.sparseToDense=function(n,r,o,a){var s=np(0,n,o),u=s.sliceRank,c=s.numUpdates,f=s.sliceSize,h=s.strides,p=s.outputSize;return this.scatter(n,r,o,p,f,c,u,h,a,!1)},e.prototype.gatherND=function(n,r){var o=r.shape,a=o[o.length-1],s=nD(n,r),u=s[0],c=s[1],f=s[2],h=s[3];if(c===0)return Un([],u,n.dtype);for(var p=new Kc([c,f],n.dtype),v=this.readSync(r.dataId),g=this.readSync(n.dataId),y=0;y<c;y++){for(var x=[],w=0,S=0;S<a;S++){var A=v[y*a+S];w+=A*h[S],x.push(A)}if(w<0||w>=n.size/f)throw new Error("Invalid indices: "+x+" does not index into "+n.shape);for(var E=0;E<f;E++)p.values[y*f+E]=g[w*f+E]}return p.toTensor().reshape(u)},e.prototype.scatterND=function(n,r,o){var a=np(0,n,o),s=a.sliceRank,u=a.numUpdates,c=a.sliceSize,f=a.strides,h=a.outputSize,p=Ct(0);return this.scatter(n,r,o,h,c,u,s,f,p,!0)},e.prototype.fill=function(n,r,o){var a=$h(o=o||xf(r),Ot(n));return a.fill(r),J.makeTensor(a,n,o,this)},e.prototype.onesLike=function(n){if(n.dtype==="string")throw new Error("onesLike is not supported for string tensors");return this.fill(n.shape,1,n.dtype)},e.prototype.zerosLike=function(n){var r=$h(n.dtype,Ot(n.shape));return this.makeOutput(r,n.shape,n.dtype)},e.prototype.linspace=function(n,r,o){return cD(n,r,o)},e.prototype.scatter=function(n,r,o,a,s,u,c,f,h,p){var v=[a/s,s],g=this.readSync(n.dataId),y=this.readSync(r.dataId);if(a===0)return Un([],o,r.dtype);var x=new Kc(v,r.dtype);x.values.fill(this.readSync(h.dataId)[0]);for(var w=0;w<u;w++){for(var S=[],A=0,E=0;E<c;E++){var T=g[w*c+E];S.push(T),A+=T*f[E]}if(A<0||A>=a/s)throw new Error("Invalid indices: "+S+" does not index into "+o);for(var R=0;R<s;R++)p?x.values[A*s+R]+=y[w*s+R]:x.values[A*s+R]=r.rank===0?y[0]:y[w*s+R]}return x.toTensor().reshape(o)},e}(sD);J.registerBackend("cpu",function(){return new g$},1);for(var ry=0,mT=[{kernelName:"NonMaxSuppressionV5",backendName:"cpu",kernelFunc:function(t){var e=t.inputs,n=t.backend,r=t.attrs,o=e,a=o.boxes,s=o.scores,u=r,c=u.maxOutputSize,f=u.iouThreshold,h=u.scoreThreshold,p=u.softNmsSigma,v=n;gt(a,"NonMaxSuppressionWithScore");var g=Ub(v.data.get(a.dataId).values,v.data.get(s.dataId).values,c,f,h,p);return[g.selectedIndices,g.selectedScores]}},{kernelName:"Square",backendName:"cpu",kernelFunc:function(t){var e=t.inputs,n=t.backend,r=e.x,o=n;gt(r,"square");for(var a=o.data.get(r.dataId).values,s=new Float32Array(a.length),u=0;u<a.length;++u){var c=a[u];s[u]=c*c}return{dataId:o.write(s,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},{kernelName:Qc,backendName:"cpu",kernelFunc:function(t){var e=t.inputs,n=t.backend,r=e,o=r.a,a=r.b,s=n;gt([o,a],Qc);var u=s.data.get(o.dataId).values,c=s.data.get(a.dataId).values,f=function(v,g,y,x,w,S){var A=ce(v,g),E=A.length,T=jo(A),R=qc(w,Ot(A)),_=v.length,M=g.length,k=jo(v),N=jo(g),I=hi(v,A),z=hi(g,A);if(I.length+z.length===0)for(var D=0;D<R.length;++D)R[D]=S(y[D%y.length],x[D%x.length]);else{var $=function(j){var W=AU(j,E,T),B=W.slice(-_);I.forEach(function(F){return B[F]=0});var H=LE(B,_,k),q=W.slice(-M);z.forEach(function(F){return q[F]=0});var X=LE(q,M,N);R[j]=S(y[H],x[X])};for(D=0;D<R.length;++D)$(D)}return[R,A]}(o.shape,a.shape,u,c,o.dtype,function(v,g){var y=v-g;return y*y}),h=f[0],p=f[1];return{dataId:s.write(h,p,o.dtype),shape:p,dtype:o.dtype}}}];ry<mT.length;ry++)I_(mT[ry]);var vu,y$=function(t){this.variableNames=["A"];var e=Yn(),n=t[0],r=t[1];this.outputShape=t,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];
        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(`+r+".0, "+n+`.0);

        vec4 values = `+e.texture2D+`(A, uv);
        float value;
        if (depth == 0) {
          value = values.r;
        } else if (depth == 1) {
          value = values.g;
        } else if (depth == 2) {
          value = values.b;
        } else if (depth == 3) {
          value = values.a;
        }

        setOutput(floor(value * 255.0 + 0.5));
      }
    `},b$=function(t){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var e=Yn(),n=t[0],r=t[1];this.outputShape=t,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];

        vec4 result = vec4(0.);

        for(int row=0; row<=1; row++) {
          for(int col=0; col<=1; col++) {
            texC = coords[1] + row;
            depth = coords[2] + col;

            vec2 uv = (vec2(texC, texR) + halfCR) /
                       vec2(`+r+".0, "+n+`.0);
            vec4 values = `+e.texture2D+`(A, uv);
            float value;
            if (depth == 0) {
              value = values.r;
            } else if (depth == 1) {
              value = values.g;
            } else if (depth == 2) {
              value = values.b;
            } else if (depth == 3) {
              value = values.a;
            }

            result[row * 2 + col] = floor(value * 255.0 + 0.5);
          }
        }

        `+e.output+` = result;
      }
    `};for(var oy=0,vT=[{kernelName:"FromPixels",backendName:"webgl",kernelFunc:function(t){var e=t.inputs,n=t.backend,r=t.attrs,o=e.pixels,a=r.numChannels,s=typeof HTMLVideoElement<"u"&&o instanceof HTMLVideoElement,u=typeof HTMLImageElement<"u"&&o instanceof HTMLImageElement,c=s?[o.videoWidth,o.videoHeight]:[o.width,o.height],f=c[0],h=c[1],p=[h,f],v=[h,f,a];(u||s)&&(vu==null&&(vu=document.createElement("canvas").getContext("2d")),vu.canvas.width=f,vu.canvas.height=h,vu.drawImage(o,0,0,f,h),o=vu.canvas);var g=n.makeTensorInfo(p,"int32");n.texData.get(g.dataId).usage=Mr.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(g.dataId),o);var y=ft().getBool("WEBGL_PACK")?new b$(v):new y$(v),x=n.runWebGLProgram(y,[g],"int32");return n.disposeData(g.dataId),x}},{kernelName:"NonMaxSuppressionV5",backendName:"webgl",kernelFunc:function(t){var e=t.inputs,n=t.backend,r=t.attrs;Yh("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var o=e,a=o.boxes,s=o.scores,u=r,c=u.maxOutputSize,f=u.iouThreshold,h=u.scoreThreshold,p=u.softNmsSigma,v=n,g=Ub(v.readSync(a.dataId),v.readSync(s.dataId),c,f,h,p);return[g.selectedIndices,g.selectedScores]}},{kernelName:"Square",backendName:"webgl",kernelFunc:function(t){var e=t.inputs,n=t.backend,r=e.x,o=n,a=new ne(r.shape,"return x * x;");return o.runWebGLProgram(a,[r],r.dtype)}},{kernelName:Qc,backendName:"webgl",kernelFunc:function(t){var e=t.inputs,n=t.backend,r=e,o=r.a,a=r.b,s=n,u=ft().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new wa("return (a - b) * (a - b);",o.shape,a.shape):new rn("return (a - b) * (a - b);",o.shape,a.shape);return s.compileAndRun(u,[o,a])}}];oy<vT.length;oy++)I_(vT[oy]);for(var ay=0,gT=[{kernelName:"Square",gradFunc:function(t,e){var n=e[0];return{x:function(){return t.mul(n.toFloat().mul(2))}}}},{kernelName:Qc,gradFunc:function(t,e){var n=e[0],r=e[1],o=Ct(2);return{a:function(){return Zn(t,Zn(o,En(n,r)))},b:function(){return Zn(t,Zn(o,En(r,n)))}}}}];ay<gT.length;ay++)vU(gT[ay]);var x$=function(){function t(){}return t.prototype.fetch=function(e,n){return fetch(e,n)},t.prototype.now=function(){return performance.now()},t.prototype.encode=function(e,n){if(n!=="utf-8"&&n!=="utf8")throw new Error("Browser's encoder only supports utf-8, but got "+n);return this.textEncoder==null&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)},t.prototype.decode=function(e,n){return new TextDecoder(n).decode(e)},t}();ft().get("IS_BROWSER")&&ft().setPlatform("browser",new x$);var iy,w$=function(){return require("node-fetch")},S$=function(){function t(){this.util=require("util"),this.textEncoder=new this.util.TextEncoder}return t.prototype.fetch=function(e,n){return ft().global.fetch!=null?ft().global.fetch(e,n):(iy==null&&(iy=w$()),iy(e,n))},t.prototype.now=function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6},t.prototype.encode=function(e,n){if(n!=="utf-8"&&n!=="utf8")throw new Error("Node built-in encoder only supports utf-8, but got "+n);return this.textEncoder.encode(e)},t.prototype.decode=function(e,n){return e.length===0?"":new this.util.TextDecoder(n).decode(e)},t}();ft().get("IS_NODE")&&ft().setPlatform("node",new S$);var d0={float32:4,int32:4,uint16:2,uint8:1,bool:1},lp=4;function ok(t,e){for(var n={},r=0,o=function(u){var c=u.name,f=u.dtype,h=u.shape,p=Ot(h),v=void 0;if("quantization"in u){var g=u.quantization;if(g.dtype!=="uint8"&&g.dtype!=="uint16")throw new Error("Weight "+u.name+" has unknown quantization dtype "+g.dtype+". Supported quantization dtypes are: 'uint8' and 'uint16'.");var y=d0[g.dtype],x=t.slice(r,r+p*y),w=g.dtype==="uint8"?new Uint8Array(x):new Uint16Array(x);if(f==="float32")v=Float32Array.from(w,function(_){return _*g.scale+g.min});else{if(f!=="int32")throw new Error("Unsupported dtype in weight '"+c+"': "+f);v=Int32Array.from(w,function(_){return Math.round(_*g.scale+g.min)})}r+=p*y}else if(f==="string"){var S=Ot(u.shape);v=[];for(var A=0;A<S;A++){var E=new Uint32Array(t.slice(r,r+lp))[0];r+=lp;var T=new Uint8Array(t.slice(r,r+E));v.push(T),r+=E}}else{var R=d0[f];if(x=t.slice(r,r+p*R),f==="float32")v=new Float32Array(x);else if(f==="int32")v=new Int32Array(x);else{if(f!=="bool")throw new Error("Unsupported dtype in weight '"+c+"': "+f);v=new Uint8Array(x)}r+=p*R}n[c]=Un(v,h,f)},a=0,s=e;a<s.length;a++)o(s[a]);return n}function C$(t){if(t===null)throw new Error("Invalid input value: "+JSON.stringify(t));var e=0,n=[];t.forEach(function(a){if(e+=a.byteLength,n.push(a.byteLength===a.buffer.byteLength?a:new a.constructor(a)),!(a instanceof Float32Array||a instanceof Int32Array||a instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: "+a.constructor.name)});var r=new Uint8Array(e),o=0;return n.forEach(function(a){r.set(new Uint8Array(a.buffer),o),o+=a.byteLength}),r.buffer}var h0=typeof Buffer<"u"&&(typeof Blob>"u"||typeof atob>"u"||typeof btoa>"u");function yT(t){return h0?Buffer.byteLength(t):new Blob([t]).size}function ix(t){var e=0;t.forEach(function(o){e+=o.byteLength});var n=new Uint8Array(e),r=0;return t.forEach(function(o){n.set(new Uint8Array(o),r),r+=o.byteLength}),n.buffer}function bT(t){for(t=t.trim();t.endsWith("/");)t=t.slice(0,t.length-1);var e=t.split("/");return e[e.length-1]}function Af(t){if(t.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:t.modelTopology==null?0:yT(JSON.stringify(t.modelTopology)),weightSpecsBytes:t.weightSpecs==null?0:yT(JSON.stringify(t.weightSpecs)),weightDataBytes:t.weightData==null?0:t.weightData.byteLength}}var Nr=function(){function t(){this.saveRouters=[],this.loadRouters=[]}return t.getInstance=function(){return t.instance==null&&(t.instance=new t),t.instance},t.registerSaveRouter=function(e){t.getInstance().saveRouters.push(e)},t.registerLoadRouter=function(e){t.getInstance().loadRouters.push(e)},t.getSaveHandlers=function(e){return t.getHandlers(e,"save")},t.getLoadHandlers=function(e,n){return t.getHandlers(e,"load",n)},t.getHandlers=function(e,n,r){var o=[];return(n==="load"?t.getInstance().loadRouters:t.getInstance().saveRouters).forEach(function(a){var s=a(e,r);s!==null&&o.push(s)}),o},t}(),Pu="://",gi=function(){function t(){this.managers={}}return t.getInstance=function(){return t.instance==null&&(t.instance=new t),t.instance},t.registerManager=function(e,n){G(e!=null,function(){return"scheme must not be undefined or null."}),e.endsWith(Pu)&&(e=e.slice(0,e.indexOf(Pu))),G(e.length>0,function(){return"scheme must not be an empty string."});var r=t.getInstance();G(r.managers[e]==null,function(){return"A model store manager is already registered for scheme '"+e+"'."}),r.managers[e]=n},t.getManager=function(e){var n=this.getInstance().managers[e];if(n==null)throw new Error("Cannot find model manager for scheme '"+e+"'");return n},t.getSchemes=function(){return Object.keys(this.getInstance().managers)},t}();function Ch(t){if(t.indexOf(Pu)===-1)throw new Error("The url string provided does not contain a scheme. Supported schemes are: "+gi.getSchemes().join(","));return{scheme:t.split(Pu)[0],path:t.split(Pu)[1]}}function xT(t,e,n){return n===void 0&&(n=!1),Mt(this,void 0,void 0,function(){var r,o,a,s,u,c,f,h,p;return Nt(this,function(v){switch(v.label){case 0:return G(t!==e,function(){return"Old path and new path are the same: '"+t+"'"}),G((r=Nr.getLoadHandlers(t)).length>0,function(){return"Copying failed because no load handler is found for source URL "+t+"."}),G(r.length<2,function(){return"Copying failed because more than one ("+r.length+") load handlers for source URL "+t+"."}),o=r[0],G((a=Nr.getSaveHandlers(e)).length>0,function(){return"Copying failed because no save handler is found for destination URL "+e+"."}),G(a.length<2,function(){return"Copying failed because more than one ("+r.length+") save handlers for destination URL "+e+"."}),s=a[0],u=Ch(t).scheme,c=Ch(t).path,f=u===Ch(t).scheme,[4,o.load()];case 1:return h=v.sent(),n&&f?[4,gi.getManager(u).removeModel(c)]:[3,3];case 2:v.sent(),v.label=3;case 3:return[4,s.save(h)];case 4:return p=v.sent(),!n||f?[3,6]:[4,gi.getManager(u).removeModel(c)];case 5:v.sent(),v.label=6;case 6:return[2,p.modelArtifactsInfo]}})})}var ss="models_store",pi="model_info_store";function ak(){if(!ft().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");var t=window||self,e=t.indexedDB||t.mozIndexedDB||t.webkitIndexedDB||t.msIndexedDB||t.shimIndexedDB;if(e==null)throw new Error("The current browser does not appear to support IndexedDB.");return e}function p0(t){var e=t.result;e.createObjectStore(ss,{keyPath:"modelPath"}),e.createObjectStore(pi,{keyPath:"modelPath"})}var Iu=function(){function t(e){if(this.indexedDB=ak(),e==null||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}return t.prototype.save=function(e){return Mt(this,void 0,void 0,function(){return Nt(this,function(n){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return[2,this.databaseAction(this.modelPath,e)]})})},t.prototype.load=function(){return Mt(this,void 0,void 0,function(){return Nt(this,function(e){return[2,this.databaseAction(this.modelPath)]})})},t.prototype.databaseAction=function(e,n){var r=this;return new Promise(function(o,a){var s=r.indexedDB.open("tensorflowjs",1);s.onupgradeneeded=function(){return p0(s)},s.onsuccess=function(){var u=s.result;if(n==null){var c=u.transaction(ss,"readonly"),f=c.objectStore(ss).get(r.modelPath);f.onsuccess=function(){if(f.result==null)return u.close(),a(new Error("Cannot find model with path '"+r.modelPath+"' in IndexedDB."));o(f.result.modelArtifacts)},f.onerror=function(x){return u.close(),a(f.error)},c.oncomplete=function(){return u.close()}}else{var h,p=Af(n),v=u.transaction(pi,"readwrite"),g=v.objectStore(pi),y=g.put({modelPath:r.modelPath,modelArtifactsInfo:p});y.onsuccess=function(){var x=(h=u.transaction(ss,"readwrite")).objectStore(ss).put({modelPath:r.modelPath,modelArtifacts:n,modelArtifactsInfo:p});x.onsuccess=function(){return o({modelArtifactsInfo:p})},x.onerror=function(w){var S=(g=v.objectStore(pi)).delete(r.modelPath);S.onsuccess=function(){return u.close(),a(x.error)},S.onerror=function(A){return u.close(),a(x.error)}}},y.onerror=function(x){return u.close(),a(y.error)},v.oncomplete=function(){h==null?u.close():h.oncomplete=function(){return u.close()}}}},s.onerror=function(u){return a(s.error)}})},t.URL_SCHEME="indexeddb://",t}(),wT=function(t){return ft().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(Iu.URL_SCHEME)?(e=t.slice(Iu.URL_SCHEME.length),new Iu(e)):null;var e};Nr.registerSaveRouter(wT),Nr.registerLoadRouter(wT);var E$=function(){function t(){this.indexedDB=ak()}return t.prototype.listModels=function(){return Mt(this,void 0,void 0,function(){var e=this;return Nt(this,function(n){return[2,new Promise(function(r,o){var a=e.indexedDB.open("tensorflowjs",1);a.onupgradeneeded=function(){return p0(a)},a.onsuccess=function(){var s=a.result,u=s.transaction(pi,"readonly"),c=u.objectStore(pi).getAll();c.onsuccess=function(){for(var f={},h=0,p=c.result;h<p.length;h++){var v=p[h];f[v.modelPath]=v.modelArtifactsInfo}r(f)},c.onerror=function(f){return s.close(),o(c.error)},u.oncomplete=function(){return s.close()}},a.onerror=function(s){return o(a.error)}})]})})},t.prototype.removeModel=function(e){return Mt(this,void 0,void 0,function(){var n=this;return Nt(this,function(r){var o;return e=(o=e).startsWith(Iu.URL_SCHEME)?o.slice(Iu.URL_SCHEME.length):o,[2,new Promise(function(a,s){var u=n.indexedDB.open("tensorflowjs",1);u.onupgradeneeded=function(){return p0(u)},u.onsuccess=function(){var c,f=u.result,h=f.transaction(pi,"readwrite"),p=h.objectStore(pi),v=p.get(e);v.onsuccess=function(){if(v.result==null)return f.close(),s(new Error("Cannot find model with path '"+e+"' in IndexedDB."));var g=p.delete(e),y=function(){var x=(c=f.transaction(ss,"readwrite")).objectStore(ss).delete(e);x.onsuccess=function(){return a(v.result.modelArtifactsInfo)},x.onerror=function(w){return s(v.error)}};g.onsuccess=y,g.onerror=function(x){return y(),f.close(),s(v.error)}},v.onerror=function(g){return f.close(),s(v.error)},h.oncomplete=function(){c==null?f.close():c.oncomplete=function(){return f.close()}}},u.onerror=function(c){return s(u.error)}})]})})},t}();if(ft().getBool("IS_BROWSER"))try{gi.registerManager(Iu.URL_SCHEME,new E$)}catch{}var Sa="/",Cu="tensorflowjs_models",ik="info",T$="model_topology",R$="weight_specs",A$="weight_data",_$="model_metadata";function sk(t){return{info:[Cu,t,ik].join(Sa),topology:[Cu,t,T$].join(Sa),weightSpecs:[Cu,t,R$].join(Sa),weightData:[Cu,t,A$].join(Sa),modelMetadata:[Cu,t,_$].join(Sa)}}function D$(t){var e=t.split(Sa);if(e.length<3)throw new Error("Invalid key format: "+t);return e.slice(1,e.length-1).join(Sa)}var Bu=function(){function t(e){if(!ft().getBool("IS_BROWSER")||typeof window>"u"||window.localStorage===void 0)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,e==null||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=sk(this.modelPath)}return t.prototype.save=function(e){return Mt(this,void 0,void 0,function(){var n,r,o;return Nt(this,function(a){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");n=JSON.stringify(e.modelTopology),r=JSON.stringify(e.weightSpecs),o=Af(e);try{return this.LS.setItem(this.keys.info,JSON.stringify(o)),this.LS.setItem(this.keys.topology,n),this.LS.setItem(this.keys.weightSpecs,r),this.LS.setItem(this.keys.weightData,function(s){if(h0)return Buffer.from(s).toString("base64");for(var u=new Uint8Array(s),c="",f=0,h=u.length;f<h;f++)c+=String.fromCharCode(u[f]);return btoa(c)}(e.weightData)),this.LS.setItem(this.keys.modelMetadata,JSON.stringify({format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,userDefinedMetadata:e.userDefinedMetadata})),[2,{modelArtifactsInfo:o}]}catch{throw this.LS.removeItem(this.keys.info),this.LS.removeItem(this.keys.topology),this.LS.removeItem(this.keys.weightSpecs),this.LS.removeItem(this.keys.weightData),this.LS.removeItem(this.keys.modelMetadata),new Error("Failed to save model '"+this.modelPath+"' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes="+o.modelTopologyBytes+", weightSpecsBytes="+o.weightSpecsBytes+", weightDataBytes="+o.weightDataBytes+".")}return[2]})})},t.prototype.load=function(){return Mt(this,void 0,void 0,function(){var e,n,r,o,a,s,u;return Nt(this,function(c){if((e=JSON.parse(this.LS.getItem(this.keys.info)))==null)throw new Error("In local storage, there is no model with name '"+this.modelPath+"'");if(e.modelTopologyType!=="JSON")throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");if(n={},(r=JSON.parse(this.LS.getItem(this.keys.topology)))==null)throw new Error("In local storage, the topology of model '"+this.modelPath+"' is missing.");if(n.modelTopology=r,(o=JSON.parse(this.LS.getItem(this.keys.weightSpecs)))==null)throw new Error("In local storage, the weight specs of model '"+this.modelPath+"' are missing.");if(n.weightSpecs=o,(a=this.LS.getItem(this.keys.modelMetadata))!=null&&(s=JSON.parse(a),n.format=s.format,n.generatedBy=s.generatedBy,n.convertedBy=s.convertedBy,n.userDefinedMetadata=s.userDefinedMetadata),(u=this.LS.getItem(this.keys.weightData))==null)throw new Error("In local storage, the binary weight values of model '"+this.modelPath+"' are missing.");return n.weightData=function(f){if(h0){var h=Buffer.from(f,"base64");return h.buffer.slice(h.byteOffset,h.byteOffset+h.byteLength)}for(var p=atob(f),v=new Uint8Array(p.length),g=0;g<p.length;++g)v.set([p.charCodeAt(g)],g);return v.buffer}(u),[2,n]})})},t.URL_SCHEME="localstorage://",t}(),ST=function(t){return ft().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(Bu.URL_SCHEME)?(e=t.slice(Bu.URL_SCHEME.length),new Bu(e)):null;var e};Nr.registerSaveRouter(ST),Nr.registerLoadRouter(ST);var k$=function(){function t(){G(ft().getBool("IS_BROWSER"),function(){return"Current environment is not a web browser"}),G(typeof window>"u"||window.localStorage!==void 0,function(){return"Current browser does not appear to support localStorage"}),this.LS=window.localStorage}return t.prototype.listModels=function(){return Mt(this,void 0,void 0,function(){var e,n,r,o,a,s;return Nt(this,function(u){for(e={},n=Cu+Sa,r=Sa+ik,o=0;o<this.LS.length;++o)(a=this.LS.key(o)).startsWith(n)&&a.endsWith(r)&&(s=D$(a),e[s]=JSON.parse(this.LS.getItem(a)));return[2,e]})})},t.prototype.removeModel=function(e){return Mt(this,void 0,void 0,function(){var n,r;return Nt(this,function(o){var a;if(e=(a=e).startsWith(Bu.URL_SCHEME)?a.slice(Bu.URL_SCHEME.length):a,n=sk(e),this.LS.getItem(n.info)==null)throw new Error("Cannot find model at path '"+e+"'");return r=JSON.parse(this.LS.getItem(n.info)),this.LS.removeItem(n.info),this.LS.removeItem(n.topology),this.LS.removeItem(n.weightSpecs),this.LS.removeItem(n.weightData),[2,r]})})},t}();if(ft().getBool("IS_BROWSER"))try{gi.registerManager(Bu.URL_SCHEME,new k$)}catch{}var M$="model",N$=".json",O$=".weights.bin";function CT(t){return new Promise(function(e){return setTimeout(e)}).then(t)}var sy=function(){function t(e){if(!ft().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(t.URL_SCHEME)&&(e=e.slice(t.URL_SCHEME.length)),e!=null&&e.length!==0||(e=M$),this.modelTopologyFileName=e+N$,this.weightDataFileName=e+O$}return t.prototype.save=function(e){return Mt(this,void 0,void 0,function(){var n,r,o,a,s,u;return Nt(this,function(c){switch(c.label){case 0:if(typeof document>"u")throw new Error("Browser downloads are not supported in this environment since `document` is not present");if(n=window.URL.createObjectURL(new Blob([e.weightData],{type:"application/octet-stream"})),!(e.modelTopology instanceof ArrayBuffer))return[3,1];throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");case 1:return r=[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}],o={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:r},a=window.URL.createObjectURL(new Blob([JSON.stringify(o)],{type:"application/json"})),(s=this.jsonAnchor==null?document.createElement("a"):this.jsonAnchor).download=this.modelTopologyFileName,s.href=a,[4,CT(function(){return s.dispatchEvent(new MouseEvent("click"))})];case 2:return c.sent(),e.weightData==null?[3,4]:((u=this.weightDataAnchor==null?document.createElement("a"):this.weightDataAnchor).download=this.weightDataFileName,u.href=n,[4,CT(function(){return u.dispatchEvent(new MouseEvent("click"))})]);case 3:c.sent(),c.label=4;case 4:return[2,{modelArtifactsInfo:Af(e)}]}})})},t.URL_SCHEME="downloads://",t}(),P$=function(){function t(e){if(e==null||e.length<1)throw new Error("When calling browserFiles, at least 1 file is required, but received "+e);this.files=e}return t.prototype.load=function(){return Mt(this,void 0,void 0,function(){var e,n,r=this;return Nt(this,function(o){return e=this.files[0],n=this.files.slice(1),[2,new Promise(function(a,s){var u=new FileReader;u.onload=function(c){var f=JSON.parse(c.target.result),h=f.modelTopology;if(h!=null){n.length===0&&a({modelTopology:h});var p=f.weightsManifest;if(p!=null){var v;try{v=r.checkManifestAndWeightFiles(p,n)}catch(w){return void s(w)}var g=[],y=[],x=[];p.forEach(function(w){w.paths.forEach(function(S){y.push(S),x.push(null)}),g.push.apply(g,w.weights)}),p.forEach(function(w){w.paths.forEach(function(S){var A=new FileReader;A.onload=function(E){var T=E.target.result,R=y.indexOf(S);x[R]=T,x.indexOf(null)===-1&&a({modelTopology:h,weightSpecs:g,weightData:ix(x),format:f.format,generatedBy:f.generatedBy,convertedBy:f.convertedBy,userDefinedMetadata:f.userDefinedMetadata})},A.onerror=function(E){return s("Failed to weights data from file of path '"+S+"'.")},A.readAsArrayBuffer(v[S])})})}else s(new Error("weightManifest field is missing from file "+e.name))}else s(new Error("modelTopology field is missing from file "+e.name))},u.onerror=function(c){return s("Failed to read model topology and weights manifest JSON from file '"+e.name+"'. BrowserFiles supports loading Keras-style tf.Model artifacts only.")},u.readAsText(e)})]})})},t.prototype.checkManifestAndWeightFiles=function(e,n){for(var r=[],o=n.map(function(c){return bT(c.name)}),a={},s=0,u=e;s<u.length;s++)u[s].paths.forEach(function(c){var f=bT(c);if(r.indexOf(f)!==-1)throw new Error("Duplicate file basename found in weights manifest: '"+f+"'");if(r.push(f),o.indexOf(f)===-1)throw new Error("Weight file with basename '"+f+"' is not provided.");a[c]=n[o.indexOf(f)]});if(r.length!==n.length)throw new Error("Mismatch in the number of files in weights manifest ("+r.length+") and the number of weight files provided ("+n.length+").");return a},t}();function ET(t,e,n,r){(function(a){G(a!=null&&Array.isArray(a)&&a.length>0,function(){return"promises must be a none empty array"})})(t),function(a,s){G(a>=0&&a<=1,function(){return"Progress fraction must be in range [0, 1], but got startFraction "+a}),G(s>=0&&s<=1,function(){return"Progress fraction must be in range [0, 1], but got endFraction "+s}),G(s>=a,function(){return"startFraction must be no more than endFraction, but got startFraction "+a+" and endFraction "+s})}(n=n??0,r=r??1);var o=0;return Promise.all(t.map(function(a){return a.then(function(s){var u=n+ ++o/t.length*(r-n);return e(u),s}),a}))}function uk(t,e){return Mt(this,void 0,void 0,function(){var n,r,o,a,s,u,c,f,h;return Nt(this,function(p){switch(p.label){case 0:return e==null&&(e={}),n=e.fetchFunc==null?ft().platform.fetch:e.fetchFunc,r=t.map(function(v){return n(v,e.requestInit,{isBinary:!0})}),o=0,a=.5,e.onProgress!=null?[3,2]:[4,Promise.all(r)];case 1:return s=p.sent(),[3,4];case 2:return[4,ET(r,e.onProgress,o,a)];case 3:s=p.sent(),p.label=4;case 4:return u=s.map(function(v){return v.arrayBuffer()}),c=.5,f=1,e.onProgress!=null?[3,6]:[4,Promise.all(u)];case 5:return h=p.sent(),[3,8];case 6:return[4,ET(u,e.onProgress,c,f)];case 7:h=p.sent(),p.label=8;case 8:return[2,h]}})})}function TT(t){var e=this;return function(n,r,o){return r===void 0&&(r=""),Mt(e,void 0,void 0,function(){var a,s,u,c,f,h,p,v,g,y;return Nt(this,function(x){switch(x.label){case 0:if(a=n.map(function(){return!1}),s={},u=o!=null?o.map(function(){return!1}):[],c=[],n.forEach(function(w,S){var A=0;w.weights.forEach(function(E){var T="quantization"in E?E.quantization.dtype:E.dtype,R=d0[T]*Ot(E.shape),_=function(){a[S]=!0,s[S]==null&&(s[S]=[]),s[S].push({manifestEntry:E,groupOffset:A,sizeBytes:R})};o!=null?o.forEach(function(M,k){M===E.name&&(_(),u[k]=!0)}):_(),c.push(E.name),A+=R})}),!u.every(function(w){return w}))throw f=o.filter(function(w,S){return!u[S]}),new Error("Could not find weights in manifest with names: "+f.join(", ")+`. 
Manifest JSON has weights with names: `+c.join(", ")+".");return h=a.reduce(function(w,S,A){return S&&w.push(A),w},[]),p=[],h.forEach(function(w){n[w].paths.forEach(function(S){var A=r+(r.endsWith("/")?"":"/")+S;p.push(A)})}),[4,t(p)];case 1:return v=x.sent(),g={},y=0,h.forEach(function(w){for(var S=n[w].paths.length,A=0,E=0;E<S;E++)A+=v[y+E].byteLength;for(var T=new ArrayBuffer(A),R=new Uint8Array(T),_=0,M=0;M<S;M++){var k=new Uint8Array(v[y+M]);R.set(k,_),_+=k.byteLength}s[w].forEach(function(N){var I=ok(T.slice(N.groupOffset,N.groupOffset+N.sizeBytes),[N.manifestEntry]);for(var z in I)g[z]=I[z]}),y+=S}),[2,g]}})})}}Nr.registerSaveRouter(function(t){return ft().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(sy.URL_SCHEME)?function(e){return e===void 0&&(e="model"),new sy(e)}(t.slice(sy.URL_SCHEME.length)):null});var lk=function(){function t(e,n){if(this.DEFAULT_METHOD="POST",n==null&&(n={}),this.weightPathPrefix=n.weightPathPrefix,this.onProgress=n.onProgress,n.fetchFunc!=null?(G(typeof n.fetchFunc=="function",function(){return"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"}),this.fetch=n.fetchFunc):this.fetch=ft().platform.fetch,G(e!=null&&e.length>0,function(){return"URL path for http must not be null, undefined or empty."}),Array.isArray(e)&&G(e.length===2,function(){return"URL paths for http must have a length of 2, (actual length is "+e.length+")."}),this.path=e,n.requestInit!=null&&n.requestInit.body!=null)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=n.requestInit||{}}return t.prototype.save=function(e){return Mt(this,void 0,void 0,function(){var n,r,o,a;return Nt(this,function(s){switch(s.label){case 0:if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");return(n=Object.assign({method:this.DEFAULT_METHOD},this.requestInit)).body=new FormData,r=[{paths:["./model.weights.bin"],weights:e.weightSpecs}],o={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,userDefinedMetadata:e.userDefinedMetadata,weightsManifest:r},n.body.append("model.json",new Blob([JSON.stringify(o)],{type:"application/json"}),"model.json"),e.weightData!=null&&n.body.append("model.weights.bin",new Blob([e.weightData],{type:"application/octet-stream"}),"model.weights.bin"),[4,this.fetch(this.path,n)];case 1:if((a=s.sent()).ok)return[2,{modelArtifactsInfo:Af(e),responses:[a]}];throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+a.status+".")}})})},t.prototype.load=function(){return Mt(this,void 0,void 0,function(){var e,n,r,o,a,s,u,c,f,h,p,v;return Nt(this,function(g){switch(g.label){case 0:return[4,this.fetch(this.path,this.requestInit)];case 1:if(!(e=g.sent()).ok)throw new Error("Request to "+this.path+" failed with status code "+e.status+". Please verify this URL points to the model JSON of the model to load.");g.label=2;case 2:return g.trys.push([2,4,,5]),[4,e.json()];case 3:return n=g.sent(),[3,5];case 4:throw g.sent(),r="Failed to parse model JSON of response from "+this.path+".",this.path.endsWith(".pb")?r+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":r+=" Please make sure the server is serving valid JSON for this request.",new Error(r);case 5:if(o=n.modelTopology,a=n.weightsManifest,s=n.generatedBy,u=n.convertedBy,c=n.format,f=n.userDefinedMetadata,o==null&&a==null)throw new Error("The JSON from HTTP path "+this.path+" contains neither model topology or manifest for weights.");return a==null?[3,7]:[4,this.loadWeights(a)];case 6:v=g.sent(),h=v[0],p=v[1],g.label=7;case 7:return[2,{modelTopology:o,weightSpecs:h,weightData:p,userDefinedMetadata:f,generatedBy:s,convertedBy:u,format:c}]}})})},t.prototype.loadWeights=function(e){return Mt(this,void 0,void 0,function(){var n,r,o,a,s,u,c,f,h,p,v;return Nt(this,function(g){switch(g.label){case 0:for(n=Array.isArray(this.path)?this.path[1]:this.path,r=function(y){var x=y.lastIndexOf("/"),w=y.lastIndexOf("?"),S=y.substring(0,x),A=w>x?y.substring(w):"";return[S+"/",A]}(n),o=r[0],a=r[1],s=this.weightPathPrefix||o,u=[],c=0,f=e;c<f.length;c++)h=f[c],u.push.apply(u,h.weights);return p=[],e.forEach(function(y){y.paths.forEach(function(x){p.push(s+x+a)})}),[4,uk(p,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress})];case 1:return v=g.sent(),[2,[u,ix(v)]]}})})},t.URL_SCHEME_REGEX=/^https?:\/\//,t}();function m0(t){return t.match(lk.URL_SCHEME_REGEX)!=null}var RT=function(t,e){return typeof fetch>"u"?null:(Array.isArray(t)?t.every(function(n){return m0(n)}):m0(t))?v0(t,{onProgress:e}):null};function v0(t,e){return new lk(t,e)}Nr.registerSaveRouter(RT),Nr.registerLoadRouter(RT);var uy=function(){function t(e){this.modelArtifacts=e}return t.prototype.load=function(){return Mt(this,void 0,void 0,function(){return Nt(this,function(e){return[2,this.modelArtifacts]})})},t}(),I$=function(){function t(e){this.saveHandler=e}return t.prototype.save=function(e){return Mt(this,void 0,void 0,function(){return Nt(this,function(n){return[2,this.saveHandler(e)]})})},t}(),ck=Object.freeze({browserFiles:function(t){return new P$(t)},browserHTTPRequest:function(t,e){return v0(t,e)},concatenateArrayBuffers:ix,decodeWeights:ok,encodeWeights:function(t,e){return Mt(this,void 0,void 0,function(){var n,r,o,a,s,u=this;return Nt(this,function(c){switch(c.label){case 0:for(n=[],r=[],o=Array.isArray(t)?t.map(function(f){return f.name}):Object.keys(t),a=function(f){var h=o[f],p=Array.isArray(t)?t[f].tensor:t[h];if(p.dtype!=="float32"&&p.dtype!=="int32"&&p.dtype!=="bool"&&p.dtype!=="string")throw new Error("Unsupported dtype in weight '"+h+"': "+p.dtype);var v={name:h,shape:p.shape,dtype:p.dtype};if(p.dtype==="string"){var g=new Promise(function(y){return Mt(u,void 0,void 0,function(){var x,w,S,A,E,T,R;return Nt(this,function(_){switch(_.label){case 0:return[4,p.bytes()];case 1:for(x=_.sent(),w=x.reduce(function(M,k){return M+k.length},0)+lp*x.length,S=new Uint8Array(w),A=0,E=0;E<x.length;E++)T=x[E],R=new Uint8Array(new Uint32Array([T.length]).buffer),S.set(R,A),A+=lp,S.set(T,A),A+=T.length;return y(S),[2]}})})});r.push(g)}else r.push(p.data());e!=null&&(v.group=e),n.push(v)},s=0;s<o.length;++s)a(s);return[4,Promise.all(r)];case 1:return[2,{data:C$(c.sent()),specs:n}]}})})},fromMemory:function(t,e,n,r){return arguments.length===1?t.modelTopology!=null||t.weightSpecs!=null?new uy(t):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new uy({modelTopology:t})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new uy({modelTopology:t,weightSpecs:e,weightData:n,trainingConfig:r}))},getLoadHandlers:function(t,e){return Nr.getLoadHandlers(t,e)},getModelArtifactsInfoForJSON:Af,getSaveHandlers:function(t){return Nr.getSaveHandlers(t)},http:v0,isHTTPScheme:m0,loadWeights:function(t,e,n,r){return e===void 0&&(e=""),Mt(this,void 0,void 0,function(){return Nt(this,function(o){return[2,TT(function(a){return uk(a,{requestInit:r})})(t,e,n)]})})},registerLoadRouter:function(t){return Nr.registerLoadRouter(t)},registerSaveRouter:function(t){return Nr.registerSaveRouter(t)},weightsLoaderFactory:TT,withSaveHandler:function(t){return new I$(t)},copyModel:function(t,e){return Mt(this,void 0,void 0,function(){return Nt(this,function(n){return[2,xT(t,e,!1)]})})},listModels:function(){return Mt(this,void 0,void 0,function(){var t,e,n,r,o,a,s;return Nt(this,function(u){switch(u.label){case 0:t=gi.getSchemes(),e={},n=0,r=t,u.label=1;case 1:return n<r.length?(o=r[n],[4,gi.getManager(o).listModels()]):[3,4];case 2:for(s in a=u.sent())e[o+Pu+s]=a[s];u.label=3;case 3:return n++,[3,1];case 4:return[2,e]}})})},moveModel:function(t,e){return Mt(this,void 0,void 0,function(){return Nt(this,function(n){return[2,xT(t,e,!0)]})})},removeModel:function(t){return Mt(this,void 0,void 0,function(){var e;return Nt(this,function(n){return e=Ch(t),[2,gi.getManager(e.scheme).removeModel(e.path)]})})}}),gu;Y({confusionMatrix_:function(t,e,n){var r=V(t,"labels","confusionMatrix"),o=V(e,"predictions","confusionMatrix");G(n==null||n>0&&Number.isInteger(n),function(){return"If provided, numClasses must be a positive integer, but got "+n}),G(r.rank===1,function(){return"Expected the rank of labels to be 1, but got "+r.rank}),G(o.rank===1,function(){return"Expected the rank of predictions to be 1, but got "+o.rank}),G(r.shape[0]===o.shape[0],function(){return"Mismatch in the number of examples: "+r.shape[0]+" vs. "+o.shape[0]+". Labels and predictions should have the same number of elements."}),G(n>0&&Number.isInteger(n),function(){return"numClasses is required to be a positive integer, but got "+n});var a=s0(r.asType("int32"),n),s=s0(o.asType("int32"),n);return a.transpose().matMul(s).asType("int32")}});var B$=Y({fromPixels_:function(t,e){if(e===void 0&&(e=3),e>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(t==null)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");var n=!1,r=!1,o=!1,a=!1,s=!1;if(t.data instanceof Uint8Array)n=!0;else if(typeof ImageData<"u"&&t instanceof ImageData)r=!0;else if(typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement)o=!0;else if(typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement)a=!0;else{if(t.getContext==null)throw new Error("pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was "+t.constructor.name);s=!0}if(o&&o&&t.readyState<2)throw new Error("The video element has not loaded data yet. Please wait for `loadeddata` event on the <video> element.");if(P_("FromPixels",J.backendName)!=null)return J.runKernel("FromPixels",{pixels:t},{numChannels:e});var u,c,f=o?[t.videoWidth,t.videoHeight]:[t.width,t.height],h=f[0],p=f[1];if(s?u=t.getContext("2d").getImageData(0,0,h,p).data:r||n?u=t.data:(a||o)&&(gu==null&&(gu=document.createElement("canvas").getContext("2d")),gu.canvas.width=h,gu.canvas.height=p,gu.drawImage(t,0,0,h,p),u=gu.getImageData(0,0,h,p).data),e===4)c=new Int32Array(u);else{var v=h*p;c=new Int32Array(v*e);for(var g=0;g<v;g++)for(var y=0;y<e;++y)c[g*e+y]=u[4*g+y]}return Ib(c,[p,h,e],"int32")}}),sx=Object.freeze({toPixels:function(t,e){return Mt(this,void 0,void 0,function(){var n,r,o,a,s,u,c,f,h,p,v,g,y,x,w,S,A,E,T,R,_,M,k;return Nt(this,function(N){switch(N.label){case 0:if(n=V(t,"img","toPixels"),t instanceof Ye||(n=n.toInt()),n.rank!==2&&n.rank!==3)throw new Error("toPixels only supports rank 2 or 3 tensors, got rank "+n.rank+".");if(r=n.shape.slice(0,2),o=r[0],a=r[1],(s=n.rank===2?1:n.shape[2])>4||s===2)throw new Error("toPixels only supports depth of size 1, 3 or 4 but got "+s);return[4,n.data()];case 1:return u=N.sent(),c=n.min(),f=n.max(),[4,Promise.all([c.data(),f.data()])];case 2:if(h=N.sent(),p=h[0],v=h[1],g=p[0],y=v[0],c.dispose(),f.dispose(),n.dtype==="float32"){if(g<0||y>1)throw new Error("Tensor values for a float32 Tensor must be in the range [0 - 1] but got range ["+g+" - "+y+"].")}else{if(n.dtype!=="int32")throw new Error("Unsupported type for toPixels: "+n.dtype+". Please use float32 or int32 tensors.");if(g<0||y>255)throw new Error("Tensor values for a int32 Tensor must be in the range [0 - 255] but got range ["+g+" - "+y+"].")}for(x=n.dtype==="float32"?255:1,w=new Uint8ClampedArray(a*o*4),S=0;S<o*a;++S)A=void 0,E=void 0,T=void 0,R=void 0,s===1?(A=u[S]*x,E=u[S]*x,T=u[S]*x,R=255):s===3?(A=u[3*S]*x,E=u[3*S+1]*x,T=u[3*S+2]*x,R=255):s===4&&(A=u[4*S]*x,E=u[4*S+1]*x,T=u[4*S+2]*x,R=u[4*S+3]*x),w[(_=4*S)+0]=Math.round(A),w[_+1]=Math.round(E),w[_+2]=Math.round(T),w[_+3]=Math.round(R);return e!=null&&(e.width=a,e.height=o,M=e.getContext("2d"),k=new ImageData(w,a,o),M.putImageData(k,0,0)),n!==t&&n.dispose(),[2,w]}})})},fromPixels:B$}),F$=function(){function t(){}return t.prototype.getClassName=function(){return this.constructor.className},t.fromConfig=function(e,n){return new e(n)},t}(),L$=function(){function t(){this.classNameMap={}}return t.getMap=function(){return t.instance==null&&(t.instance=new t),t.instance},t.register=function(e){t.getMap().classNameMap[e.className]=[e,e.fromConfig]},t}();function Ss(t){G(t.className!=null,function(){return"Class being registered does not have the static className property defined."}),G(typeof t.className=="string",function(){return"className is required to be a string, but got type "+typeof t.className}),G(t.className.length>0,function(){return"Class being registered has an empty-string as its className, which is disallowed."}),L$.register(t)}var Cs=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return yo(e,t),e.prototype.minimize=function(n,r,o){r===void 0&&(r=!1);var a=this.computeGradients(n,o),s=a.value,u=a.grads;if(o!=null){var c=o.map(function(f){return{name:f.name,tensor:u[f.name]}});this.applyGradients(c)}else this.applyGradients(u);return vr(u),r?s:(s.dispose(),null)},Object.defineProperty(e.prototype,"iterations",{get:function(){return this.iterations_==null&&(this.iterations_=0),this.iterations_},enumerable:!0,configurable:!0}),e.prototype.incrementIterations=function(){this.iterations_=this.iterations+1},e.prototype.computeGradients=function(n,r){return Kj(n,r)},e.prototype.dispose=function(){this.iterations_!=null&&vr(this.iterations_)},e.prototype.saveIterations=function(){return Mt(this,void 0,void 0,function(){return Nt(this,function(n){return this.iterations_==null&&(this.iterations_=0),[2,{name:"iter",tensor:Ct(this.iterations_,"int32")}]})})},e.prototype.getWeights=function(){return Mt(this,void 0,void 0,function(){return Nt(this,function(n){throw new Error("getWeights() is not implemented for this optimizer yet.")})})},e.prototype.setWeights=function(n){return Mt(this,void 0,void 0,function(){return Nt(this,function(r){throw new Error("setWeights() is not implemented for this optimizer class "+this.getClassName())})})},e.prototype.extractIterations=function(n){return Mt(this,void 0,void 0,function(){var r;return Nt(this,function(o){switch(o.label){case 0:return r=this,[4,n[0].tensor.data()];case 1:return r.iterations_=o.sent()[0],[2,n.slice(1)]}})})},e}(F$);Object.defineProperty(Cs,Symbol.hasInstance,{value:function(t){return t.minimize!=null&&t.computeGradients!=null&&t.applyGradients!=null}});var z$=function(t){function e(n,r,o){o===void 0&&(o=null);var a=t.call(this)||this;return a.learningRate=n,a.rho=r,a.epsilon=o,a.accumulatedGrads=[],a.accumulatedUpdates=[],o==null&&(a.epsilon=J.backend.epsilon()),a}return yo(e,t),e.prototype.applyGradients=function(n){var r=this;(Array.isArray(n)?n.map(function(o){return o.name}):Object.keys(n)).forEach(function(o,a){var s=J.registeredVariables[o];r.accumulatedGrads[a]==null&&(r.accumulatedGrads[a]={originalName:o+"/accum_grad",variable:Dt(function(){return ye(s).variable(!1)})}),r.accumulatedUpdates[a]==null&&(r.accumulatedUpdates[a]={originalName:o+"/accum_var",variable:Dt(function(){return ye(s).variable(!1)})});var u=Array.isArray(n)?n[a].tensor:n[o];if(u!=null){var c=r.accumulatedGrads[a].variable,f=r.accumulatedUpdates[a].variable;Dt(function(){var h=c.mul(r.rho).add(u.square().mul(1-r.rho)),p=f.add(r.epsilon).sqrt().div(c.add(r.epsilon).sqrt()).mul(u),v=f.mul(r.rho).add(p.square().mul(1-r.rho));c.assign(h),f.assign(v);var g=p.mul(-r.learningRate).add(s);s.assign(g)})}}),this.incrementIterations()},e.prototype.dispose=function(){this.accumulatedUpdates!=null&&(vr(this.accumulatedGrads.map(function(n){return n.variable})),vr(this.accumulatedUpdates.map(function(n){return n.variable})))},e.prototype.getWeights=function(){return Mt(this,void 0,void 0,function(){var n;return Nt(this,function(r){switch(r.label){case 0:return n=this.accumulatedGrads.concat(this.accumulatedUpdates),[4,this.saveIterations()];case 1:return[2,[r.sent()].concat(n.map(function(o){return{name:o.originalName,tensor:o.variable}}))]}})})},e.prototype.setWeights=function(n){return Mt(this,void 0,void 0,function(){var r;return Nt(this,function(o){switch(o.label){case 0:return[4,this.extractIterations(n)];case 1:return n=o.sent(),r=n.length/2,this.accumulatedGrads=n.slice(0,r).map(function(a){return{originalName:a.name,variable:a.tensor.variable(!1)}}),this.accumulatedUpdates=n.slice(r,2*r).map(function(a){return{originalName:a.name,variable:a.tensor.variable(!1)}}),[2]}})})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}},e.fromConfig=function(n,r){return new n(r.learningRate,r.rho,r.epsilon)},e.className="Adadelta",e}(Cs);Ss(z$);var V$=function(t){function e(n,r){r===void 0&&(r=.1);var o=t.call(this)||this;return o.learningRate=n,o.initialAccumulatorValue=r,o.accumulatedGrads=[],o}return yo(e,t),e.prototype.applyGradients=function(n){var r=this;(Array.isArray(n)?n.map(function(o){return o.name}):Object.keys(n)).forEach(function(o,a){var s=J.registeredVariables[o];r.accumulatedGrads[a]==null&&(r.accumulatedGrads[a]={originalName:o+"/accumulator",variable:Dt(function(){return Wo(s.shape,r.initialAccumulatorValue).variable(!1)})});var u=Array.isArray(n)?n[a].tensor:n[o];if(u!=null){var c=r.accumulatedGrads[a].variable;Dt(function(){var f=c.add(u.square());c.assign(f);var h=u.div(f.add(J.backend.epsilon()).sqrt()).mul(-r.learningRate).add(s);s.assign(h)})}}),this.incrementIterations()},e.prototype.dispose=function(){this.accumulatedGrads!=null&&vr(this.accumulatedGrads.map(function(n){return n.variable}))},e.prototype.getWeights=function(){return Mt(this,void 0,void 0,function(){return Nt(this,function(n){switch(n.label){case 0:return[4,this.saveIterations()];case 1:return[2,[n.sent()].concat(this.accumulatedGrads.map(function(r){return{name:r.originalName,tensor:r.variable}}))]}})})},e.prototype.setWeights=function(n){return Mt(this,void 0,void 0,function(){return Nt(this,function(r){switch(r.label){case 0:return[4,this.extractIterations(n)];case 1:return n=r.sent(),this.accumulatedGrads=n.map(function(o){return{originalName:o.name,variable:o.tensor.variable(!1)}}),[2]}})})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}},e.fromConfig=function(n,r){return new n(r.learningRate,r.initialAccumulatorValue)},e.className="Adagrad",e}(Cs);Ss(V$);var U$=function(t){function e(n,r,o,a){a===void 0&&(a=null);var s=t.call(this)||this;return s.learningRate=n,s.beta1=r,s.beta2=o,s.epsilon=a,s.accumulatedFirstMoment=[],s.accumulatedSecondMoment=[],Dt(function(){s.accBeta1=Ct(r).variable(),s.accBeta2=Ct(o).variable()}),a==null&&(s.epsilon=J.backend.epsilon()),s}return yo(e,t),e.prototype.applyGradients=function(n){var r=this,o=Array.isArray(n)?n.map(function(a){return a.name}):Object.keys(n);Dt(function(){var a=En(1,r.accBeta1),s=En(1,r.accBeta2);o.forEach(function(u,c){var f=J.registeredVariables[u];r.accumulatedFirstMoment[c]==null&&(r.accumulatedFirstMoment[c]={originalName:u+"/m",variable:Dt(function(){return ye(f).variable(!1)})}),r.accumulatedSecondMoment[c]==null&&(r.accumulatedSecondMoment[c]={originalName:u+"/v",variable:Dt(function(){return ye(f).variable(!1)})});var h=Array.isArray(n)?n[c].tensor:n[u];if(h!=null){var p=r.accumulatedFirstMoment[c].variable,v=r.accumulatedSecondMoment[c].variable,g=p.mul(r.beta1).add(h.mul(1-r.beta1)),y=v.mul(r.beta2).add(h.square().mul(1-r.beta2)),x=g.div(a),w=y.div(s);p.assign(g),v.assign(y);var S=x.div(w.sqrt().add(r.epsilon)).mul(-r.learningRate).add(f);f.assign(S)}}),r.accBeta1.assign(r.accBeta1.mul(r.beta1)),r.accBeta2.assign(r.accBeta2.mul(r.beta2))}),this.incrementIterations()},e.prototype.dispose=function(){this.accBeta1.dispose(),this.accBeta2.dispose(),this.accumulatedFirstMoment!=null&&vr(this.accumulatedFirstMoment.map(function(n){return n.variable})),this.accumulatedSecondMoment!=null&&vr(this.accumulatedSecondMoment.map(function(n){return n.variable}))},e.prototype.getWeights=function(){return Mt(this,void 0,void 0,function(){var n;return Nt(this,function(r){switch(r.label){case 0:return n=this.accumulatedFirstMoment.concat(this.accumulatedSecondMoment),[4,this.saveIterations()];case 1:return[2,[r.sent()].concat(n.map(function(o){return{name:o.originalName,tensor:o.variable}}))]}})})},e.prototype.setWeights=function(n){return Mt(this,void 0,void 0,function(){var r,o=this;return Nt(this,function(a){switch(a.label){case 0:return[4,this.extractIterations(n)];case 1:return n=a.sent(),Dt(function(){o.accBeta1.assign(sp(o.beta1,o.iterations_+1)),o.accBeta2.assign(sp(o.beta2,o.iterations_+1))}),r=n.length/2,this.accumulatedFirstMoment=n.slice(0,r).map(function(s){return{originalName:s.name,variable:s.tensor.variable(!1)}}),this.accumulatedSecondMoment=n.slice(r,2*r).map(function(s){return{originalName:s.name,variable:s.tensor.variable(!1)}}),[2]}})})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}},e.fromConfig=function(n,r){return new n(r.learningRate,r.beta1,r.beta2,r.epsilon)},e.className="Adam",e}(Cs);Ss(U$);var j$=function(t){function e(n,r,o,a,s){a===void 0&&(a=null),s===void 0&&(s=0);var u=t.call(this)||this;return u.learningRate=n,u.beta1=r,u.beta2=o,u.epsilon=a,u.decay=s,u.accumulatedFirstMoment=[],u.accumulatedWeightedInfNorm=[],Dt(function(){u.iteration=Ct(0).variable(),u.accBeta1=Ct(r).variable()}),a==null&&(u.epsilon=J.backend.epsilon()),u}return yo(e,t),e.prototype.applyGradients=function(n){var r=this,o=Array.isArray(n)?n.map(function(a){return a.name}):Object.keys(n);Dt(function(){var a=En(1,r.accBeta1),s=po(-r.learningRate,r.iteration.mul(r.decay).add(1));o.forEach(function(u,c){var f=J.registeredVariables[u];r.accumulatedFirstMoment[c]==null&&(r.accumulatedFirstMoment[c]={originalName:u+"/m",variable:ye(f).variable(!1)}),r.accumulatedWeightedInfNorm[c]==null&&(r.accumulatedWeightedInfNorm[c]={originalName:u+"/v",variable:ye(f).variable(!1)});var h=Array.isArray(n)?n[c].tensor:n[u];if(h!=null){var p=r.accumulatedFirstMoment[c].variable,v=r.accumulatedWeightedInfNorm[c].variable,g=p.mul(r.beta1).add(h.mul(1-r.beta1)),y=v.mul(r.beta2),x=h.abs(),w=y.maximum(x);p.assign(g),v.assign(w);var S=s.div(a).mul(g.div(w.add(r.epsilon))).add(f);f.assign(S)}}),r.iteration.assign(r.iteration.add(1)),r.accBeta1.assign(r.accBeta1.mul(r.beta1))}),this.incrementIterations()},e.prototype.dispose=function(){this.accBeta1.dispose(),this.iteration.dispose(),this.accumulatedFirstMoment!=null&&vr(this.accumulatedFirstMoment.map(function(n){return n.variable})),this.accumulatedWeightedInfNorm!=null&&vr(this.accumulatedWeightedInfNorm.map(function(n){return n.variable}))},e.prototype.getWeights=function(){return Mt(this,void 0,void 0,function(){return Nt(this,function(n){throw new Error("getWeights() is not implemented for Adamax yet.")})})},e.prototype.setWeights=function(n){return Mt(this,void 0,void 0,function(){return Nt(this,function(r){throw new Error("setWeights() is not implemented for Adamax yet.")})})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}},e.fromConfig=function(n,r){return new n(r.learningRate,r.beta1,r.beta2,r.epsilon,r.decay)},e.className="Adamax",e}(Cs);Ss(j$);var fk=function(t){function e(n){var r=t.call(this)||this;return r.learningRate=n,r.setLearningRate(n),r}return yo(e,t),e.prototype.applyGradients=function(n){var r=this;(Array.isArray(n)?n.map(function(o){return o.name}):Object.keys(n)).forEach(function(o,a){var s=Array.isArray(n)?n[a].tensor:n[o];if(s!=null){var u=J.registeredVariables[o];Dt(function(){var c=r.c.mul(s).add(u);u.assign(c)})}}),this.incrementIterations()},e.prototype.setLearningRate=function(n){this.learningRate=n,this.c!=null&&this.c.dispose(),this.c=uj(Ct(-n))},e.prototype.dispose=function(){this.c.dispose()},e.prototype.getWeights=function(){return Mt(this,void 0,void 0,function(){return Nt(this,function(n){switch(n.label){case 0:return[4,this.saveIterations()];case 1:return[2,[n.sent()]]}})})},e.prototype.setWeights=function(n){return Mt(this,void 0,void 0,function(){return Nt(this,function(r){switch(r.label){case 0:return[4,this.extractIterations(n)];case 1:if((n=r.sent()).length!==0)throw new Error("SGD optimizer does not have settable weights.");return[2]}})})},e.prototype.getConfig=function(){return{learningRate:this.learningRate}},e.fromConfig=function(n,r){return new n(r.learningRate)},e.className="SGD",e}(Cs);Ss(fk);var W$=function(t){function e(n,r,o){o===void 0&&(o=!1);var a=t.call(this,n)||this;return a.learningRate=n,a.momentum=r,a.useNesterov=o,a.accumulations=[],a.m=Ct(a.momentum),a}return yo(e,t),e.prototype.applyGradients=function(n){var r=this;(Array.isArray(n)?n.map(function(o){return o.name}):Object.keys(n)).forEach(function(o,a){var s=J.registeredVariables[o];r.accumulations[a]==null&&(r.accumulations[a]={originalName:o+"/momentum",variable:Dt(function(){return ye(s).variable(!1)})});var u=r.accumulations[a].variable,c=Array.isArray(n)?n[a].tensor:n[o];c!=null&&Dt(function(){var f,h=r.m.mul(u).add(c);f=r.useNesterov?r.c.mul(c.add(h.mul(r.m))).add(s):r.c.mul(h).add(s),u.assign(h),s.assign(f)})}),this.incrementIterations()},e.prototype.dispose=function(){this.m.dispose(),this.accumulations!=null&&vr(this.accumulations.map(function(n){return n.variable}))},e.prototype.setMomentum=function(n){this.momentum=n},e.prototype.getWeights=function(){return Mt(this,void 0,void 0,function(){return Nt(this,function(n){switch(n.label){case 0:return[4,this.saveIterations()];case 1:return[2,[n.sent()].concat(this.accumulations.map(function(r){return{name:r.originalName,tensor:r.variable}}))]}})})},e.prototype.setWeights=function(n){return Mt(this,void 0,void 0,function(){return Nt(this,function(r){switch(r.label){case 0:return[4,this.extractIterations(n)];case 1:return n=r.sent(),this.accumulations=n.map(function(o){return{originalName:o.name,variable:o.tensor.variable(!1)}}),[2]}})})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}},e.fromConfig=function(n,r){return new n(r.learningRate,r.momentum,r.useNesterov)},e.className="Momentum",e}(fk);Ss(W$);var H$=function(t){function e(n,r,o,a,s){r===void 0&&(r=.9),o===void 0&&(o=0),a===void 0&&(a=null),s===void 0&&(s=!1);var u=t.call(this)||this;if(u.learningRate=n,u.decay=r,u.momentum=o,u.epsilon=a,u.accumulatedMeanSquares=[],u.accumulatedMoments=[],u.accumulatedMeanGrads=[],u.centered=s,a==null&&(u.epsilon=J.backend.epsilon()),n==null)throw new Error("learningRate for RMSPropOptimizer must be defined.");return u}return yo(e,t),e.prototype.applyGradients=function(n){var r=this;(Array.isArray(n)?n.map(function(o){return o.name}):Object.keys(n)).forEach(function(o,a){var s=J.registeredVariables[o];r.accumulatedMeanSquares[a]==null&&(r.accumulatedMeanSquares[a]={originalName:o+"/rms",variable:Dt(function(){return ye(s).variable(!1)})}),r.accumulatedMoments[a]==null&&(r.accumulatedMoments[a]={originalName:o+"/momentum",variable:Dt(function(){return ye(s).variable(!1)})}),r.accumulatedMeanGrads[a]==null&&r.centered&&(r.accumulatedMeanGrads[a]={originalName:o+"/mg",variable:Dt(function(){return ye(s).variable(!1)})});var u=Array.isArray(n)?n[a].tensor:n[o];if(u!=null){var c=r.accumulatedMeanSquares[a].variable,f=r.accumulatedMoments[a].variable;Dt(function(){var h=c.mul(r.decay).add(u.square().mul(1-r.decay));if(r.centered){var p=r.accumulatedMeanGrads[a].variable,v=p.mul(r.decay).add(u.mul(1-r.decay)),g=f.mul(r.momentum).add(u.mul(r.learningRate).div(h.sub(v.square().add(r.epsilon)).sqrt()));c.assign(h),p.assign(v),f.assign(g);var y=s.sub(g);s.assign(y)}else{var x=c.mul(r.decay).add(u.square().mul(1-r.decay));g=f.mul(r.momentum).add(u.mul(r.learningRate).div(x.add(r.epsilon).sqrt())),c.assign(x),f.assign(g),y=s.sub(g),s.assign(y)}})}}),this.incrementIterations()},e.prototype.dispose=function(){this.accumulatedMeanSquares!=null&&vr(this.accumulatedMeanSquares.map(function(n){return n.variable})),this.accumulatedMeanGrads!=null&&this.centered&&vr(this.accumulatedMeanGrads.map(function(n){return n.variable})),this.accumulatedMoments!=null&&vr(this.accumulatedMoments.map(function(n){return n.variable}))},e.prototype.getWeights=function(){return Mt(this,void 0,void 0,function(){var n;return Nt(this,function(r){switch(r.label){case 0:return n=this.accumulatedMeanSquares.concat(this.accumulatedMoments),this.centered&&n.push.apply(n,this.accumulatedMeanGrads),[4,this.saveIterations()];case 1:return[2,[r.sent()].concat(n.map(function(o){return{name:o.originalName,tensor:o.variable}}))]}})})},e.prototype.setWeights=function(n){return Mt(this,void 0,void 0,function(){var r;return Nt(this,function(o){switch(o.label){case 0:return[4,this.extractIterations(n)];case 1:return n=o.sent(),r=this.centered?n.length/3:n.length/2,this.accumulatedMeanSquares=n.slice(0,r).map(function(a){return{originalName:a.name,variable:a.tensor.variable(!1)}}),this.accumulatedMoments=n.slice(r,2*r).map(function(a){return{originalName:a.name,variable:a.tensor.variable(!1)}}),this.centered&&(this.accumulatedMeanGrads=n.slice(2*r,3*r).map(function(a){return{originalName:a.name,variable:a.tensor.variable(!1)}})),[2]}})})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}},e.fromConfig=function(n,r){return new n(r.learningRate,r.decay,r.momentum,r.epsilon,r.centered)},e.className="RMSProp",e}(Cs);Ss(H$);Ye.prototype.squaredDifference=function(t){return RD(this,t)},ut=v$;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var g0=function(t,e){return g0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)r.hasOwnProperty(o)&&(n[o]=r[o])},g0(t,e)};function Kt(t,e){g0(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Kn=function(){return Kn=Object.assign||function(e){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Kn.apply(this,arguments)};function Bt(t,e,n,r){function o(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function u(h){try{f(r.next(h))}catch(p){s(p)}}function c(h){try{f(r.throw(h))}catch(p){s(p)}}function f(h){h.done?a(h.value):o(h.value).then(u,c)}f((r=r.apply(t,[])).next())})}function Ft(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,o,a,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(f){return function(h){return c([f,h])}}function c(f){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,o&&(a=f[0]&2?o.return:f[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,f[1])).done)return a;switch(o=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,o=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){n.label=f[1];break}if(f[0]===6&&n.label<a[1]){n.label=a[1],a=f;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(f);break}a[2]&&n.ops.pop(),n.trys.pop();continue}f=e.call(t,n)}catch(h){f=[6,h],o=0}finally{r=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function Pc(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),o=0,e=0;e<n;e++)for(var a=arguments[e],s=0,u=a.length;s<u;s++,o++)r[o]=a[s];return r}var Fu=function(){function t(e,n){if(!ds(e)||!ds(n))throw new Error("Dimensions.constructor - expected width and height to be valid numbers, instead have "+JSON.stringify({width:e,height:n}));this._width=e,this._height=n}return Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),t.prototype.reverse=function(){return new t(1/this.width,1/this.height)},t}();function Yp(t,e){return t instanceof Ye&&t.shape.length===e}function G$(t){return Yp(t,2)}function Qp(t){return Yp(t,3)}function yi(t){return Yp(t,4)}function $$(t){return t%1!==0}function AT(t){return t%2===0}function q$(t,e){e===void 0&&(e=2);var n=Math.pow(10,e);return Math.floor(t*n)/n}function _T(t){return t&&t.width&&t.height}function K$(t,e){var n=t.width,r=t.height,o=e/Math.max(r,n);return new Fu(Math.round(n*o),Math.round(r*o))}function ux(t){return t.reduce(function(e,n){return e.add(n)},new Te(0,0)).div(new Te(t.length,t.length))}function Zc(t,e,n){return Array(t).fill(0).map(function(r,o){return e+o*n})}function ds(t){return!!t&&t!==1/0&&t!==-1/0&&!isNaN(t)||t===0}function DT(t){return ds(t)&&0<=t&&t<=1}var Te=function(){function t(e,n){this._x=e,this._y=n}return Object.defineProperty(t.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),t.prototype.add=function(e){return new t(this.x+e.x,this.y+e.y)},t.prototype.sub=function(e){return new t(this.x-e.x,this.y-e.y)},t.prototype.mul=function(e){return new t(this.x*e.x,this.y*e.y)},t.prototype.div=function(e){return new t(this.x/e.x,this.y/e.y)},t.prototype.abs=function(){return new t(Math.abs(this.x),Math.abs(this.y))},t.prototype.magnitude=function(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))},t.prototype.floor=function(){return new t(Math.floor(this.x),Math.floor(this.y))},t}(),Si=function(){function t(e,n){n===void 0&&(n=!0);var r=e||{},o=[r.left,r.top,r.right,r.bottom].every(ds),a=[r.x,r.y,r.width,r.height].every(ds);if(!a&&!o)throw new Error("Box.constructor - expected box to be IBoundingBox | IRect, instead have "+JSON.stringify(r));var s=a?[r.x,r.y,r.width,r.height]:[r.left,r.top,r.right-r.left,r.bottom-r.top],u=s[0],c=s[1],f=s[2],h=s[3];t.assertIsValidBox({x:u,y:c,width:f,height:h},"Box.constructor",n),this._x=u,this._y=c,this._width=f,this._height=h}return t.isRect=function(e){return!!e&&[e.x,e.y,e.width,e.height].every(ds)},t.assertIsValidBox=function(e,n,r){if(r===void 0&&(r=!1),!t.isRect(e))throw new Error(n+" - invalid box: "+JSON.stringify(e)+", expected object with properties x, y, width, height");if(!r&&(e.width<0||e.height<0))throw new Error(n+" - width ("+e.width+") and height ("+e.height+") must be positive numbers")},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"area",{get:function(){return this.width*this.height},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"topLeft",{get:function(){return new Te(this.left,this.top)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"topRight",{get:function(){return new Te(this.right,this.top)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottomLeft",{get:function(){return new Te(this.left,this.bottom)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottomRight",{get:function(){return new Te(this.right,this.bottom)},enumerable:!0,configurable:!0}),t.prototype.round=function(){var e=[this.x,this.y,this.width,this.height].map(function(s){return Math.round(s)}),n=e[0],r=e[1],o=e[2],a=e[3];return new t({x:n,y:r,width:o,height:a})},t.prototype.floor=function(){var e=[this.x,this.y,this.width,this.height].map(function(s){return Math.floor(s)}),n=e[0],r=e[1],o=e[2],a=e[3];return new t({x:n,y:r,width:o,height:a})},t.prototype.toSquare=function(){var e=this,n=e.x,r=e.y,o=e.width,a=e.height,s=Math.abs(o-a);return o<a&&(n-=s/2,o+=s),a<o&&(r-=s/2,a+=s),new t({x:n,y:r,width:o,height:a})},t.prototype.rescale=function(e){var n=_T(e)?e.width:e,r=_T(e)?e.height:e;return new t({x:this.x*n,y:this.y*r,width:this.width*n,height:this.height*r})},t.prototype.pad=function(e,n){var r=[this.x-e/2,this.y-n/2,this.width+e,this.height+n],o=r[0],a=r[1],s=r[2],u=r[3];return new t({x:o,y:a,width:s,height:u})},t.prototype.clipAtImageBorders=function(e,n){var r=this,o=r.x,a=r.y,s=r.right,u=r.bottom,c=Math.max(o,0),f=Math.max(a,0),h=s-c,p=u-f,v=Math.min(h,e-c),g=Math.min(p,n-f);return new t({x:c,y:f,width:v,height:g}).floor()},t.prototype.shift=function(e,n){var r=this,o=r.width,a=r.height,s=this.x+e,u=this.y+n;return new t({x:s,y:u,width:o,height:a})},t.prototype.padAtBorders=function(e,n){var r=this.width+1,o=this.height+1,a=1,s=1,u=r,c=o,f=this.left,h=this.top,p=this.right,v=this.bottom;return p>n&&(u=-p+n+r,p=n),v>e&&(c=-v+e+o,v=e),f<1&&(c=2-f,f=1),h<1&&(c=2-h,h=1),{dy:s,edy:c,dx:a,edx:u,y:h,ey:v,x:f,ex:p,w:r,h:o}},t.prototype.calibrate=function(e){return new t({left:this.left+e.left*this.width,top:this.top+e.top*this.height,right:this.right+e.right*this.width,bottom:this.bottom+e.bottom*this.height}).toSquare().round()},t}(),Zp=function(t){Kt(e,t);function e(n,r,o,a,s){return s===void 0&&(s=!1),t.call(this,{left:n,top:r,right:o,bottom:a},s)||this}return e}(Si),dk=function(){function t(e,n,r,o,a){this._imageDims=new Fu(a.width,a.height),this._score=e,this._classScore=n,this._className=r,this._box=new Si(o).rescale(this._imageDims)}return Object.defineProperty(t.prototype,"score",{get:function(){return this._score},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"classScore",{get:function(){return this._classScore},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return this._className},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"box",{get:function(){return this._box},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imageDims",{get:function(){return this._imageDims},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imageWidth",{get:function(){return this.imageDims.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imageHeight",{get:function(){return this.imageDims.height},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativeBox",{get:function(){return new Si(this._box).rescale(this.imageDims.reverse())},enumerable:!0,configurable:!0}),t.prototype.forSize=function(e,n){return new t(this.score,this.classScore,this.className,this.relativeBox,{width:e,height:n})},t}(),na=function(t){Kt(e,t);function e(n,r,o){return t.call(this,n,n,"",r,o)||this}return e.prototype.forSize=function(n,r){var o=t.prototype.forSize.call(this,n,r),a=o.score,s=o.relativeBox,u=o.imageDims;return new e(a,s,u)},e}(dk);function X$(t,e,n){n===void 0&&(n=!0);var r=Math.max(0,Math.min(t.right,e.right)-Math.max(t.left,e.left)),o=Math.max(0,Math.min(t.bottom,e.bottom)-Math.max(t.top,e.top)),a=r*o;return n?a/(t.area+e.area-a):a/Math.min(t.area,e.area)}function Y$(t){var e=t.map(function(u){return u.x}),n=t.map(function(u){return u.y}),r=e.reduce(function(u,c){return c<u?c:u},1/0),o=n.reduce(function(u,c){return c<u?c:u},1/0),a=e.reduce(function(u,c){return u<c?c:u},0),s=n.reduce(function(u,c){return u<c?c:u},0);return new Zp(r,o,a,s)}function Jc(t,e,n,r){r===void 0&&(r=!0);for(var o=e.map(function(u,c){return{score:u,boxIndex:c}}).sort(function(u,c){return u.score-c.score}).map(function(u){return u.boxIndex}),a=[],s=function(){var u=o.pop();a.push(u);for(var c=o,f=[],h=0;h<c.length;h++){var p=c[h],v=t[u],g=t[p];f.push(X$(v,g,r))}o=o.filter(function(y,x){return f[x]<=n})};o.length>0;)s();return a}function _f(t,e){return Dt(function(){var n=e[0],r=e[1],o=e[2],a=Wo(Pc(t.shape.slice(0,3),[1]),n),s=Wo(Pc(t.shape.slice(0,3),[1]),r),u=Wo(Pc(t.shape.slice(0,3),[1]),o),c=wn([a,s,u],3);return En(t,c)})}function Q$(t,e){return e===void 0&&(e=!1),Dt(function(){var n=t.shape.slice(1),r=n[0],o=n[1];if(r===o)return t;var a=Math.abs(r-o),s=Math.round(a*(e?.5:1)),u=r>o?2:1,c=function(g){var y=t.shape.slice();return y[u]=g,Wo(y,0)},f=c(s),h=a-f.shape[u],p=e&&h?c(h):null,v=[p,t,f].filter(function(g){return!!g}).map(function(g){return g.toFloat()});return wn(v,u)})}function ly(t){return 1/(1+Math.exp(-t))}var lx=function(t){Kt(e,t);function e(n,r,o,a,s){return s===void 0&&(s=!1),t.call(this,{x:n,y:r,width:o,height:a},s)||this}return e}(Si),Z$=.5,J$=.43,t7=.45,cp=function(){function t(e,n,r){r===void 0&&(r=new Te(0,0));var o=n.width,a=n.height;this._imgDims=new Fu(o,a),this._shift=r,this._positions=e.map(function(s){return s.mul(new Te(o,a)).add(r)})}return Object.defineProperty(t.prototype,"shift",{get:function(){return new Te(this._shift.x,this._shift.y)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imageWidth",{get:function(){return this._imgDims.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imageHeight",{get:function(){return this._imgDims.height},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"positions",{get:function(){return this._positions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativePositions",{get:function(){var e=this;return this._positions.map(function(n){return n.sub(e._shift).div(new Te(e.imageWidth,e.imageHeight))})},enumerable:!0,configurable:!0}),t.prototype.forSize=function(e,n){return new this.constructor(this.relativePositions,{width:e,height:n})},t.prototype.shiftBy=function(e,n){return new this.constructor(this.relativePositions,this._imgDims,new Te(e,n))},t.prototype.shiftByPoint=function(e){return this.shiftBy(e.x,e.y)},t.prototype.align=function(e,n){if(n===void 0&&(n={}),e){var r=e instanceof na?e.box.floor():new Si(e);return this.shiftBy(r.x,r.y).align(null,n)}var o=Object.assign({},{useDlibAlignment:!1,minBoxPadding:.2},n),a=o.useDlibAlignment,s=o.minBoxPadding;return a?this.alignDlib():this.alignMinBbox(s)},t.prototype.alignDlib=function(){var e=this.getRefPointsForAlignment(),n=e[0],r=e[1],o=e[2],a=function(p){return o.sub(p).magnitude()},s=(a(n)+a(r))/2,u=Math.floor(s/t7),c=ux(e),f=Math.floor(Math.max(0,c.x-Z$*u)),h=Math.floor(Math.max(0,c.y-J$*u));return new lx(f,h,Math.min(u,this.imageWidth+f),Math.min(u,this.imageHeight+h))},t.prototype.alignMinBbox=function(e){var n=Y$(this.positions);return n.pad(n.width*e,n.height*e)},t.prototype.getRefPointsForAlignment=function(){throw new Error("getRefPointsForAlignment not implemented by base class")},t}(),e7=function(t){Kt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getRefPointsForAlignment=function(){var n=this.positions;return[n[0],n[1],ux([n[3],n[4]])]},e}(cp),n7=function(t){Kt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getJawOutline=function(){return this.positions.slice(0,17)},e.prototype.getLeftEyeBrow=function(){return this.positions.slice(17,22)},e.prototype.getRightEyeBrow=function(){return this.positions.slice(22,27)},e.prototype.getNose=function(){return this.positions.slice(27,36)},e.prototype.getLeftEye=function(){return this.positions.slice(36,42)},e.prototype.getRightEye=function(){return this.positions.slice(42,48)},e.prototype.getMouth=function(){return this.positions.slice(48,68)},e.prototype.getRefPointsForAlignment=function(){return[this.getLeftEye(),this.getRightEye(),this.getMouth()].map(ux)},e}(cp),kT=function(){function t(e,n){this._label=e,this._distance=n}return Object.defineProperty(t.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"distance",{get:function(){return this._distance},enumerable:!0,configurable:!0}),t.prototype.toString=function(e){return e===void 0&&(e=!0),""+this.label+(e?" ("+q$(this.distance)+")":"")},t}(),MT=function(t){Kt(e,t);function e(n,r){var o=t.call(this,n)||this;return o._label=r,o}return e.assertIsValidLabeledBox=function(n,r){if(Si.assertIsValidBox(n,r),!ds(n.label))throw new Error(r+" - expected property label ("+n.label+") to be a number")},Object.defineProperty(e.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),e}(Si),uh=function(){function t(e,n){if(typeof e!="string")throw new Error("LabeledFaceDescriptors - constructor expected label to be a string");if(!Array.isArray(n)||n.some(function(r){return!(r instanceof Float32Array)}))throw new Error("LabeledFaceDescriptors - constructor expected descriptors to be an array of Float32Array");this._label=e,this._descriptors=n}return Object.defineProperty(t.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"descriptors",{get:function(){return this._descriptors},enumerable:!0,configurable:!0}),t.prototype.toJSON=function(){return{label:this.label,descriptors:this.descriptors.map(function(e){return Array.from(e)})}},t.fromJSON=function(e){var n=e.descriptors.map(function(r){return new Float32Array(r)});return new t(e.label,n)},t}();(function(t){Kt(e,t);function e(n,r,o,a){var s=t.call(this,n,r)||this;return s._score=o,s._classScore=a,s}return e.assertIsValidPredictedBox=function(n,r){if(MT.assertIsValidLabeledBox(n,r),!DT(n.score)||!DT(n.classScore))throw new Error(r+" - expected properties score ("+n.score+") and ("+n.classScore+") to be a number between [0, 1]")},Object.defineProperty(e.prototype,"score",{get:function(){return this._score},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"classScore",{get:function(){return this._classScore},enumerable:!0,configurable:!0}),e})(MT);function r7(t){return t.detection instanceof na}function cx(t,e){var n={detection:e};return Object.assign({},t,n)}function hk(){var t=window.fetch||function(){throw new Error("fetch - missing fetch implementation for browser environment")},e=function(){throw new Error("readFile - filesystem not available for browser environment")};return{Canvas:HTMLCanvasElement,CanvasRenderingContext2D,Image:HTMLImageElement,ImageData,Video:HTMLVideoElement,createCanvasElement:function(){return document.createElement("canvas")},createImageElement:function(){return document.createElement("img")},fetch:t,readFile:e}}function pk(t){var e="";if(!t)try{t=require("fs")}catch(r){e=r.toString()}var n=t?function(r){return new Promise(function(o,a){t.readFile(r,function(s,u){return s?a(s):o(u)})})}:function(){throw new Error("readFile - failed to require fs in nodejs environment with error: "+e)};return{readFile:n}}function mk(){var t=global.Canvas||global.HTMLCanvasElement,e=global.Image||global.HTMLImageElement,n=function(){if(t)return new t;throw new Error("createCanvasElement - missing Canvas implementation for nodejs environment")},r=function(){if(e)return new e;throw new Error("createImageElement - missing Image implementation for nodejs environment")},o=global.fetch||function(){throw new Error("fetch - missing fetch implementation for nodejs environment")},a=pk();return Kn({Canvas:t||function(){function s(){}return s}(),CanvasRenderingContext2D:global.CanvasRenderingContext2D||function(){function s(){}return s}(),Image:e||function(){function s(){}return s}(),ImageData:global.ImageData||function(){function s(){}return s}(),Video:global.HTMLVideoElement||function(){function s(){}return s}(),createCanvasElement:n,createImageElement:r,fetch:o},a)}function vk(){return typeof window=="object"&&typeof document<"u"&&typeof HTMLImageElement<"u"&&typeof HTMLCanvasElement<"u"&&typeof HTMLVideoElement<"u"&&typeof ImageData<"u"&&typeof CanvasRenderingContext2D<"u"}function gk(){return typeof global=="object"&&typeof require=="function"&&typeof DN<"u"&&typeof process<"u"&&!!process.version}var xn;function o7(){if(!xn)throw new Error("getEnv - environment is not defined, check isNodejs() and isBrowser()");return xn}function y0(t){xn=t}function fx(){vk()&&y0(hk()),gk()&&y0(mk())}function a7(t){if(xn||fx(),!xn)throw new Error("monkeyPatch - environment is not defined, check isNodejs() and isBrowser()");var e=t.Canvas,n=e===void 0?xn.Canvas:e,r=t.Image,o=r===void 0?xn.Image:r;xn.Canvas=n,xn.Image=o,xn.createCanvasElement=t.createCanvasElement||function(){return new n},xn.createImageElement=t.createImageElement||function(){return new o},xn.ImageData=t.ImageData||xn.ImageData,xn.Video=t.Video||xn.Video,xn.fetch=t.fetch||xn.fetch,xn.readFile=t.readFile||xn.readFile}var nr={getEnv:o7,setEnv:y0,initialize:fx,createBrowserEnv:hk,createFileSystem:pk,createNodejsEnv:mk,monkeyPatch:a7,isBrowser:vk,isNodejs:gk};fx();function yk(t){return!nr.isNodejs()&&typeof t=="string"?document.getElementById(t):t}function gs(t){var e=nr.getEnv(),n=e.Canvas,r=e.CanvasRenderingContext2D;if(t instanceof r)return t;var o=yk(t);if(!(o instanceof n))throw new Error("resolveContext2d - expected canvas to be of instance of Canvas");var a=o.getContext("2d");if(!a)throw new Error("resolveContext2d - canvas 2d context is null");return a}var NT;(function(t){t.TOP_LEFT="TOP_LEFT",t.TOP_RIGHT="TOP_RIGHT",t.BOTTOM_LEFT="BOTTOM_LEFT",t.BOTTOM_RIGHT="BOTTOM_RIGHT"})(NT||(NT={}));function bk(t){var e=nr.getEnv(),n=e.Image,r=e.Video;return t instanceof n&&t.complete||t instanceof r&&t.readyState>=3}function i7(t){return new Promise(function(e,n){if(t instanceof nr.getEnv().Canvas||bk(t))return e();function r(a){a.currentTarget&&(a.currentTarget.removeEventListener("load",r),a.currentTarget.removeEventListener("error",o),e(a))}function o(a){a.currentTarget&&(a.currentTarget.removeEventListener("load",r),a.currentTarget.removeEventListener("error",o),n(a))}t.addEventListener("load",r),t.addEventListener("error",o)})}function xk(t){var e=nr.getEnv(),n=e.Image,r=e.Video;return t instanceof n?new Fu(t.naturalWidth,t.naturalHeight):t instanceof r?new Fu(t.videoWidth,t.videoHeight):new Fu(t.width,t.height)}function Jp(t){var e=t.width,n=t.height,r=nr.getEnv().createCanvasElement,o=r();return o.width=e,o.height=n,o}function dx(t,e){var n=nr.getEnv().ImageData;if(!(t instanceof n)&&!bk(t))throw new Error("createCanvasFromMedia - media has not finished loading yet");var r=xk(t),o=r.width,a=r.height,s=Jp({width:o,height:a});return t instanceof n?gs(s).putImageData(t,0,0):gs(s).drawImage(t,0,0,o,a),s}function s7(t,e){return Bt(this,void 0,void 0,function(){var n,r,o,a,s,u;return Ft(this,function(c){switch(c.label){case 0:return n=nr.getEnv().createCanvasElement(),r=t.shape.slice(yi(t)?1:0),o=r[0],a=r[1],s=r[2],u=Dt(function(){return t.as3D(o,a,s).toInt()}),[4,sx.toPixels(u,n)];case 1:return c.sent(),u.dispose(),[2,n]}})})}function OT(t){var e=nr.getEnv(),n=e.Image,r=e.Canvas,o=e.Video;return t instanceof n||t instanceof r||t instanceof o}function u7(t,e,n){n===void 0&&(n=!1);var r=nr.getEnv(),o=r.Image,a=r.Canvas;if(!(t instanceof o||t instanceof a))throw new Error("imageToSquare - expected arg0 to be HTMLImageElement | HTMLCanvasElement");var s=xk(t),u=e/Math.max(s.height,s.width),c=u*s.width,f=u*s.height,h=Jp({width:e,height:e}),p=t instanceof a?t:dx(t),v=Math.abs(c-f)/2,g=n&&c<f?v:0,y=n&&f<c?v:0;return gs(h).drawImage(p,g,y,c,f),h}var fp=function(){function t(e,n){var r=this;if(n===void 0&&(n=!1),this._imageTensors=[],this._canvases=[],this._treatAsBatchInput=!1,this._inputDimensions=[],!Array.isArray(e))throw new Error("NetInput.constructor - expected inputs to be an Array of TResolvedNetInput or to be instanceof tf.Tensor4D, instead have "+e);this._treatAsBatchInput=n,this._batchSize=e.length,e.forEach(function(o,a){if(Qp(o)){r._imageTensors[a]=o,r._inputDimensions[a]=o.shape;return}if(yi(o)){var s=o.shape[0];if(s!==1)throw new Error("NetInput - tf.Tensor4D with batchSize "+s+" passed, but not supported in input array");r._imageTensors[a]=o,r._inputDimensions[a]=o.shape.slice(1);return}var u=o instanceof nr.getEnv().Canvas?o:dx(o);r._canvases[a]=u,r._inputDimensions[a]=[u.height,u.width,3]})}return Object.defineProperty(t.prototype,"imageTensors",{get:function(){return this._imageTensors},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canvases",{get:function(){return this._canvases},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isBatchInput",{get:function(){return this.batchSize>1||this._treatAsBatchInput},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"batchSize",{get:function(){return this._batchSize},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputDimensions",{get:function(){return this._inputDimensions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputSize",{get:function(){return this._inputSize},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"reshapedInputDimensions",{get:function(){var e=this;return Zc(this.batchSize,0,1).map(function(n,r){return e.getReshapedInputDimensions(r)})},enumerable:!0,configurable:!0}),t.prototype.getInput=function(e){return this.canvases[e]||this.imageTensors[e]},t.prototype.getInputDimensions=function(e){return this._inputDimensions[e]},t.prototype.getInputHeight=function(e){return this._inputDimensions[e][0]},t.prototype.getInputWidth=function(e){return this._inputDimensions[e][1]},t.prototype.getReshapedInputDimensions=function(e){if(typeof this.inputSize!="number")throw new Error("getReshapedInputDimensions - inputSize not set, toBatchTensor has not been called yet");var n=this.getInputWidth(e),r=this.getInputHeight(e);return K$({width:n,height:r},this.inputSize)},t.prototype.toBatchTensor=function(e,n){var r=this;return n===void 0&&(n=!0),this._inputSize=e,Dt(function(){var o=Zc(r.batchSize,0,1).map(function(s){var u=r.getInput(s);if(u instanceof Ye){var c=yi(u)?u:u.expandDims();return c=Q$(c,n),(c.shape[1]!==e||c.shape[2]!==e)&&(c=ex.resizeBilinear(c,[e,e])),c.as3D(e,e,3)}if(u instanceof nr.getEnv().Canvas)return sx.fromPixels(u7(u,e,n));throw new Error("toBatchTensor - at batchIdx "+s+", expected input to be instanceof tf.Tensor or instanceof HTMLCanvasElement, instead have "+u)}),a=Ir(o.map(function(s){return s.toFloat()})).as4D(r.batchSize,e,e,3);return a})},t}();function Nn(t){return Bt(this,void 0,void 0,function(){var e,n,r;return Ft(this,function(o){switch(o.label){case 0:if(t instanceof fp)return[2,t];if(e=Array.isArray(t)?t:[t],!e.length)throw new Error("toNetInput - empty array passed as input");return n=function(a){return Array.isArray(t)?" at input index "+a+":":""},r=e.map(yk),r.forEach(function(a,s){if(!OT(a)&&!Qp(a)&&!yi(a))throw typeof e[s]=="string"?new Error("toNetInput -"+n(s)+" string passed, but could not resolve HTMLElement for element id "+e[s]):new Error("toNetInput -"+n(s)+" expected media to be of type HTMLImageElement | HTMLVideoElement | HTMLCanvasElement | tf.Tensor3D, or to be an element id");if(yi(a)){var u=a.shape[0];if(u!==1)throw new Error("toNetInput -"+n(s)+" tf.Tensor4D with batchSize "+u+" passed, but not supported in input array")}}),[4,Promise.all(r.map(function(a){return OT(a)&&i7(a)}))];case 1:return o.sent(),[2,new fp(r,Array.isArray(t))]}})})}function hx(t,e){return Bt(this,void 0,void 0,function(){var n,r,o,a,s,u,c;return Ft(this,function(f){switch(f.label){case 0:return n=nr.getEnv().Canvas,r=t,t instanceof n?[3,5]:[4,Nn(t)];case 1:if(o=f.sent(),o.batchSize>1)throw new Error("extractFaces - batchSize > 1 not supported");return a=o.getInput(0),a instanceof n?(s=a,[3,4]):[3,2];case 2:return[4,s7(a)];case 3:s=f.sent(),f.label=4;case 4:r=s,f.label=5;case 5:return u=gs(r),c=e.map(function(h){return h instanceof na?h.forSize(r.width,r.height).box.floor():h}).map(function(h){return h.clipAtImageBorders(r.width,r.height)}),[2,c.map(function(h){var p=h.x,v=h.y,g=h.width,y=h.height,x=Jp({width:g,height:y});return gs(x).putImageData(u.getImageData(p,v,g,y),0,0),x})]}})})}function px(t,e){return Bt(this,void 0,void 0,function(){return Ft(this,function(n){if(!Qp(t)&&!yi(t))throw new Error("extractFaceTensors - expected image tensor to be 3D or 4D");if(yi(t)&&t.shape[0]>1)throw new Error("extractFaceTensors - batchSize > 1 not supported");return[2,Dt(function(){var r=t.shape.slice(yi(t)?1:0),o=r[0],a=r[1],s=r[2],u=e.map(function(f){return f instanceof na?f.forSize(a,o).box:f}).map(function(f){return f.clipAtImageBorders(a,o)}),c=u.map(function(f){var h=f.x,p=f.y,v=f.width,g=f.height;return qD(t.as3D(o,a,s),[p,h,0],[g,v,s])});return c})]})})}function l7(t,e){return Bt(this,void 0,void 0,function(){var n,r;return Ft(this,function(o){switch(o.label){case 0:return n=nr.getEnv().fetch,[4,n(t,e)];case 1:if(r=o.sent(),!(r.status<400))throw new Error("failed to fetch: ("+r.status+") "+r.statusText+", from url: "+r.url);return[2,r]}})})}function c7(t){return Bt(this,void 0,void 0,function(){return Ft(this,function(e){switch(e.label){case 0:return[4,l7(t)];case 1:return[2,e.sent().json()]}})})}function wk(t,e){var n=e+"-weights_manifest.json";if(!t)return{modelBaseUri:"",manifestUri:n};if(t==="/")return{modelBaseUri:"/",manifestUri:"/"+n};var r=t.startsWith("http://")?"http://":t.startsWith("https://")?"https://":"";t=t.replace(r,"");var o=t.split("/").filter(function(u){return u}),a=t.endsWith(".json")?o[o.length-1]:n,s=r+(t.endsWith(".json")?o.slice(0,o.length-1):o).join("/");return s=t.startsWith("/")?"/"+s:s,{modelBaseUri:s,manifestUri:s==="/"?"/"+a:s+"/"+a}}function f7(t,e){return Bt(this,void 0,void 0,function(){var n,r,o,a;return Ft(this,function(s){switch(s.label){case 0:return n=wk(t,e),r=n.manifestUri,o=n.modelBaseUri,[4,c7(r)];case 1:return a=s.sent(),[2,ck.loadWeights(a,o)]}})})}var Ba=function(){function t(e){this._name=e,this._params=void 0,this._paramMappings=[]}return Object.defineProperty(t.prototype,"params",{get:function(){return this._params},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMappings",{get:function(){return this._paramMappings},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isLoaded",{get:function(){return!!this.params},enumerable:!0,configurable:!0}),t.prototype.getParamFromPath=function(e){var n=this.traversePropertyPath(e),r=n.obj,o=n.objProp;return r[o]},t.prototype.reassignParamFromPath=function(e,n){var r=this.traversePropertyPath(e),o=r.obj,a=r.objProp;o[a].dispose(),o[a]=n},t.prototype.getParamList=function(){var e=this;return this._paramMappings.map(function(n){var r=n.paramPath;return{path:r,tensor:e.getParamFromPath(r)}})},t.prototype.getTrainableParams=function(){return this.getParamList().filter(function(e){return e.tensor instanceof qu})},t.prototype.getFrozenParams=function(){return this.getParamList().filter(function(e){return!(e.tensor instanceof qu)})},t.prototype.variable=function(){var e=this;this.getFrozenParams().forEach(function(n){var r=n.path,o=n.tensor;e.reassignParamFromPath(r,o.variable())})},t.prototype.freeze=function(){var e=this;this.getTrainableParams().forEach(function(n){var r=n.path,o=n.tensor,a=Un(o.dataSync());o.dispose(),e.reassignParamFromPath(r,a)})},t.prototype.dispose=function(e){e===void 0&&(e=!0),this.getParamList().forEach(function(n){if(e&&n.tensor.isDisposed)throw new Error("param tensor has already been disposed for path "+n.path);n.tensor.dispose()}),this._params=void 0},t.prototype.serializeParams=function(){return new Float32Array(this.getParamList().map(function(e){var n=e.tensor;return Array.from(n.dataSync())}).reduce(function(e,n){return e.concat(n)}))},t.prototype.load=function(e){return Bt(this,void 0,void 0,function(){return Ft(this,function(n){switch(n.label){case 0:return e instanceof Float32Array?(this.extractWeights(e),[2]):[4,this.loadFromUri(e)];case 1:return n.sent(),[2]}})})},t.prototype.loadFromUri=function(e){return Bt(this,void 0,void 0,function(){var n;return Ft(this,function(r){switch(r.label){case 0:if(e&&typeof e!="string")throw new Error(this._name+".loadFromUri - expected model uri");return[4,f7(e,this.getDefaultModelName())];case 1:return n=r.sent(),this.loadFromWeightMap(n),[2]}})})},t.prototype.loadFromDisk=function(e){return Bt(this,void 0,void 0,function(){var n,r,o,a,s,u,c,f,h,p;return Ft(this,function(v){switch(v.label){case 0:if(e&&typeof e!="string")throw new Error(this._name+".loadFromDisk - expected model file path");return n=nr.getEnv().readFile,r=wk(e,this.getDefaultModelName()),o=r.manifestUri,a=r.modelBaseUri,s=function(g){return Promise.all(g.map(function(y){return n(y).then(function(x){return x.buffer})}))},u=ck.weightsLoaderFactory(s),h=(f=JSON).parse,[4,n(o)];case 1:return c=h.apply(f,[v.sent().toString()]),[4,u(c,a)];case 2:return p=v.sent(),this.loadFromWeightMap(p),[2]}})})},t.prototype.loadFromWeightMap=function(e){var n=this.extractParamsFromWeigthMap(e),r=n.paramMappings,o=n.params;this._paramMappings=r,this._params=o},t.prototype.extractWeights=function(e){var n=this.extractParams(e),r=n.paramMappings,o=n.params;this._paramMappings=r,this._params=o},t.prototype.traversePropertyPath=function(e){if(!this.params)throw new Error("traversePropertyPath - model has no loaded params");var n=e.split("/").reduce(function(a,s){if(!a.nextObj.hasOwnProperty(s))throw new Error("traversePropertyPath - object does not have property "+s+", for path "+e);return{obj:a.nextObj,objProp:s,nextObj:a.nextObj[s]}},{nextObj:this.params}),r=n.obj,o=n.objProp;if(!r||!o||!(r[o]instanceof Ye))throw new Error("traversePropertyPath - parameter is not a tensor, for path "+e);return{obj:r,objProp:o}},t}();function Or(t,e,n){return Dt(function(){var r=Yb(t,e.depthwise_filter,e.pointwise_filter,n,"same");return r=ie(r,e.bias),r})}function cy(t,e,n){return n===void 0&&(n=!1),Dt(function(){var r=Ze(n?ie(so(t,e.conv0.filters,[2,2],"same"),e.conv0.bias):Or(t,e.conv0,[2,2])),o=Or(r,e.conv1,[1,1]),a=Ze(ie(r,o)),s=Or(a,e.conv2,[1,1]);return Ze(ie(r,ie(o,s)))})}function lh(t,e,n,r){return n===void 0&&(n=!1),r===void 0&&(r=!0),Dt(function(){var o=Ze(n?ie(so(t,e.conv0.filters,r?[2,2]:[1,1],"same"),e.conv0.bias):Or(t,e.conv0,r?[2,2]:[1,1])),a=Or(o,e.conv1,[1,1]),s=Ze(ie(o,a)),u=Or(s,e.conv2,[1,1]),c=Ze(ie(o,ie(a,u))),f=Or(c,e.conv3,[1,1]);return Ze(ie(o,ie(a,ie(u,f))))})}function vo(t,e,n,r){return n===void 0&&(n="same"),r===void 0&&(r=!1),Dt(function(){var o=ie(so(t,e.filters,[1,1],n),e.bias);return r?Ze(o):o})}function Fa(t,e){Object.keys(t).forEach(function(n){e.some(function(r){return r.originalPath===n})||t[n].dispose()})}function tm(t,e){return function(n,r,o,a){var s=fr(t(n*r*o*o),[o,o,n,r]),u=gn(t(r));return e.push({paramPath:a+"/filters"},{paramPath:a+"/bias"}),{filters:s,bias:u}}}function mx(t,e){return function(n,r,o){var a=vi(t(n*r),[n,r]),s=gn(t(r));return e.push({paramPath:o+"/weights"},{paramPath:o+"/bias"}),{weights:a,bias:s}}}var Sk=function(){function t(e,n,r){this.depthwise_filter=e,this.pointwise_filter=n,this.bias=r}return t}();function vx(t,e){return function(n,r,o){var a=fr(t(9*n),[3,3,n,1]),s=fr(t(n*r),[1,1,n,r]),u=gn(t(r));return e.push({paramPath:o+"/depthwise_filter"},{paramPath:o+"/pointwise_filter"},{paramPath:o+"/bias"}),new Sk(a,s,u)}}function gx(t){return function(e){var n=t(e+"/depthwise_filter",4),r=t(e+"/pointwise_filter",4),o=t(e+"/bias",1);return new Sk(n,r,o)}}function _i(t,e){return function(n,r,o){var a=t[n];if(!Yp(a,r))throw new Error("expected weightMap["+n+"] to be a Tensor"+r+"D, instead have "+a);return e.push({originalPath:n,paramPath:o||n}),a}}function La(t){var e=t;function n(o){var a=e.slice(0,o);return e=e.slice(o),a}function r(){return e}return{extractWeights:n,getRemainingWeights:r}}function Ck(t,e){var n=tm(t,e),r=vx(t,e);function o(s,u,c,f){f===void 0&&(f=!1);var h=f?n(s,u,3,c+"/conv0"):r(s,u,c+"/conv0"),p=r(u,u,c+"/conv1"),v=r(u,u,c+"/conv2");return{conv0:h,conv1:p,conv2:v}}function a(s,u,c,f){f===void 0&&(f=!1);var h=o(s,u,c,f),p=h.conv0,v=h.conv1,g=h.conv2,y=r(u,u,c+"/conv3");return{conv0:p,conv1:v,conv2:g,conv3:y}}return{extractDenseBlock3Params:o,extractDenseBlock4Params:a}}function d7(t){var e=[],n=La(t),r=n.extractWeights,o=n.getRemainingWeights,a=Ck(r,e).extractDenseBlock4Params,s=a(3,32,"dense0",!0),u=a(32,64,"dense1"),c=a(64,128,"dense2"),f=a(128,256,"dense3");if(o().length!==0)throw new Error("weights remaing after extract: "+o().length);return{paramMappings:e,params:{dense0:s,dense1:u,dense2:c,dense3:f}}}function Ek(t){return function(e){var n=t(e+"/filters",4),r=t(e+"/bias",1);return{filters:n,bias:r}}}function Tk(t,e){var n=_i(t,e),r=Ek(n),o=gx(n);function a(u,c){c===void 0&&(c=!1);var f=c?r(u+"/conv0"):o(u+"/conv0"),h=o(u+"/conv1"),p=o(u+"/conv2");return{conv0:f,conv1:h,conv2:p}}function s(u,c){c===void 0&&(c=!1);var f=c?r(u+"/conv0"):o(u+"/conv0"),h=o(u+"/conv1"),p=o(u+"/conv2"),v=o(u+"/conv3");return{conv0:f,conv1:h,conv2:p,conv3:v}}return{extractDenseBlock3Params:a,extractDenseBlock4Params:s}}function h7(t){var e=[],n=Tk(t,e).extractDenseBlock4Params,r={dense0:n("dense0",!0),dense1:n("dense1"),dense2:n("dense2"),dense3:n("dense3")};return Fa(t,e),{params:r,paramMappings:e}}var Rk=function(t){Kt(e,t);function e(){return t.call(this,"FaceFeatureExtractor")||this}return e.prototype.forwardInput=function(n){var r=this.params;if(!r)throw new Error("FaceFeatureExtractor - load model before inference");return Dt(function(){var o=n.toBatchTensor(112,!0),a=[122.782,117.001,104.298],s=_f(o,a).div(Ct(255)),u=lh(s,r.dense0,!0);return u=lh(u,r.dense1),u=lh(u,r.dense2),u=lh(u,r.dense3),u=Rf(u,[7,7],[2,2],"valid"),u})},e.prototype.forward=function(n){return Bt(this,void 0,void 0,function(){var r;return Ft(this,function(o){switch(o.label){case 0:return r=this.forwardInput,[4,Nn(n)];case 1:return[2,r.apply(this,[o.sent()])]}})})},e.prototype.getDefaultModelName=function(){return"face_feature_extractor_model"},e.prototype.extractParamsFromWeigthMap=function(n){return h7(n)},e.prototype.extractParams=function(n){return d7(n)},e}(Ba);function Bo(t,e){return Dt(function(){return ie(qp(t,e.weights),e.bias)})}function p7(t,e,n){var r=[],o=La(t),a=o.extractWeights,s=o.getRemainingWeights,u=mx(a,r),c=u(e,n,"fc");if(s().length!==0)throw new Error("weights remaing after extract: "+s().length);return{paramMappings:r,params:{fc:c}}}function m7(t){var e=[],n=_i(t,e);function r(a){var s=n(a+"/weights",2),u=n(a+"/bias",1);return{weights:s,bias:u}}var o={fc:r("fc")};return Fa(t,e),{params:o,paramMappings:e}}function Ak(t){var e={},n={};return Object.keys(t).forEach(function(r){var o=r.startsWith("fc")?n:e;o[r]=t[r]}),{featureExtractorMap:e,classifierMap:n}}var _k=function(t){Kt(e,t);function e(n,r){var o=t.call(this,n)||this;return o._faceFeatureExtractor=r,o}return Object.defineProperty(e.prototype,"faceFeatureExtractor",{get:function(){return this._faceFeatureExtractor},enumerable:!0,configurable:!0}),e.prototype.runNet=function(n){var r=this,o=this.params;if(!o)throw new Error(this._name+" - load model before inference");return Dt(function(){var a=n instanceof fp?r.faceFeatureExtractor.forwardInput(n):n;return Bo(a.as2D(a.shape[0],-1),o.fc)})},e.prototype.dispose=function(n){n===void 0&&(n=!0),this.faceFeatureExtractor.dispose(n),t.prototype.dispose.call(this,n)},e.prototype.loadClassifierParams=function(n){var r=this.extractClassifierParams(n),o=r.params,a=r.paramMappings;this._params=o,this._paramMappings=a},e.prototype.extractClassifierParams=function(n){return p7(n,this.getClassifierChannelsIn(),this.getClassifierChannelsOut())},e.prototype.extractParamsFromWeigthMap=function(n){var r=Ak(n),o=r.featureExtractorMap,a=r.classifierMap;return this.faceFeatureExtractor.loadFromWeightMap(o),m7(a)},e.prototype.extractParams=function(n){var r=this.getClassifierChannelsIn(),o=this.getClassifierChannelsOut(),a=o*r+o,s=n.slice(0,n.length-a),u=n.slice(n.length-a);return this.faceFeatureExtractor.extractWeights(s),this.extractClassifierParams(u)},e}(Ba),PT=["neutral","happy","sad","angry","fearful","disgusted","surprised"],v7=function(){function t(e){var n=this;if(e.length!==7)throw new Error("FaceExpressions.constructor - expected probabilities.length to be 7, have: "+e.length);PT.forEach(function(r,o){n[r]=e[o]})}return t.prototype.asSortedArray=function(){var e=this;return PT.map(function(n){return{expression:n,probability:e[n]}}).sort(function(n,r){return r.probability-n.probability})},t}(),g7=function(t){Kt(e,t);function e(n){return n===void 0&&(n=new Rk),t.call(this,"FaceExpressionNet",n)||this}return e.prototype.forwardInput=function(n){var r=this;return Dt(function(){return Pa(r.runNet(n))})},e.prototype.forward=function(n){return Bt(this,void 0,void 0,function(){var r;return Ft(this,function(o){switch(o.label){case 0:return r=this.forwardInput,[4,Nn(n)];case 1:return[2,r.apply(this,[o.sent()])]}})})},e.prototype.predictExpressions=function(n){return Bt(this,void 0,void 0,function(){var r,o,a,s,u=this;return Ft(this,function(c){switch(c.label){case 0:return[4,Nn(n)];case 1:return r=c.sent(),[4,this.forwardInput(r)];case 2:return o=c.sent(),[4,Promise.all(Sn(o).map(function(f){return Bt(u,void 0,void 0,function(){var h;return Ft(this,function(p){switch(p.label){case 0:return[4,f.data()];case 1:return h=p.sent(),f.dispose(),[2,h]}})})}))];case 3:return a=c.sent(),o.dispose(),s=a.map(function(f){return new v7(f)}),[2,r.isBatchInput?s:s[0]]}})})},e.prototype.getDefaultModelName=function(){return"face_expression_model"},e.prototype.getClassifierChannelsIn=function(){return 256},e.prototype.getClassifierChannelsOut=function(){return 7},e}(_k);function Dk(t,e){var n={expressions:e};return Object.assign({},t,n)}function y7(t){return r7(t)&&t.landmarks instanceof cp&&t.unshiftedLandmarks instanceof cp&&t.alignedRect instanceof na}function yx(t,e){var n=t.detection.box,r=e.shiftBy(n.x,n.y),o=r.align(),a=t.detection.imageDims,s=new na(t.detection.score,o.rescale(a.reverse()),a),u={landmarks:r,unshiftedLandmarks:e,alignedRect:s};return Object.assign({},t,u)}function b7(t,e){var n=tm(t,e),r=vx(t,e);function o(s,u,c){var f=r(s,u,c+"/separable_conv0"),h=r(u,u,c+"/separable_conv1"),p=n(s,u,1,c+"/expansion_conv");return{separable_conv0:f,separable_conv1:h,expansion_conv:p}}function a(s,u){var c=r(s,s,u+"/separable_conv0"),f=r(s,s,u+"/separable_conv1"),h=r(s,s,u+"/separable_conv2");return{separable_conv0:c,separable_conv1:f,separable_conv2:h}}return{extractConvParams:n,extractSeparableConvParams:r,extractReductionBlockParams:o,extractMainBlockParams:a}}function x7(t,e){var n=[],r=La(t),o=r.extractWeights,a=r.getRemainingWeights,s=b7(o,n),u=s.extractConvParams,c=s.extractSeparableConvParams,f=s.extractReductionBlockParams,h=s.extractMainBlockParams,p=u(3,32,3,"entry_flow/conv_in"),v=f(32,64,"entry_flow/reduction_block_0"),g=f(64,128,"entry_flow/reduction_block_1"),y={conv_in:p,reduction_block_0:v,reduction_block_1:g},x={};Zc(e,0,1).forEach(function(E){x["main_block_"+E]=h(128,"middle_flow/main_block_"+E)});var w=f(128,256,"exit_flow/reduction_block"),S=c(256,512,"exit_flow/separable_conv"),A={reduction_block:w,separable_conv:S};if(a().length!==0)throw new Error("weights remaing after extract: "+a().length);return{paramMappings:n,params:{entry_flow:y,middle_flow:x,exit_flow:A}}}function w7(t,e){var n=_i(t,e),r=Ek(n),o=gx(n);function a(u){var c=o(u+"/separable_conv0"),f=o(u+"/separable_conv1"),h=r(u+"/expansion_conv");return{separable_conv0:c,separable_conv1:f,expansion_conv:h}}function s(u){var c=o(u+"/separable_conv0"),f=o(u+"/separable_conv1"),h=o(u+"/separable_conv2");return{separable_conv0:c,separable_conv1:f,separable_conv2:h}}return{extractConvParams:r,extractSeparableConvParams:o,extractReductionBlockParams:a,extractMainBlockParams:s}}function S7(t,e){var n=[],r=w7(t,n),o=r.extractConvParams,a=r.extractSeparableConvParams,s=r.extractReductionBlockParams,u=r.extractMainBlockParams,c=o("entry_flow/conv_in"),f=s("entry_flow/reduction_block_0"),h=s("entry_flow/reduction_block_1"),p={conv_in:c,reduction_block_0:f,reduction_block_1:h},v={};Zc(e,0,1).forEach(function(w){v["main_block_"+w]=u("middle_flow/main_block_"+w)});var g=s("exit_flow/reduction_block"),y=a("exit_flow/separable_conv"),x={reduction_block:g,separable_conv:y};return Fa(t,n),{params:{entry_flow:p,middle_flow:v,exit_flow:x},paramMappings:n}}function kk(t,e,n){return ie(so(t,e.filters,n,"same"),e.bias)}function fy(t,e,n){n===void 0&&(n=!0);var r=n?Ze(t):t;return r=Or(r,e.separable_conv0,[1,1]),r=Or(Ze(r),e.separable_conv1,[1,1]),r=kn(r,[3,3],[2,2],"same"),r=ie(r,kk(t,e.expansion_conv,[2,2])),r}function C7(t,e){var n=Or(Ze(t),e.separable_conv0,[1,1]);return n=Or(Ze(n),e.separable_conv1,[1,1]),n=Or(Ze(n),e.separable_conv2,[1,1]),n=ie(n,t),n}var E7=function(t){Kt(e,t);function e(n){var r=t.call(this,"TinyXception")||this;return r._numMainBlocks=n,r}return e.prototype.forwardInput=function(n){var r=this,o=this.params;if(!o)throw new Error("TinyXception - load model before inference");return Dt(function(){var a=n.toBatchTensor(112,!0),s=[122.782,117.001,104.298],u=_f(a,s).div(Ct(256)),c=Ze(kk(u,o.entry_flow.conv_in,[2,2]));return c=fy(c,o.entry_flow.reduction_block_0,!1),c=fy(c,o.entry_flow.reduction_block_1),Zc(r._numMainBlocks,0,1).forEach(function(f){c=C7(c,o.middle_flow["main_block_"+f])}),c=fy(c,o.exit_flow.reduction_block),c=Ze(Or(c,o.exit_flow.separable_conv,[1,1])),c})},e.prototype.forward=function(n){return Bt(this,void 0,void 0,function(){var r;return Ft(this,function(o){switch(o.label){case 0:return r=this.forwardInput,[4,Nn(n)];case 1:return[2,r.apply(this,[o.sent()])]}})})},e.prototype.getDefaultModelName=function(){return"tiny_xception_model"},e.prototype.extractParamsFromWeigthMap=function(n){return S7(n,this._numMainBlocks)},e.prototype.extractParams=function(n){return x7(n,this._numMainBlocks)},e}(Ba);function T7(t){var e=[],n=La(t),r=n.extractWeights,o=n.getRemainingWeights,a=mx(r,e),s=a(512,1,"fc/age"),u=a(512,2,"fc/gender");if(o().length!==0)throw new Error("weights remaing after extract: "+o().length);return{paramMappings:e,params:{fc:{age:s,gender:u}}}}function R7(t){var e=[],n=_i(t,e);function r(a){var s=n(a+"/weights",2),u=n(a+"/bias",1);return{weights:s,bias:u}}var o={fc:{age:r("fc/age"),gender:r("fc/gender")}};return Fa(t,e),{params:o,paramMappings:e}}var dp;(function(t){t.FEMALE="female",t.MALE="male"})(dp||(dp={}));var A7=function(t){Kt(e,t);function e(n){n===void 0&&(n=new E7(2));var r=t.call(this,"AgeGenderNet")||this;return r._faceFeatureExtractor=n,r}return Object.defineProperty(e.prototype,"faceFeatureExtractor",{get:function(){return this._faceFeatureExtractor},enumerable:!0,configurable:!0}),e.prototype.runNet=function(n){var r=this,o=this.params;if(!o)throw new Error(this._name+" - load model before inference");return Dt(function(){var a=n instanceof fp?r.faceFeatureExtractor.forwardInput(n):n,s=Rf(a,[7,7],[2,2],"valid").as2D(a.shape[0],-1),u=Bo(s,o.fc.age).as1D(),c=Bo(s,o.fc.gender);return{age:u,gender:c}})},e.prototype.forwardInput=function(n){var r=this;return Dt(function(){var o=r.runNet(n),a=o.age,s=o.gender;return{age:a,gender:Pa(s)}})},e.prototype.forward=function(n){return Bt(this,void 0,void 0,function(){var r;return Ft(this,function(o){switch(o.label){case 0:return r=this.forwardInput,[4,Nn(n)];case 1:return[2,r.apply(this,[o.sent()])]}})})},e.prototype.predictAgeAndGender=function(n){return Bt(this,void 0,void 0,function(){var r,o,a,s,u,c,f=this;return Ft(this,function(h){switch(h.label){case 0:return[4,Nn(n)];case 1:return r=h.sent(),[4,this.forwardInput(r)];case 2:return o=h.sent(),a=Sn(o.age),s=Sn(o.gender),u=a.map(function(p,v){return{ageTensor:p,genderTensor:s[v]}}),[4,Promise.all(u.map(function(p){var v=p.ageTensor,g=p.genderTensor;return Bt(f,void 0,void 0,function(){var y,x,w,S,A;return Ft(this,function(E){switch(E.label){case 0:return[4,v.data()];case 1:return y=E.sent()[0],[4,g.data()];case 2:return x=E.sent()[0],w=x>.5,S=w?dp.MALE:dp.FEMALE,A=w?x:1-x,v.dispose(),g.dispose(),[2,{age:y,gender:S,genderProbability:A}]}})})}))];case 3:return c=h.sent(),o.age.dispose(),o.gender.dispose(),[2,r.isBatchInput?c:c[0]]}})})},e.prototype.getDefaultModelName=function(){return"age_gender_model"},e.prototype.dispose=function(n){n===void 0&&(n=!0),this.faceFeatureExtractor.dispose(n),t.prototype.dispose.call(this,n)},e.prototype.loadClassifierParams=function(n){var r=this.extractClassifierParams(n),o=r.params,a=r.paramMappings;this._params=o,this._paramMappings=a},e.prototype.extractClassifierParams=function(n){return T7(n)},e.prototype.extractParamsFromWeigthMap=function(n){var r=Ak(n),o=r.featureExtractorMap,a=r.classifierMap;return this.faceFeatureExtractor.loadFromWeightMap(o),R7(a)},e.prototype.extractParams=function(n){var r=1539,o=n.slice(0,n.length-r),a=n.slice(n.length-r);return this.faceFeatureExtractor.extractWeights(o),this.extractClassifierParams(a)},e}(Ba),Mk=function(t){Kt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.postProcess=function(n,r,o){var a=o.map(function(u){var c=u.width,f=u.height,h=r/Math.max(f,c);return{width:c*h,height:f*h}}),s=a.length;return Dt(function(){var u=function(v,g){return Ir([Wo([68],v),Wo([68],g)],1).as2D(1,136).as1D()},c=function(v,g){var y=a[v],x=y.width,w=y.height;return g(x,w)?Math.abs(x-w)/2:0},f=function(v){return c(v,function(g,y){return g<y})},h=function(v){return c(v,function(g,y){return y<g})},p=n.mul(Wo([s,136],r)).sub(Ir(Array.from(Array(s),function(v,g){return u(f(g),h(g))}))).div(Ir(Array.from(Array(s),function(v,g){return u(a[g].width,a[g].height)})));return p})},e.prototype.forwardInput=function(n){var r=this;return Dt(function(){var o=r.runNet(n);return r.postProcess(o,n.inputSize,n.inputDimensions.map(function(a){var s=a[0],u=a[1];return{height:s,width:u}}))})},e.prototype.forward=function(n){return Bt(this,void 0,void 0,function(){var r;return Ft(this,function(o){switch(o.label){case 0:return r=this.forwardInput,[4,Nn(n)];case 1:return[2,r.apply(this,[o.sent()])]}})})},e.prototype.detectLandmarks=function(n){return Bt(this,void 0,void 0,function(){var r,o,a,s=this;return Ft(this,function(u){switch(u.label){case 0:return[4,Nn(n)];case 1:return r=u.sent(),o=Dt(function(){return Sn(s.forwardInput(r))}),[4,Promise.all(o.map(function(c,f){return Bt(s,void 0,void 0,function(){var h,p,v,g,y;return Ft(this,function(x){switch(x.label){case 0:return v=(p=Array).from,[4,c.data()];case 1:return h=v.apply(p,[x.sent()]),g=h.filter(function(w,S){return AT(S)}),y=h.filter(function(w,S){return!AT(S)}),[2,new n7(Array(68).fill(0).map(function(w,S){return new Te(g[S],y[S])}),{height:r.getInputHeight(f),width:r.getInputWidth(f)})]}})})}))];case 2:return a=u.sent(),o.forEach(function(c){return c.dispose()}),[2,r.isBatchInput?a:a[0]]}})})},e.prototype.getClassifierChannelsOut=function(){return 136},e}(_k),Nk=function(t){Kt(e,t);function e(n){return n===void 0&&(n=new Rk),t.call(this,"FaceLandmark68Net",n)||this}return e.prototype.getDefaultModelName=function(){return"face_landmark_68_model"},e.prototype.getClassifierChannelsIn=function(){return 256},e}(Mk);function _7(t){var e=[],n=Tk(t,e).extractDenseBlock3Params,r={dense0:n("dense0",!0),dense1:n("dense1"),dense2:n("dense2")};return Fa(t,e),{params:r,paramMappings:e}}function D7(t){var e=[],n=La(t),r=n.extractWeights,o=n.getRemainingWeights,a=Ck(r,e).extractDenseBlock3Params,s=a(3,32,"dense0",!0),u=a(32,64,"dense1"),c=a(64,128,"dense2");if(o().length!==0)throw new Error("weights remaing after extract: "+o().length);return{paramMappings:e,params:{dense0:s,dense1:u,dense2:c}}}var k7=function(t){Kt(e,t);function e(){return t.call(this,"TinyFaceFeatureExtractor")||this}return e.prototype.forwardInput=function(n){var r=this.params;if(!r)throw new Error("TinyFaceFeatureExtractor - load model before inference");return Dt(function(){var o=n.toBatchTensor(112,!0),a=[122.782,117.001,104.298],s=_f(o,a).div(Ct(255)),u=cy(s,r.dense0,!0);return u=cy(u,r.dense1),u=cy(u,r.dense2),u=Rf(u,[14,14],[2,2],"valid"),u})},e.prototype.forward=function(n){return Bt(this,void 0,void 0,function(){var r;return Ft(this,function(o){switch(o.label){case 0:return r=this.forwardInput,[4,Nn(n)];case 1:return[2,r.apply(this,[o.sent()])]}})})},e.prototype.getDefaultModelName=function(){return"face_feature_extractor_tiny_model"},e.prototype.extractParamsFromWeigthMap=function(n){return _7(n)},e.prototype.extractParams=function(n){return D7(n)},e}(Ba),M7=function(t){Kt(e,t);function e(n){return n===void 0&&(n=new k7),t.call(this,"FaceLandmark68TinyNet",n)||this}return e.prototype.getDefaultModelName=function(){return"face_landmark_68_tiny_model"},e.prototype.getClassifierChannelsIn=function(){return 128},e}(Mk);(function(t){Kt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(Nk);function N7(t,e){return ie(Zn(t,e.weights),e.biases)}function bx(t,e,n,r,o){o===void 0&&(o="same");var a=e.conv,s=a.filters,u=a.bias,c=so(t,s,n,o);return c=ie(c,u),c=N7(c,e.scale),r?Ze(c):c}function O7(t,e){return bx(t,e,[1,1],!0)}function Ok(t,e){return bx(t,e,[1,1],!1)}function Pk(t,e){return bx(t,e,[2,2],!0,"valid")}function P7(t,e){function n(u,c,f){var h=t(u),p=h.length/(c*f*f);if($$(p))throw new Error("depth has to be an integer: "+p+", weights.length: "+h.length+", numFilters: "+c+", filterSize: "+f);return Dt(function(){return wi(fr(h,[c,p,f,f]),[2,3,1,0])})}function r(u,c,f,h){var p=n(u,c,f),v=gn(t(c));return e.push({paramPath:h+"/filters"},{paramPath:h+"/bias"}),{filters:p,bias:v}}function o(u,c){var f=gn(t(u)),h=gn(t(u));return e.push({paramPath:c+"/weights"},{paramPath:c+"/biases"}),{weights:f,biases:h}}function a(u,c,f,h){var p=r(u,c,f,h+"/conv"),v=o(c,h+"/scale");return{conv:p,scale:v}}function s(u,c,f,h,p){p===void 0&&(p=!1);var v=a((p?.5:1)*u,c,f,h+"/conv1"),g=a(u,c,f,h+"/conv2");return{conv1:v,conv2:g}}return{extractConvLayerParams:a,extractResidualLayerParams:s}}function I7(t){var e=La(t),n=e.extractWeights,r=e.getRemainingWeights,o=[],a=P7(n,o),s=a.extractConvLayerParams,u=a.extractResidualLayerParams,c=s(4704,32,7,"conv32_down"),f=u(9216,32,3,"conv32_1"),h=u(9216,32,3,"conv32_2"),p=u(9216,32,3,"conv32_3"),v=u(36864,64,3,"conv64_down",!0),g=u(36864,64,3,"conv64_1"),y=u(36864,64,3,"conv64_2"),x=u(36864,64,3,"conv64_3"),w=u(147456,128,3,"conv128_down",!0),S=u(147456,128,3,"conv128_1"),A=u(147456,128,3,"conv128_2"),E=u(589824,256,3,"conv256_down",!0),T=u(589824,256,3,"conv256_1"),R=u(589824,256,3,"conv256_2"),_=u(589824,256,3,"conv256_down_out"),M=Dt(function(){return wi(vi(n(256*128),[128,256]),[1,0])});if(o.push({paramPath:"fc"}),r().length!==0)throw new Error("weights remaing after extract: "+r().length);var k={conv32_down:c,conv32_1:f,conv32_2:h,conv32_3:p,conv64_down:v,conv64_1:g,conv64_2:y,conv64_3:x,conv128_down:w,conv128_1:S,conv128_2:A,conv256_down:E,conv256_1:T,conv256_2:R,conv256_down_out:_,fc:M};return{params:k,paramMappings:o}}function B7(t,e){var n=_i(t,e);function r(s){var u=n(s+"/scale/weights",1),c=n(s+"/scale/biases",1);return{weights:u,biases:c}}function o(s){var u=n(s+"/conv/filters",4),c=n(s+"/conv/bias",1),f=r(s);return{conv:{filters:u,bias:c},scale:f}}function a(s){return{conv1:o(s+"/conv1"),conv2:o(s+"/conv2")}}return{extractConvLayerParams:o,extractResidualLayerParams:a}}function F7(t){var e=[],n=B7(t,e),r=n.extractConvLayerParams,o=n.extractResidualLayerParams,a=r("conv32_down"),s=o("conv32_1"),u=o("conv32_2"),c=o("conv32_3"),f=o("conv64_down"),h=o("conv64_1"),p=o("conv64_2"),v=o("conv64_3"),g=o("conv128_down"),y=o("conv128_1"),x=o("conv128_2"),w=o("conv256_down"),S=o("conv256_1"),A=o("conv256_2"),E=o("conv256_down_out"),T=t.fc;if(e.push({originalPath:"fc",paramPath:"fc"}),!G$(T))throw new Error("expected weightMap[fc] to be a Tensor2D, instead have "+T);var R={conv32_down:a,conv32_1:s,conv32_2:u,conv32_3:c,conv64_down:f,conv64_1:h,conv64_2:p,conv64_3:v,conv128_down:g,conv128_1:y,conv128_2:x,conv256_down:w,conv256_1:S,conv256_2:A,conv256_down_out:E,fc:T};return Fa(t,e),{params:R,paramMappings:e}}function _o(t,e){var n=O7(t,e.conv1);return n=Ok(n,e.conv2),n=ie(n,t),n=Ze(n),n}function ch(t,e){var n=Pk(t,e.conv1);n=Ok(n,e.conv2);var r=Rf(t,2,2,"valid"),o=We(r.shape),a=r.shape[3]!==n.shape[3],s=r.shape[1]!==n.shape[1]||r.shape[2]!==n.shape[2];if(s){var u=Pc(n.shape);u[1]=1;var c=We(u);n=wn([n,c],1);var f=Pc(n.shape);f[2]=1;var h=We(f);n=wn([n,h],2)}return r=a?wn([r,o],3):r,n=ie(r,n),n=Ze(n),n}var L7=function(t){Kt(e,t);function e(){return t.call(this,"FaceRecognitionNet")||this}return e.prototype.forwardInput=function(n){var r=this.params;if(!r)throw new Error("FaceRecognitionNet - load model before inference");return Dt(function(){var o=n.toBatchTensor(150,!0).toFloat(),a=[122.782,117.001,104.298],s=_f(o,a).div(Ct(256)),u=Pk(s,r.conv32_down);u=kn(u,3,2,"valid"),u=_o(u,r.conv32_1),u=_o(u,r.conv32_2),u=_o(u,r.conv32_3),u=ch(u,r.conv64_down),u=_o(u,r.conv64_1),u=_o(u,r.conv64_2),u=_o(u,r.conv64_3),u=ch(u,r.conv128_down),u=_o(u,r.conv128_1),u=_o(u,r.conv128_2),u=ch(u,r.conv256_down),u=_o(u,r.conv256_1),u=_o(u,r.conv256_2),u=ch(u,r.conv256_down_out);var c=u.mean([1,2]),f=qp(c,r.fc);return f})},e.prototype.forward=function(n){return Bt(this,void 0,void 0,function(){var r;return Ft(this,function(o){switch(o.label){case 0:return r=this.forwardInput,[4,Nn(n)];case 1:return[2,r.apply(this,[o.sent()])]}})})},e.prototype.computeFaceDescriptor=function(n){return Bt(this,void 0,void 0,function(){var r,o,a,s=this;return Ft(this,function(u){switch(u.label){case 0:return[4,Nn(n)];case 1:return r=u.sent(),o=Dt(function(){return Sn(s.forwardInput(r))}),[4,Promise.all(o.map(function(c){return c.data()}))];case 2:return a=u.sent(),o.forEach(function(c){return c.dispose()}),[2,r.isBatchInput?a:a[0]]}})})},e.prototype.getDefaultModelName=function(){return"face_recognition_model"},e.prototype.extractParamsFromWeigthMap=function(n){return F7(n)},e.prototype.extractParams=function(n){return I7(n)},e}(Ba);function Ik(t,e){var n={descriptor:e};return Object.assign({},t,n)}function Bk(t,e){var n={age:e};return Object.assign({},t,n)}function Fk(t,e,n){var r={gender:e,genderProbability:n};return Object.assign({},t,r)}var Lk=function(){function t(e){var n=e===void 0?{}:e,r=n.minFaceSize,o=n.scaleFactor,a=n.maxNumScales,s=n.scoreThresholds,u=n.scaleSteps;if(this._name="MtcnnOptions",this._minFaceSize=r||20,this._scaleFactor=o||.709,this._maxNumScales=a||10,this._scoreThresholds=s||[.6,.7,.7],this._scaleSteps=u,typeof this._minFaceSize!="number"||this._minFaceSize<0)throw new Error(this._name+" - expected minFaceSize to be a number > 0");if(typeof this._scaleFactor!="number"||this._scaleFactor<=0||this._scaleFactor>=1)throw new Error(this._name+" - expected scaleFactor to be a number between 0 and 1");if(typeof this._maxNumScales!="number"||this._maxNumScales<0)throw new Error(this._name+" - expected maxNumScales to be a number > 0");if(!Array.isArray(this._scoreThresholds)||this._scoreThresholds.length!==3||this._scoreThresholds.some(function(c){return typeof c!="number"}))throw new Error(this._name+" - expected scoreThresholds to be an array of numbers of length 3");if(this._scaleSteps&&(!Array.isArray(this._scaleSteps)||this._scaleSteps.some(function(c){return typeof c!="number"})))throw new Error(this._name+" - expected scaleSteps to be an array of numbers")}return Object.defineProperty(t.prototype,"minFaceSize",{get:function(){return this._minFaceSize},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scaleFactor",{get:function(){return this._scaleFactor},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxNumScales",{get:function(){return this._maxNumScales},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scoreThresholds",{get:function(){return this._scoreThresholds},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scaleSteps",{get:function(){return this._scaleSteps},enumerable:!0,configurable:!0}),t}();function z7(t,e){function n(c,f){var h=fr(t(9*c),[3,3,c,1]),p=gn(t(c)),v=gn(t(c)),g=gn(t(c)),y=gn(t(c));return e.push({paramPath:f+"/filters"},{paramPath:f+"/batch_norm_scale"},{paramPath:f+"/batch_norm_offset"},{paramPath:f+"/batch_norm_mean"},{paramPath:f+"/batch_norm_variance"}),{filters:h,batch_norm_scale:p,batch_norm_offset:v,batch_norm_mean:g,batch_norm_variance:y}}function r(c,f,h,p,v){var g=fr(t(c*f*h*h),[h,h,c,f]),y=gn(t(f));return e.push({paramPath:p+"/filters"},{paramPath:p+"/"+(v?"batch_norm_offset":"bias")}),{filters:g,bias:y}}function o(c,f,h,p){var v=r(c,f,h,p,!0),g=v.filters,y=v.bias;return{filters:g,batch_norm_offset:y}}function a(c,f,h){var p=n(c,h+"/depthwise_conv"),v=o(c,f,1,h+"/pointwise_conv");return{depthwise_conv:p,pointwise_conv:v}}function s(){var c=o(3,32,3,"mobilenetv1/conv_0"),f=a(32,64,"mobilenetv1/conv_1"),h=a(64,128,"mobilenetv1/conv_2"),p=a(128,128,"mobilenetv1/conv_3"),v=a(128,256,"mobilenetv1/conv_4"),g=a(256,256,"mobilenetv1/conv_5"),y=a(256,512,"mobilenetv1/conv_6"),x=a(512,512,"mobilenetv1/conv_7"),w=a(512,512,"mobilenetv1/conv_8"),S=a(512,512,"mobilenetv1/conv_9"),A=a(512,512,"mobilenetv1/conv_10"),E=a(512,512,"mobilenetv1/conv_11"),T=a(512,1024,"mobilenetv1/conv_12"),R=a(1024,1024,"mobilenetv1/conv_13");return{conv_0:c,conv_1:f,conv_2:h,conv_3:p,conv_4:v,conv_5:g,conv_6:y,conv_7:x,conv_8:w,conv_9:S,conv_10:A,conv_11:E,conv_12:T,conv_13:R}}function u(){var c=o(1024,256,1,"prediction_layer/conv_0"),f=o(256,512,3,"prediction_layer/conv_1"),h=o(512,128,1,"prediction_layer/conv_2"),p=o(128,256,3,"prediction_layer/conv_3"),v=o(256,128,1,"prediction_layer/conv_4"),g=o(128,256,3,"prediction_layer/conv_5"),y=o(256,64,1,"prediction_layer/conv_6"),x=o(64,128,3,"prediction_layer/conv_7"),w=r(512,12,1,"prediction_layer/box_predictor_0/box_encoding_predictor"),S=r(512,9,1,"prediction_layer/box_predictor_0/class_predictor"),A=r(1024,24,1,"prediction_layer/box_predictor_1/box_encoding_predictor"),E=r(1024,18,1,"prediction_layer/box_predictor_1/class_predictor"),T=r(512,24,1,"prediction_layer/box_predictor_2/box_encoding_predictor"),R=r(512,18,1,"prediction_layer/box_predictor_2/class_predictor"),_=r(256,24,1,"prediction_layer/box_predictor_3/box_encoding_predictor"),M=r(256,18,1,"prediction_layer/box_predictor_3/class_predictor"),k=r(256,24,1,"prediction_layer/box_predictor_4/box_encoding_predictor"),N=r(256,18,1,"prediction_layer/box_predictor_4/class_predictor"),I=r(128,24,1,"prediction_layer/box_predictor_5/box_encoding_predictor"),z=r(128,18,1,"prediction_layer/box_predictor_5/class_predictor"),D={box_encoding_predictor:w,class_predictor:S},$={box_encoding_predictor:A,class_predictor:E},j={box_encoding_predictor:T,class_predictor:R},W={box_encoding_predictor:_,class_predictor:M},B={box_encoding_predictor:k,class_predictor:N},H={box_encoding_predictor:I,class_predictor:z};return{conv_0:c,conv_1:f,conv_2:h,conv_3:p,conv_4:v,conv_5:g,conv_6:y,conv_7:x,box_predictor_0:D,box_predictor_1:$,box_predictor_2:j,box_predictor_3:W,box_predictor_4:B,box_predictor_5:H}}return{extractMobilenetV1Params:s,extractPredictionLayerParams:u}}function V7(t){var e=[],n=La(t),r=n.extractWeights,o=n.getRemainingWeights,a=z7(r,e),s=a.extractMobilenetV1Params,u=a.extractPredictionLayerParams,c=s(),f=u(),h=Ib(r(5118*4),[1,5118,4]),p={extra_dim:h};if(e.push({paramPath:"output_layer/extra_dim"}),o().length!==0)throw new Error("weights remaing after extract: "+o().length);return{params:{mobilenetv1:c,prediction_layer:f,output_layer:p},paramMappings:e}}function U7(t,e){var n=_i(t,e);function r(f,h,p){var v=n(f+"/Conv2d_"+h+"_pointwise/weights",4,p+"/filters"),g=n(f+"/Conv2d_"+h+"_pointwise/convolution_bn_offset",1,p+"/batch_norm_offset");return{filters:v,batch_norm_offset:g}}function o(f){var h="mobilenetv1/conv_"+f,p="MobilenetV1/Conv2d_"+f+"_depthwise",v=h+"/depthwise_conv",g=h+"/pointwise_conv",y=n(p+"/depthwise_weights",4,v+"/filters"),x=n(p+"/BatchNorm/gamma",1,v+"/batch_norm_scale"),w=n(p+"/BatchNorm/beta",1,v+"/batch_norm_offset"),S=n(p+"/BatchNorm/moving_mean",1,v+"/batch_norm_mean"),A=n(p+"/BatchNorm/moving_variance",1,v+"/batch_norm_variance");return{depthwise_conv:{filters:y,batch_norm_scale:x,batch_norm_offset:w,batch_norm_mean:S,batch_norm_variance:A},pointwise_conv:r("MobilenetV1",f,g)}}function a(){return{conv_0:r("MobilenetV1",0,"mobilenetv1/conv_0"),conv_1:o(1),conv_2:o(2),conv_3:o(3),conv_4:o(4),conv_5:o(5),conv_6:o(6),conv_7:o(7),conv_8:o(8),conv_9:o(9),conv_10:o(10),conv_11:o(11),conv_12:o(12),conv_13:o(13)}}function s(f,h){var p=n(f+"/weights",4,h+"/filters"),v=n(f+"/biases",1,h+"/bias");return{filters:p,bias:v}}function u(f){var h=s("Prediction/BoxPredictor_"+f+"/BoxEncodingPredictor","prediction_layer/box_predictor_"+f+"/box_encoding_predictor"),p=s("Prediction/BoxPredictor_"+f+"/ClassPredictor","prediction_layer/box_predictor_"+f+"/class_predictor");return{box_encoding_predictor:h,class_predictor:p}}function c(){return{conv_0:r("Prediction",0,"prediction_layer/conv_0"),conv_1:r("Prediction",1,"prediction_layer/conv_1"),conv_2:r("Prediction",2,"prediction_layer/conv_2"),conv_3:r("Prediction",3,"prediction_layer/conv_3"),conv_4:r("Prediction",4,"prediction_layer/conv_4"),conv_5:r("Prediction",5,"prediction_layer/conv_5"),conv_6:r("Prediction",6,"prediction_layer/conv_6"),conv_7:r("Prediction",7,"prediction_layer/conv_7"),box_predictor_0:u(0),box_predictor_1:u(1),box_predictor_2:u(2),box_predictor_3:u(3),box_predictor_4:u(4),box_predictor_5:u(5)}}return{extractMobilenetV1Params:a,extractPredictionLayerParams:c}}function j7(t){var e=[],n=U7(t,e),r=n.extractMobilenetV1Params,o=n.extractPredictionLayerParams,a=t["Output/extra_dim"];if(e.push({originalPath:"Output/extra_dim",paramPath:"output_layer/extra_dim"}),!Qp(a))throw new Error("expected weightMap['Output/extra_dim'] to be a Tensor3D, instead have "+a);var s={mobilenetv1:r(),prediction_layer:o(),output_layer:{extra_dim:a}};return Fa(t,e),{params:s,paramMappings:e}}function Do(t,e,n){return Dt(function(){var r=so(t,e.filters,n,"same");return r=ie(r,e.batch_norm_offset),$b(r,0,6)})}var W7=.0010000000474974513;function H7(t,e,n){return Dt(function(){var r=$p(t,e.filters,n,"same");return r=ND(r,e.batch_norm_mean,e.batch_norm_variance,e.batch_norm_offset,e.batch_norm_scale,W7),$b(r,0,6)})}function G7(t){return[2,4,6,12].some(function(e){return e===t})?[2,2]:[1,1]}function $7(t,e){return Dt(function(){var n=null,r=Do(t,e.conv_0,[2,2]),o=[e.conv_1,e.conv_2,e.conv_3,e.conv_4,e.conv_5,e.conv_6,e.conv_7,e.conv_8,e.conv_9,e.conv_10,e.conv_11,e.conv_12,e.conv_13];if(o.forEach(function(a,s){var u=s+1,c=G7(u);r=H7(r,a.depthwise_conv,c),r=Do(r,a.pointwise_conv,[1,1]),u===11&&(n=r)}),n===null)throw new Error("mobileNetV1 - output of conv layer 11 is null");return{out:r,conv11:n}})}function q7(t,e,n,r,o){var a=t.shape[0],s=Math.min(n,a),u=e.map(function(h,p){return{score:h,boxIndex:p}}).filter(function(h){return h.score>o}).sort(function(h,p){return p.score-h.score}),c=function(h){return h<=r?1:0},f=[];return u.forEach(function(h){if(!(f.length>=s)){for(var p=h.score,v=f.length-1;v>=0;--v){var g=K7(t,h.boxIndex,f[v]);if(g!==0&&(h.score*=c(g),h.score<=o))break}p===h.score&&f.push(h.boxIndex)}}),f}function K7(t,e,n){var r=t.arraySync(),o=Math.min(r[e][0],r[e][2]),a=Math.min(r[e][1],r[e][3]),s=Math.max(r[e][0],r[e][2]),u=Math.max(r[e][1],r[e][3]),c=Math.min(r[n][0],r[n][2]),f=Math.min(r[n][1],r[n][3]),h=Math.max(r[n][0],r[n][2]),p=Math.max(r[n][1],r[n][3]),v=(s-o)*(u-a),g=(h-c)*(p-f);if(v<=0||g<=0)return 0;var y=Math.max(o,c),x=Math.max(a,f),w=Math.min(s,h),S=Math.min(u,p),A=Math.max(w-y,0)*Math.max(S-x,0);return A/(v+g-A)}function X7(t){var e=Sn(wi(t,[1,0])),n=[En(e[2],e[0]),En(e[3],e[1])],r=[ie(e[0],po(n[0],Ct(2))),ie(e[1],po(n[1],Ct(2)))];return{sizes:n,centers:r}}function Y7(t,e){var n=X7(t),r=n.sizes,o=n.centers,a=Sn(wi(e,[1,0])),s=po(Zn(f0(po(a[2],Ct(5))),r[0]),Ct(2)),u=ie(Zn(po(a[0],Ct(10)),r[0]),o[0]),c=po(Zn(f0(po(a[3],Ct(5))),r[1]),Ct(2)),f=ie(Zn(po(a[1],Ct(10)),r[1]),o[1]);return wi(Ir([En(u,s),En(f,c),ie(u,s),ie(f,c)]),[1,0])}function Q7(t,e,n){return Dt(function(){var r=t.shape[0],o=Y7(mo(Nu(n.extra_dim,[r,1,1]),[-1,4]),mo(t,[-1,4]));o=mo(o,[r,o.shape[0]/r,4]);var a=_D(Xo(e,[0,0,1],[-1,-1,-1])),s=Xo(a,[0,0,0],[-1,-1,1]);s=mo(s,[r,s.shape[1]]);var u=Sn(o),c=Sn(s);return{boxes:u,scores:c}})}function yu(t,e){return Dt(function(){var n=t.shape[0],r=mo(vo(t,e.box_encoding_predictor),[n,-1,1,4]),o=mo(vo(t,e.class_predictor),[n,-1,3]);return{boxPredictionEncoding:r,classPrediction:o}})}function Z7(t,e,n){return Dt(function(){var r=Do(t,n.conv_0,[1,1]),o=Do(r,n.conv_1,[2,2]),a=Do(o,n.conv_2,[1,1]),s=Do(a,n.conv_3,[2,2]),u=Do(s,n.conv_4,[1,1]),c=Do(u,n.conv_5,[2,2]),f=Do(c,n.conv_6,[1,1]),h=Do(f,n.conv_7,[2,2]),p=yu(e,n.box_predictor_0),v=yu(t,n.box_predictor_1),g=yu(o,n.box_predictor_2),y=yu(s,n.box_predictor_3),x=yu(c,n.box_predictor_4),w=yu(h,n.box_predictor_5),S=wn([p.boxPredictionEncoding,v.boxPredictionEncoding,g.boxPredictionEncoding,y.boxPredictionEncoding,x.boxPredictionEncoding,w.boxPredictionEncoding],1),A=wn([p.classPrediction,v.classPrediction,g.classPrediction,y.classPrediction,x.classPrediction,w.classPrediction],1);return{boxPredictions:S,classPredictions:A}})}var em=function(){function t(e){var n=e===void 0?{}:e,r=n.minConfidence,o=n.maxResults;if(this._name="SsdMobilenetv1Options",this._minConfidence=r||.5,this._maxResults=o||100,typeof this._minConfidence!="number"||this._minConfidence<=0||this._minConfidence>=1)throw new Error(this._name+" - expected minConfidence to be a number between 0 and 1");if(typeof this._maxResults!="number")throw new Error(this._name+" - expected maxResults to be a number")}return Object.defineProperty(t.prototype,"minConfidence",{get:function(){return this._minConfidence},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxResults",{get:function(){return this._maxResults},enumerable:!0,configurable:!0}),t}(),zk=function(t){Kt(e,t);function e(){return t.call(this,"SsdMobilenetv1")||this}return e.prototype.forwardInput=function(n){var r=this.params;if(!r)throw new Error("SsdMobilenetv1 - load model before inference");return Dt(function(){var o=n.toBatchTensor(512,!1).toFloat(),a=En(Zn(o,Ct(.007843137718737125)),Ct(1)),s=$7(a,r.mobilenetv1),u=Z7(s.out,s.conv11,r.prediction_layer),c=u.boxPredictions,f=u.classPredictions;return Q7(c,f,r.output_layer)})},e.prototype.forward=function(n){return Bt(this,void 0,void 0,function(){var r;return Ft(this,function(o){switch(o.label){case 0:return r=this.forwardInput,[4,Nn(n)];case 1:return[2,r.apply(this,[o.sent()])]}})})},e.prototype.locateFaces=function(n,r){return r===void 0&&(r={}),Bt(this,void 0,void 0,function(){var o,a,s,u,c,f,h,p,v,g,y,x,w,S,A,E,T,R,_,M,k;return Ft(this,function(N){switch(N.label){case 0:return o=new em(r),a=o.maxResults,s=o.minConfidence,[4,Nn(n)];case 1:for(u=N.sent(),c=this.forwardInput(u),f=c.boxes,h=c.scores,p=f[0],v=h[0],g=1;g<f.length;g++)f[g].dispose(),h[g].dispose();return w=(x=Array).from,[4,v.data()];case 2:return y=w.apply(x,[N.sent()]),S=.5,A=q7(p,y,a,S,s),E=u.getReshapedInputDimensions(0),T=u.inputSize,R=T/E.width,_=T/E.height,M=p.arraySync(),k=A.map(function(I){var z=[Math.max(0,M[I][0]),Math.min(1,M[I][2])].map(function(H){return H*_}),D=z[0],$=z[1],j=[Math.max(0,M[I][1]),Math.min(1,M[I][3])].map(function(H){return H*R}),W=j[0],B=j[1];return new na(y[I],new lx(W,D,B-W,$-D),{height:u.getInputHeight(0),width:u.getInputWidth(0)})}),p.dispose(),v.dispose(),[2,k]}})})},e.prototype.getDefaultModelName=function(){return"ssd_mobilenetv1_model"},e.prototype.extractParamsFromWeigthMap=function(n){return j7(n)},e.prototype.extractParams=function(n){return V7(n)},e}(Ba);(function(t){Kt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(zk);var J7=.4,t9=[new Te(.738768,.874946),new Te(2.42204,2.65704),new Te(4.30971,7.04493),new Te(10.246,4.59428),new Te(12.6868,11.8741)],e9=[new Te(1.603231,2.094468),new Te(6.041143,7.080126),new Te(2.882459,3.518061),new Te(4.266906,5.178857),new Te(9.041765,10.66308)],n9=[117.001,114.697,97.404],r9="tiny_yolov2_model",o9="tiny_yolov2_separable_conv_model",fh=function(t){return typeof t=="number"};function a9(t){if(!t)throw new Error("invalid config: "+t);if(typeof t.withSeparableConvs!="boolean")throw new Error("config.withSeparableConvs has to be a boolean, have: "+t.withSeparableConvs);if(!fh(t.iouThreshold)||t.iouThreshold<0||t.iouThreshold>1)throw new Error("config.iouThreshold has to be a number between [0, 1], have: "+t.iouThreshold);if(!Array.isArray(t.classes)||!t.classes.length||!t.classes.every(function(e){return typeof e=="string"}))throw new Error("config.classes has to be an array class names: string[], have: "+JSON.stringify(t.classes));if(!Array.isArray(t.anchors)||!t.anchors.length||!t.anchors.map(function(e){return e||{}}).every(function(e){return fh(e.x)&&fh(e.y)}))throw new Error("config.anchors has to be an array of { x: number, y: number }, have: "+JSON.stringify(t.anchors));if(t.meanRgb&&(!Array.isArray(t.meanRgb)||t.meanRgb.length!==3||!t.meanRgb.every(fh)))throw new Error("config.meanRgb has to be an array of shape [number, number, number], have: "+JSON.stringify(t.meanRgb))}function xx(t){return Dt(function(){var e=Zn(t,Ct(.10000000149011612));return ie(Ze(En(t,e)),e)})}function ci(t,e){return Dt(function(){var n=xs(t,[[0,0],[1,1],[1,1],[0,0]]);return n=so(n,e.conv.filters,[1,1],"valid"),n=En(n,e.bn.sub),n=Zn(n,e.bn.truediv),n=ie(n,e.conv.bias),xx(n)})}function fi(t,e){return Dt(function(){var n=xs(t,[[0,0],[1,1],[1,1],[0,0]]);return n=Yb(n,e.depthwise_filter,e.pointwise_filter,[1,1],"valid"),n=ie(n,e.bias),xx(n)})}function i9(t,e){var n=tm(t,e);function r(s,u){var c=gn(t(s)),f=gn(t(s));return e.push({paramPath:u+"/sub"},{paramPath:u+"/truediv"}),{sub:c,truediv:f}}function o(s,u,c){var f=n(s,u,3,c+"/conv"),h=r(u,c+"/bn");return{conv:f,bn:h}}var a=vx(t,e);return{extractConvParams:n,extractConvWithBatchNormParams:o,extractSeparableConvParams:a}}function s9(t,e,n,r){var o=La(t),a=o.extractWeights,s=o.getRemainingWeights,u=[],c=i9(a,u),f=c.extractConvParams,h=c.extractConvWithBatchNormParams,p=c.extractSeparableConvParams,v;if(e.withSeparableConvs){var g=r[0],y=r[1],x=r[2],w=r[3],S=r[4],A=r[5],E=r[6],T=r[7],R=r[8],_=e.isFirstLayerConv2d?f(g,y,3,"conv0"):p(g,y,"conv0"),M=p(y,x,"conv1"),k=p(x,w,"conv2"),N=p(w,S,"conv3"),I=p(S,A,"conv4"),z=p(A,E,"conv5"),D=T?p(E,T,"conv6"):void 0,$=R?p(T,R,"conv7"):void 0,j=f(R||T||E,5*n,1,"conv8");v={conv0:_,conv1:M,conv2:k,conv3:N,conv4:I,conv5:z,conv6:D,conv7:$,conv8:j}}else{var g=r[0],y=r[1],x=r[2],w=r[3],S=r[4],A=r[5],E=r[6],T=r[7],R=r[8],_=h(g,y,"conv0"),M=h(y,x,"conv1"),k=h(x,w,"conv2"),N=h(w,S,"conv3"),I=h(S,A,"conv4"),z=h(A,E,"conv5"),D=h(E,T,"conv6"),$=h(T,R,"conv7"),j=f(R,5*n,1,"conv8");v={conv0:_,conv1:M,conv2:k,conv3:N,conv4:I,conv5:z,conv6:D,conv7:$,conv8:j}}if(s().length!==0)throw new Error("weights remaing after extract: "+s().length);return{params:v,paramMappings:u}}function u9(t,e){var n=_i(t,e);function r(u){var c=n(u+"/sub",1),f=n(u+"/truediv",1);return{sub:c,truediv:f}}function o(u){var c=n(u+"/filters",4),f=n(u+"/bias",1);return{filters:c,bias:f}}function a(u){var c=o(u+"/conv"),f=r(u+"/bn");return{conv:c,bn:f}}var s=gx(n);return{extractConvParams:o,extractConvWithBatchNormParams:a,extractSeparableConvParams:s}}function l9(t,e){var n=[],r=u9(t,n),o=r.extractConvParams,a=r.extractConvWithBatchNormParams,s=r.extractSeparableConvParams,u;if(e.withSeparableConvs){var c=e.filterSizes&&e.filterSizes.length||9;u={conv0:e.isFirstLayerConv2d?o("conv0"):s("conv0"),conv1:s("conv1"),conv2:s("conv2"),conv3:s("conv3"),conv4:s("conv4"),conv5:s("conv5"),conv6:c>7?s("conv6"):void 0,conv7:c>8?s("conv7"):void 0,conv8:o("conv8")}}else u={conv0:a("conv0"),conv1:a("conv1"),conv2:a("conv2"),conv3:a("conv3"),conv4:a("conv4"),conv5:a("conv5"),conv6:a("conv6"),conv7:a("conv7"),conv8:o("conv8")};return Fa(t,n),{params:u,paramMappings:n}}var IT;(function(t){t[t.XS=224]="XS",t[t.SM=320]="SM",t[t.MD=416]="MD",t[t.LG=608]="LG"})(IT||(IT={}));var wx=function(){function t(e){var n=e===void 0?{}:e,r=n.inputSize,o=n.scoreThreshold;if(this._name="TinyYolov2Options",this._inputSize=r||416,this._scoreThreshold=o||.5,typeof this._inputSize!="number"||this._inputSize%32!==0)throw new Error(this._name+" - expected inputSize to be a number divisible by 32");if(typeof this._scoreThreshold!="number"||this._scoreThreshold<=0||this._scoreThreshold>=1)throw new Error(this._name+" - expected scoreThreshold to be a number between 0 and 1")}return Object.defineProperty(t.prototype,"inputSize",{get:function(){return this._inputSize},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scoreThreshold",{get:function(){return this._scoreThreshold},enumerable:!0,configurable:!0}),t}(),Vk=function(t){Kt(e,t);function e(n){var r=t.call(this,"TinyYolov2")||this;return a9(n),r._config=n,r}return Object.defineProperty(e.prototype,"config",{get:function(){return this._config},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"withClassScores",{get:function(){return this.config.withClassScores||this.config.classes.length>1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"boxEncodingSize",{get:function(){return 5+(this.withClassScores?this.config.classes.length:0)},enumerable:!0,configurable:!0}),e.prototype.runTinyYolov2=function(n,r){var o=ci(n,r.conv0);return o=kn(o,[2,2],[2,2],"same"),o=ci(o,r.conv1),o=kn(o,[2,2],[2,2],"same"),o=ci(o,r.conv2),o=kn(o,[2,2],[2,2],"same"),o=ci(o,r.conv3),o=kn(o,[2,2],[2,2],"same"),o=ci(o,r.conv4),o=kn(o,[2,2],[2,2],"same"),o=ci(o,r.conv5),o=kn(o,[2,2],[1,1],"same"),o=ci(o,r.conv6),o=ci(o,r.conv7),vo(o,r.conv8,"valid",!1)},e.prototype.runMobilenet=function(n,r){var o=this.config.isFirstLayerConv2d?xx(vo(n,r.conv0,"valid",!1)):fi(n,r.conv0);return o=kn(o,[2,2],[2,2],"same"),o=fi(o,r.conv1),o=kn(o,[2,2],[2,2],"same"),o=fi(o,r.conv2),o=kn(o,[2,2],[2,2],"same"),o=fi(o,r.conv3),o=kn(o,[2,2],[2,2],"same"),o=fi(o,r.conv4),o=kn(o,[2,2],[2,2],"same"),o=fi(o,r.conv5),o=kn(o,[2,2],[1,1],"same"),o=r.conv6?fi(o,r.conv6):o,o=r.conv7?fi(o,r.conv7):o,vo(o,r.conv8,"valid",!1)},e.prototype.forwardInput=function(n,r){var o=this,a=this.params;if(!a)throw new Error("TinyYolov2 - load model before inference");return Dt(function(){var s=n.toBatchTensor(r,!1).toFloat();return s=o.config.meanRgb?_f(s,o.config.meanRgb):s,s=s.div(Ct(256)),o.config.withSeparableConvs?o.runMobilenet(s,a):o.runTinyYolov2(s,a)})},e.prototype.forward=function(n,r){return Bt(this,void 0,void 0,function(){var o;return Ft(this,function(a){switch(a.label){case 0:return o=this.forwardInput,[4,Nn(n)];case 1:return[4,o.apply(this,[a.sent(),r])];case 2:return[2,a.sent()]}})})},e.prototype.detect=function(n,r){return r===void 0&&(r={}),Bt(this,void 0,void 0,function(){var o,a,s,u,c,f,h,p,v,g,y,x,w,S,A=this;return Ft(this,function(E){switch(E.label){case 0:return o=new wx(r),a=o.inputSize,s=o.scoreThreshold,[4,Nn(n)];case 1:return u=E.sent(),[4,this.forwardInput(u,a)];case 2:return c=E.sent(),f=Dt(function(){return Sn(c)[0].expandDims()}),h={width:u.getInputWidth(0),height:u.getInputHeight(0)},[4,this.extractBoxes(f,u.getReshapedInputDimensions(0),s)];case 3:return p=E.sent(),c.dispose(),f.dispose(),v=p.map(function(T){return T.box}),g=p.map(function(T){return T.score}),y=p.map(function(T){return T.classScore}),x=p.map(function(T){return A.config.classes[T.label]}),w=Jc(v.map(function(T){return T.rescale(a)}),g,this.config.iouThreshold,!0),S=w.map(function(T){return new dk(g[T],y[T],x[T],v[T],h)}),[2,S]}})})},e.prototype.getDefaultModelName=function(){return""},e.prototype.extractParamsFromWeigthMap=function(n){return l9(n,this.config)},e.prototype.extractParams=function(n){var r=this.config.filterSizes||e.DEFAULT_FILTER_SIZES,o=r?r.length:void 0;if(o!==7&&o!==8&&o!==9)throw new Error("TinyYolov2 - expected 7 | 8 | 9 convolutional filters, but found "+o+" filterSizes in config");return s9(n,this.config,this.boxEncodingSize,r)},e.prototype.extractBoxes=function(n,r,o){return Bt(this,void 0,void 0,function(){var a,s,u,c,f,h,p,v,g,y,x,w,S,A,E,T,R,_,M,k,N,I,z,D,$,j,W,B,H,q=this;return Ft(this,function(X){switch(X.label){case 0:return a=r.width,s=r.height,u=Math.max(a,s),c=u/a,f=u/s,h=n.shape[1],p=this.config.anchors.length,v=Dt(function(){var F=n.reshape([h,h,p,q.boxEncodingSize]),Q=F.slice([0,0,0,0],[h,h,p,4]),et=F.slice([0,0,0,4],[h,h,p,1]),nt=q.withClassScores?Pa(F.slice([0,0,0,5],[h,h,p,q.config.classes.length]),3):Ct(0);return[Q,et,nt]}),g=v[0],y=v[1],x=v[2],w=[],[4,y.array()];case 1:return S=X.sent(),[4,g.array()];case 2:A=X.sent(),E=0,X.label=3;case 3:if(!(E<h))return[3,12];T=0,X.label=4;case 4:if(!(T<h))return[3,11];R=0,X.label=5;case 5:return R<p?(_=ly(S[E][T][R][0]),!o||_>o?(M=(T+ly(A[E][T][R][0]))/h*c,k=(E+ly(A[E][T][R][1]))/h*f,N=Math.exp(A[E][T][R][2])*this.config.anchors[R].x/h*c,I=Math.exp(A[E][T][R][3])*this.config.anchors[R].y/h*f,z=M-N/2,D=k-I/2,$={row:E,col:T,anchor:R},this.withClassScores?[4,this.extractPredictedClass(x,$)]:[3,7]):[3,9]):[3,10];case 6:return H=X.sent(),[3,8];case 7:H={classScore:1,label:0},X.label=8;case 8:j=H,W=j.classScore,B=j.label,w.push(Kn({box:new Zp(z,D,z+N,D+I),score:_,classScore:_*W,label:B},$)),X.label=9;case 9:return R++,[3,5];case 10:return T++,[3,4];case 11:return E++,[3,3];case 12:return g.dispose(),y.dispose(),x.dispose(),[2,w]}})})},e.prototype.extractPredictedClass=function(n,r){return Bt(this,void 0,void 0,function(){var o,a,s,u;return Ft(this,function(c){switch(c.label){case 0:return o=r.row,a=r.col,s=r.anchor,[4,n.array()];case 1:return u=c.sent(),[2,Array(this.config.classes.length).fill(0).map(function(f,h){return u[o][a][s][h]}).map(function(f,h){return{classScore:f,label:h}}).reduce(function(f,h){return f.classScore>h.classScore?f:h})]}})})},e.DEFAULT_FILTER_SIZES=[3,16,32,64,128,256,512,1024,1024],e}(Ba),c9=function(t){Kt(e,t);function e(n){n===void 0&&(n=!0);var r=this,o=Object.assign({},{withSeparableConvs:n,iouThreshold:J7,classes:["face"]},n?{anchors:e9,meanRgb:n9}:{anchors:t9,withClassScores:!0});return r=t.call(this,o)||this,r}return Object.defineProperty(e.prototype,"withSeparableConvs",{get:function(){return this.config.withSeparableConvs},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"anchors",{get:function(){return this.config.anchors},enumerable:!0,configurable:!0}),e.prototype.locateFaces=function(n,r){return Bt(this,void 0,void 0,function(){var o;return Ft(this,function(a){switch(a.label){case 0:return[4,this.detect(n,r)];case 1:return o=a.sent(),[2,o.map(function(s){return new na(s.score,s.relativeBox,{width:s.imageWidth,height:s.imageHeight})})]}})})},e.prototype.getDefaultModelName=function(){return this.withSeparableConvs?o9:r9},e.prototype.extractParamsFromWeigthMap=function(n){return t.prototype.extractParamsFromWeigthMap.call(this,n)},e}(Vk),f9=function(t){Kt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n._name="TinyFaceDetectorOptions",n}return e}(wx),Df=function(){function t(){}return t.prototype.then=function(e){return Bt(this,void 0,void 0,function(){var n;return Ft(this,function(r){switch(r.label){case 0:return n=e,[4,this.run()];case 1:return[2,n.apply(void 0,[r.sent()])]}})})},t.prototype.run=function(){return Bt(this,void 0,void 0,function(){return Ft(this,function(e){throw new Error("ComposableTask - run is not implemented")})})},t}();function nm(t,e,n,r,o){return o===void 0&&(o=function(a){var s=a.alignedRect;return s}),Bt(this,void 0,void 0,function(){var a,s,u,c,f;return Ft(this,function(h){switch(h.label){case 0:return a=t.map(function(p){return y7(p)?o(p):p.detection}),u=r,u?[3,5]:e instanceof Ye?[4,px(e,a)]:[3,2];case 1:return c=h.sent(),[3,4];case 2:return[4,hx(e,a)];case 3:c=h.sent(),h.label=4;case 4:u=c,h.label=5;case 5:return s=u,[4,n(s)];case 6:return f=h.sent(),s.forEach(function(p){return p instanceof Ye&&p.dispose()}),[2,f]}})})}function Sx(t,e,n,r,o){return Bt(this,void 0,void 0,function(){var a=this;return Ft(this,function(s){return[2,nm([t],e,function(u){return Bt(a,void 0,void 0,function(){return Ft(this,function(c){return[2,n(u[0])]})})},r,o)]})})}function d9(t){return Dt(function(){return Ir(Sn(t,3).reverse(),3)})}var dh=2,hp=12;function h9(t,e){var n=tm(t,e),r=mx(t,e);function o(f,h){var p=gn(t(f));return e.push({paramPath:h}),p}function a(f,h,p){p===void 0&&(p=!1);var v=n(f[0],f[1],3,h+"/conv1"),g=o(f[1],h+"/prelu1_alpha"),y=n(f[1],f[2],3,h+"/conv2"),x=o(f[2],h+"/prelu2_alpha"),w=n(f[2],f[3],p?2:3,h+"/conv3"),S=o(f[3],h+"/prelu3_alpha");return{conv1:v,prelu1_alpha:g,conv2:y,prelu2_alpha:x,conv3:w,prelu3_alpha:S}}function s(){var f=a([3,10,16,32],"pnet"),h=n(32,2,1,"pnet/conv4_1"),p=n(32,4,1,"pnet/conv4_2");return Kn(Kn({},f),{conv4_1:h,conv4_2:p})}function u(){var f=a([3,28,48,64],"rnet",!0),h=r(576,128,"rnet/fc1"),p=o(128,"rnet/prelu4_alpha"),v=r(128,2,"rnet/fc2_1"),g=r(128,4,"rnet/fc2_2");return Kn(Kn({},f),{fc1:h,prelu4_alpha:p,fc2_1:v,fc2_2:g})}function c(){var f=a([3,32,64,64],"onet"),h=n(64,128,2,"onet/conv4"),p=o(128,"onet/prelu4_alpha"),v=r(1152,256,"onet/fc1"),g=o(256,"onet/prelu5_alpha"),y=r(256,2,"onet/fc2_1"),x=r(256,4,"onet/fc2_2"),w=r(256,10,"onet/fc2_3");return Kn(Kn({},f),{conv4:h,prelu4_alpha:p,fc1:v,prelu5_alpha:g,fc2_1:y,fc2_2:x,fc2_3:w})}return{extractPNetParams:s,extractRNetParams:u,extractONetParams:c}}function p9(t){var e=La(t),n=e.extractWeights,r=e.getRemainingWeights,o=[],a=h9(n,o),s=a.extractPNetParams,u=a.extractRNetParams,c=a.extractONetParams,f=s(),h=u(),p=c();if(r().length!==0)throw new Error("weights remaing after extract: "+r().length);return{params:{pnet:f,rnet:h,onet:p},paramMappings:o}}function m9(t,e){var n=_i(t,e);function r(h){var p=n(h+"/weights",4,h+"/filters"),v=n(h+"/bias",1);return{filters:p,bias:v}}function o(h){var p=n(h+"/weights",2),v=n(h+"/bias",1);return{weights:p,bias:v}}function a(h){return n(h,1)}function s(h){var p=r(h+"/conv1"),v=a(h+"/prelu1_alpha"),g=r(h+"/conv2"),y=a(h+"/prelu2_alpha"),x=r(h+"/conv3"),w=a(h+"/prelu3_alpha");return{conv1:p,prelu1_alpha:v,conv2:g,prelu2_alpha:y,conv3:x,prelu3_alpha:w}}function u(){var h=s("pnet"),p=r("pnet/conv4_1"),v=r("pnet/conv4_2");return Kn(Kn({},h),{conv4_1:p,conv4_2:v})}function c(){var h=s("rnet"),p=o("rnet/fc1"),v=a("rnet/prelu4_alpha"),g=o("rnet/fc2_1"),y=o("rnet/fc2_2");return Kn(Kn({},h),{fc1:p,prelu4_alpha:v,fc2_1:g,fc2_2:y})}function f(){var h=s("onet"),p=r("onet/conv4"),v=a("onet/prelu4_alpha"),g=o("onet/fc1"),y=a("onet/prelu5_alpha"),x=o("onet/fc2_1"),w=o("onet/fc2_2"),S=o("onet/fc2_3");return Kn(Kn({},h),{conv4:p,prelu4_alpha:v,fc1:g,prelu5_alpha:y,fc2_1:x,fc2_2:w,fc2_3:S})}return{extractPNetParams:u,extractRNetParams:c,extractONetParams:f}}function v9(t){var e=[],n=m9(t,e),r=n.extractPNetParams,o=n.extractRNetParams,a=n.extractONetParams,s=r(),u=o(),c=a();return Fa(t,e),{params:{pnet:s,rnet:u,onet:c},paramMappings:e}}function b0(t,e){var n=e[0],r=e[1];return{height:Math.floor(n*t),width:Math.floor(r*t)}}function g9(t,e,n){for(var r=n[0],o=n[1],a=hp/t,s=[],u=Math.min(r,o)*a,c=0;u>=12;)s.push(a*Math.pow(e,c)),u=u*e,c+=1;return s}var Cx=function(t){Kt(e,t);function e(n,r,o,a){return t.call(this,{left:n,top:r,right:o,bottom:a},!0)||this}return e}(Si);function Uk(t){return Dt(function(){return Zn(En(t,Ct(127.5)),Ct(.0078125))})}function Lu(t,e){return Dt(function(){return ie(Ze(t),Zn(e,ip(Ze(ip(t)))))})}function Ex(t,e,n){return n===void 0&&(n=!1),Dt(function(){var r=vo(t,e.conv1,"valid");return r=Lu(r,e.prelu1_alpha),r=kn(r,n?[2,2]:[3,3],[2,2],"same"),r=vo(r,e.conv2,"valid"),r=Lu(r,e.prelu2_alpha),r=n?r:kn(r,[3,3],[2,2],"valid"),r=vo(r,e.conv3,"valid"),r=Lu(r,e.prelu3_alpha),r})}function y9(t,e){return Dt(function(){var n=Ex(t,e,!0),r=vo(n,e.conv4_1,"valid"),o=Yr(Kp(r,3),3),a=Pa(En(r,o),3),s=vo(n,e.conv4_2,"valid");return{prob:a,regions:s}})}function b9(t,e){return Dt(function(){var n=b0(e,t.shape.slice(1)),r=n.height,o=n.width,a=ex.resizeBilinear(t,[r,o]),s=Uk(a);return wi(s,[0,2,1,3])})}function x9(t,e,n,r){for(var o=[],a=t.arraySync(),s=0;s<t.shape[0];s++)for(var u=0;u<t.shape[1];u++)a[s][u]>=r&&o.push(new Te(u,s));var c=o.map(function(f){var h=new Zp(Math.round((f.y*dh+1)/n),Math.round((f.x*dh+1)/n),Math.round((f.y*dh+hp)/n),Math.round((f.x*dh+hp)/n)),p=a[f.y][f.x],v=e.arraySync(),g=new Cx(v[f.y][f.x][0],v[f.y][f.x][1],v[f.y][f.x][2],v[f.y][f.x][3]);return{cell:h,score:p,region:g}});return c}function w9(t,e,n,r,o){o.stage1=[];var a=e.map(function(v){return Dt(function(){var g={scale:v},y=b9(t,v),x=Date.now(),w=y9(y,r),S=w.prob,A=w.regions;g.pnet=Date.now()-x;var E=Sn(Sn(S,3)[1])[0],T=Sn(A)[0];return{scoresTensor:E,regionsTensor:T,scale:v,statsForScale:g}})}),s=a.map(function(v){var g=v.scoresTensor,y=v.regionsTensor,x=v.scale,w=v.statsForScale,S=x9(g,y,x,n);if(g.dispose(),y.dispose(),!S.length)return o.stage1.push(w),[];var A=Date.now(),E=Jc(S.map(function(T){return T.cell}),S.map(function(T){return T.score}),.5);return w.nms=Date.now()-A,w.numBoxes=E.length,o.stage1.push(w),E.map(function(T){return S[T]})}),u=s.reduce(function(v,g){return v.concat(g)},[]),c=[],f=[];if(u.length>0){var h=Date.now(),p=Jc(u.map(function(v){return v.cell}),u.map(function(v){return v.score}),.7);o.stage1_nms=Date.now()-h,f=p.map(function(v){return u[v].score}),c=p.map(function(v){return u[v]}).map(function(v){var g=v.cell,y=v.region;return new Zp(g.left+y.left*g.width,g.top+y.top*g.height,g.right+y.right*g.width,g.bottom+y.bottom*g.height).toSquare().round()})}return{boxes:c,scores:f}}function jk(t,e,n){var r=n.width,o=n.height;return Bt(this,void 0,void 0,function(){var a,s,u,c=this;return Ft(this,function(f){switch(f.label){case 0:return a=gs(t),[4,Promise.all(e.map(function(h){return Bt(c,void 0,void 0,function(){var p,v,g,y,x,w,S,A;return Ft(this,function(E){return p=h.padAtBorders(t.height,t.width),v=p.y,g=p.ey,y=p.x,x=p.ex,w=y-1,S=v-1,A=a.getImageData(w,S,x-w,g-S),[2,nr.isNodejs()?dx(A):createImageBitmap(A)]})})}))];case 1:return s=f.sent(),u=[],s.forEach(function(h){var p=Jp({width:r,height:o}),v=gs(p);v.drawImage(h,0,0,r,o);for(var g=v.getImageData(0,0,r,o).data,y=[],x=0;x<g.length;x+=4)y.push(g[x+2]),y.push(g[x+1]),y.push(g[x]);u.push(y)}),[2,u.map(function(h){var p=Dt(function(){var v=wi(fr(h,[1,r,o,3]),[0,2,1,3]).toFloat();return Uk(v)});return p})]}})})}function S9(t,e){return Dt(function(){var n=Ex(t,e),r=mo(n,[n.shape[0],e.fc1.weights.shape[0]]),o=Bo(r,e.fc1),a=Lu(o,e.prelu4_alpha),s=Bo(a,e.fc2_1),u=Yr(Kp(s,1),1),c=Pa(En(s,u),1),f=Bo(a,e.fc2_2),h=Sn(c,1)[1];return{scores:h,regions:f}})}function C9(t,e,n,r,o){return Bt(this,void 0,void 0,function(){var a,s,u,c,f,h,p,v,g,y,x,w,S,A;return Ft(this,function(E){switch(E.label){case 0:return a=Date.now(),[4,jk(t,e,{width:24,height:24})];case 1:return s=E.sent(),o.stage2_extractImagePatches=Date.now()-a,a=Date.now(),u=s.map(function(T){var R=S9(T,r);return T.dispose(),R}),o.stage2_rnet=Date.now()-a,c=u.length>1?wn(u.map(function(T){return T.scores})):u[0].scores,p=(h=Array).from,[4,c.data()];case 2:return f=p.apply(h,[E.sent()]),c.dispose(),v=f.map(function(T,R){return{score:T,idx:R}}).filter(function(T){return T.score>n}).map(function(T){var R=T.idx;return R}),g=v.map(function(T){return e[T]}),y=v.map(function(T){return f[T]}),x=[],w=[],g.length>0&&(a=Date.now(),S=Jc(g,y,.7),o.stage2_nms=Date.now()-a,A=S.map(function(T){var R=u[v[T]].regions.arraySync();return new Cx(R[0][0],R[0][1],R[0][2],R[0][3])}),w=S.map(function(T){return y[T]}),x=S.map(function(T,R){return g[T].calibrate(A[R])})),u.forEach(function(T){T.regions.dispose(),T.scores.dispose()}),[2,{boxes:x,scores:w}]}})})}function E9(t,e){return Dt(function(){var n=Ex(t,e);n=kn(n,[2,2],[2,2],"same"),n=vo(n,e.conv4,"valid"),n=Lu(n,e.prelu4_alpha);var r=mo(n,[n.shape[0],e.fc1.weights.shape[0]]),o=Bo(r,e.fc1),a=Lu(o,e.prelu5_alpha),s=Bo(a,e.fc2_1),u=Yr(Kp(s,1),1),c=Pa(En(s,u),1),f=Bo(a,e.fc2_2),h=Bo(a,e.fc2_3),p=Sn(c,1)[1];return{scores:p,regions:f,points:h}})}function T9(t,e,n,r,o){return Bt(this,void 0,void 0,function(){var a,s,u,c,f,h,p,v,g,y,x,w,S,A,E;return Ft(this,function(T){switch(T.label){case 0:return a=Date.now(),[4,jk(t,e,{width:48,height:48})];case 1:return s=T.sent(),o.stage3_extractImagePatches=Date.now()-a,a=Date.now(),u=s.map(function(R){var _=E9(R,r);return R.dispose(),_}),o.stage3_onet=Date.now()-a,c=u.length>1?wn(u.map(function(R){return R.scores})):u[0].scores,p=(h=Array).from,[4,c.data()];case 2:return f=p.apply(h,[T.sent()]),c.dispose(),v=f.map(function(R,_){return{score:R,idx:_}}).filter(function(R){return R.score>n}).map(function(R){var _=R.idx;return _}),g=v.map(function(R){var _=u[R].regions.arraySync();return new Cx(_[0][0],_[0][1],_[0][2],_[0][3])}),y=v.map(function(R,_){return e[R].calibrate(g[_])}),x=v.map(function(R){return f[R]}),w=[],S=[],A=[],y.length>0&&(a=Date.now(),E=Jc(y,x,.7,!1),o.stage3_nms=Date.now()-a,w=E.map(function(R){return y[R]}),S=E.map(function(R){return x[R]}),A=E.map(function(R,_){return Array(5).fill(0).map(function(M,k){var N=u[R].points.arraySync();return new Te(N[0][k]*(w[_].width+1)+w[_].left,N[0][k+5]*(w[_].height+1)+w[_].top)})})),u.forEach(function(R){R.regions.dispose(),R.scores.dispose(),R.points.dispose()}),[2,{boxes:w,scores:S,points:A}]}})})}var R9=function(t){Kt(e,t);function e(){return t.call(this,"Mtcnn")||this}return e.prototype.load=function(n){return Bt(this,void 0,void 0,function(){return Ft(this,function(r){return console.warn("mtcnn is deprecated and will be removed soon"),[2,t.prototype.load.call(this,n)]})})},e.prototype.loadFromDisk=function(n){return Bt(this,void 0,void 0,function(){return Ft(this,function(r){return console.warn("mtcnn is deprecated and will be removed soon"),[2,t.prototype.loadFromDisk.call(this,n)]})})},e.prototype.forwardInput=function(n,r){return r===void 0&&(r={}),Bt(this,void 0,void 0,function(){var o,a,s,u,c,f,h,p,v,g,y,x,w,S,A,E,T,R,_,M,k;return Ft(this,function(N){switch(N.label){case 0:if(o=this.params,!o)throw new Error("Mtcnn - load model before inference");if(a=n.canvases[0],!a)throw new Error("Mtcnn - inputCanvas is not defined, note that passing tensors into Mtcnn.forwardInput is not supported yet.");return s={},u=Date.now(),c=Dt(function(){return d9(Yr(sx.fromPixels(a)).toFloat())}),f=function(I){return c.dispose(),s.total=Date.now()-u,I},h=c.shape.slice(1),p=h[0],v=h[1],g=new Lk(r),y=g.minFaceSize,x=g.scaleFactor,w=g.maxNumScales,S=g.scoreThresholds,A=g.scaleSteps,E=(A||g9(y,x,[p,v])).filter(function(I){var z=b0(I,[p,v]);return Math.min(z.width,z.height)>hp}).slice(0,w),s.scales=E,s.pyramid=E.map(function(I){return b0(I,[p,v])}),T=Date.now(),[4,w9(c,E,S[0],o.pnet,s)];case 1:return R=N.sent(),s.total_stage1=Date.now()-T,R.boxes.length?(s.stage2_numInputBoxes=R.boxes.length,T=Date.now(),[4,C9(a,R.boxes,S[1],o.rnet,s)]):[2,f({results:[],stats:s})];case 2:return _=N.sent(),s.total_stage2=Date.now()-T,_.boxes.length?(s.stage3_numInputBoxes=_.boxes.length,T=Date.now(),[4,T9(a,_.boxes,S[2],o.onet,s)]):[2,f({results:[],stats:s})];case 3:return M=N.sent(),s.total_stage3=Date.now()-T,k=M.boxes.map(function(I,z){return yx(cx({},new na(M.scores[z],new lx(I.left/v,I.top/p,I.width/v,I.height/p),{height:p,width:v})),new e7(M.points[z].map(function(D){return D.sub(new Te(I.left,I.top)).div(new Te(I.width,I.height))}),{width:I.width,height:I.height}))}),[2,f({results:k,stats:s})]}})})},e.prototype.forward=function(n,r){return r===void 0&&(r={}),Bt(this,void 0,void 0,function(){var o;return Ft(this,function(a){switch(a.label){case 0:return o=this.forwardInput,[4,Nn(n)];case 1:return[4,o.apply(this,[a.sent(),r])];case 2:return[2,a.sent().results]}})})},e.prototype.forwardWithStats=function(n,r){return r===void 0&&(r={}),Bt(this,void 0,void 0,function(){var o;return Ft(this,function(a){switch(a.label){case 0:return o=this.forwardInput,[4,Nn(n)];case 1:return[2,o.apply(this,[a.sent(),r])]}})})},e.prototype.getDefaultModelName=function(){return"mtcnn_model"},e.prototype.extractParamsFromWeigthMap=function(n){return v9(n)},e.prototype.extractParams=function(n){return p9(n)},e}(Ba),A9=.4,_9=[new Te(1.603231,2.094468),new Te(6.041143,7.080126),new Te(2.882459,3.518061),new Te(4.266906,5.178857),new Te(9.041765,10.66308)],D9=[117.001,114.697,97.404],k9=function(t){Kt(e,t);function e(){var n=this,r={withSeparableConvs:!0,iouThreshold:A9,classes:["face"],anchors:_9,meanRgb:D9,isFirstLayerConv2d:!0,filterSizes:[3,16,32,64,128,256,512]};return n=t.call(this,r)||this,n}return Object.defineProperty(e.prototype,"anchors",{get:function(){return this.config.anchors},enumerable:!0,configurable:!0}),e.prototype.locateFaces=function(n,r){return Bt(this,void 0,void 0,function(){var o;return Ft(this,function(a){switch(a.label){case 0:return[4,this.detect(n,r)];case 1:return o=a.sent(),[2,o.map(function(s){return new na(s.score,s.relativeBox,{width:s.imageWidth,height:s.imageHeight})})]}})})},e.prototype.getDefaultModelName=function(){return"tiny_face_detector_model"},e.prototype.extractParamsFromWeigthMap=function(n){return t.prototype.extractParamsFromWeigthMap.call(this,n)},e}(Vk),or={ssdMobilenetv1:new zk,tinyFaceDetector:new k9,tinyYolov2:new c9,mtcnn:new R9,faceLandmark68Net:new Nk,faceLandmark68TinyNet:new M7,faceRecognitionNet:new L7,faceExpressionNet:new g7,ageGenderNet:new A7},Wk=function(t){Kt(e,t);function e(n,r,o){var a=t.call(this)||this;return a.parentTask=n,a.input=r,a.extractedFaces=o,a}return e}(Df),Tx=function(t){Kt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.run=function(){return Bt(this,void 0,void 0,function(){var n,r,o=this;return Ft(this,function(a){switch(a.label){case 0:return[4,this.parentTask];case 1:return n=a.sent(),[4,nm(n,this.input,function(s){return Bt(o,void 0,void 0,function(){return Ft(this,function(u){switch(u.label){case 0:return[4,Promise.all(s.map(function(c){return or.faceExpressionNet.predictExpressions(c)}))];case 1:return[2,u.sent()]}})})},this.extractedFaces)];case 2:return r=a.sent(),[2,n.map(function(s,u){return Dk(s,r[u])})]}})})},e.prototype.withAgeAndGender=function(){return new Dx(this,this.input)},e}(Wk),Rx=function(t){Kt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.run=function(){return Bt(this,void 0,void 0,function(){var n,r;return Ft(this,function(o){switch(o.label){case 0:return[4,this.parentTask];case 1:return n=o.sent(),n?[4,Sx(n,this.input,function(a){return or.faceExpressionNet.predictExpressions(a)},this.extractedFaces)]:[2];case 2:return r=o.sent(),[2,Dk(n,r)]}})})},e.prototype.withAgeAndGender=function(){return new kx(this,this.input)},e}(Wk),Ax=function(t){Kt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.withAgeAndGender=function(){return new Mx(this,this.input)},e.prototype.withFaceDescriptors=function(){return new Ox(this,this.input)},e}(Tx),_x=function(t){Kt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.withAgeAndGender=function(){return new Nx(this,this.input)},e.prototype.withFaceDescriptor=function(){return new Px(this,this.input)},e}(Rx),Hk=function(t){Kt(e,t);function e(n,r,o){var a=t.call(this)||this;return a.parentTask=n,a.input=r,a.extractedFaces=o,a}return e}(Df),Dx=function(t){Kt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.run=function(){return Bt(this,void 0,void 0,function(){var n,r,o=this;return Ft(this,function(a){switch(a.label){case 0:return[4,this.parentTask];case 1:return n=a.sent(),[4,nm(n,this.input,function(s){return Bt(o,void 0,void 0,function(){return Ft(this,function(u){switch(u.label){case 0:return[4,Promise.all(s.map(function(c){return or.ageGenderNet.predictAgeAndGender(c)}))];case 1:return[2,u.sent()]}})})},this.extractedFaces)];case 2:return r=a.sent(),[2,n.map(function(s,u){var c=r[u],f=c.age,h=c.gender,p=c.genderProbability;return Bk(Fk(s,h,p),f)})]}})})},e.prototype.withFaceExpressions=function(){return new Tx(this,this.input)},e}(Hk),kx=function(t){Kt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.run=function(){return Bt(this,void 0,void 0,function(){var n,r,o,a,s;return Ft(this,function(u){switch(u.label){case 0:return[4,this.parentTask];case 1:return n=u.sent(),n?[4,Sx(n,this.input,function(c){return or.ageGenderNet.predictAgeAndGender(c)},this.extractedFaces)]:[2];case 2:return r=u.sent(),o=r.age,a=r.gender,s=r.genderProbability,[2,Bk(Fk(n,a,s),o)]}})})},e.prototype.withFaceExpressions=function(){return new Rx(this,this.input)},e}(Hk),Mx=function(t){Kt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.withFaceExpressions=function(){return new Ax(this,this.input)},e.prototype.withFaceDescriptors=function(){return new Ox(this,this.input)},e}(Dx),Nx=function(t){Kt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.withFaceExpressions=function(){return new _x(this,this.input)},e.prototype.withFaceDescriptor=function(){return new Px(this,this.input)},e}(kx),Gk=function(t){Kt(e,t);function e(n,r){var o=t.call(this)||this;return o.parentTask=n,o.input=r,o}return e}(Df),Ox=function(t){Kt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.run=function(){return Bt(this,void 0,void 0,function(){var n,r;return Ft(this,function(o){switch(o.label){case 0:return[4,this.parentTask];case 1:return n=o.sent(),[4,nm(n,this.input,function(a){return Promise.all(a.map(function(s){return or.faceRecognitionNet.computeFaceDescriptor(s)}))},null,function(a){return a.landmarks.align(null,{useDlibAlignment:!0})})];case 2:return r=o.sent(),[2,r.map(function(a,s){return Ik(n[s],a)})]}})})},e.prototype.withFaceExpressions=function(){return new Ax(this,this.input)},e.prototype.withAgeAndGender=function(){return new Mx(this,this.input)},e}(Gk),Px=function(t){Kt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.run=function(){return Bt(this,void 0,void 0,function(){var n,r;return Ft(this,function(o){switch(o.label){case 0:return[4,this.parentTask];case 1:return n=o.sent(),n?[4,Sx(n,this.input,function(a){return or.faceRecognitionNet.computeFaceDescriptor(a)},null,function(a){return a.landmarks.align(null,{useDlibAlignment:!0})})]:[2];case 2:return r=o.sent(),[2,Ik(n,r)]}})})},e.prototype.withFaceExpressions=function(){return new _x(this,this.input)},e.prototype.withAgeAndGender=function(){return new Nx(this,this.input)},e}(Gk),$k=function(t){Kt(e,t);function e(n,r,o){var a=t.call(this)||this;return a.parentTask=n,a.input=r,a.useTinyLandmarkNet=o,a}return Object.defineProperty(e.prototype,"landmarkNet",{get:function(){return this.useTinyLandmarkNet?or.faceLandmark68TinyNet:or.faceLandmark68Net},enumerable:!0,configurable:!0}),e}(Df),M9=function(t){Kt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.run=function(){return Bt(this,void 0,void 0,function(){var n,r,o,a,s,u=this;return Ft(this,function(c){switch(c.label){case 0:return[4,this.parentTask];case 1:return n=c.sent(),r=n.map(function(f){return f.detection}),this.input instanceof Ye?[4,px(this.input,r)]:[3,3];case 2:return a=c.sent(),[3,5];case 3:return[4,hx(this.input,r)];case 4:a=c.sent(),c.label=5;case 5:return o=a,[4,Promise.all(o.map(function(f){return u.landmarkNet.detectLandmarks(f)}))];case 6:return s=c.sent(),o.forEach(function(f){return f instanceof Ye&&f.dispose()}),[2,n.map(function(f,h){return yx(f,s[h])})]}})})},e.prototype.withFaceExpressions=function(){return new Ax(this,this.input)},e.prototype.withAgeAndGender=function(){return new Mx(this,this.input)},e.prototype.withFaceDescriptors=function(){return new Ox(this,this.input)},e}($k),N9=function(t){Kt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.run=function(){return Bt(this,void 0,void 0,function(){var n,r,o,a,s;return Ft(this,function(u){switch(u.label){case 0:return[4,this.parentTask];case 1:return n=u.sent(),n?(r=n.detection,this.input instanceof Ye?[4,px(this.input,[r])]:[3,3]):[2];case 2:return a=u.sent(),[3,5];case 3:return[4,hx(this.input,[r])];case 4:a=u.sent(),u.label=5;case 5:return o=a,[4,this.landmarkNet.detectLandmarks(o[0])];case 6:return s=u.sent(),o.forEach(function(c){return c instanceof Ye&&c.dispose()}),[2,yx(n,s)]}})})},e.prototype.withFaceExpressions=function(){return new _x(this,this.input)},e.prototype.withAgeAndGender=function(){return new Nx(this,this.input)},e.prototype.withFaceDescriptor=function(){return new Px(this,this.input)},e}($k),qk=function(t){Kt(e,t);function e(n,r){r===void 0&&(r=new em);var o=t.call(this)||this;return o.input=n,o.options=r,o}return e}(Df),Kk=function(t){Kt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.run=function(){return Bt(this,void 0,void 0,function(){var n,r,o,a;return Ft(this,function(s){switch(s.label){case 0:return n=this,r=n.input,o=n.options,o instanceof Lk?[4,or.mtcnn.forward(r,o)]:[3,2];case 1:return[2,s.sent().map(function(u){return u.detection})];case 2:if(a=o instanceof f9?function(u){return or.tinyFaceDetector.locateFaces(u,o)}:o instanceof em?function(u){return or.ssdMobilenetv1.locateFaces(u,o)}:o instanceof wx?function(u){return or.tinyYolov2.locateFaces(u,o)}:null,!a)throw new Error("detectFaces - expected options to be instance of TinyFaceDetectorOptions | SsdMobilenetv1Options | MtcnnOptions | TinyYolov2Options");return[2,a(r)]}})})},e.prototype.runAndExtendWithFaceDetections=function(){var n=this;return new Promise(function(r){return Bt(n,void 0,void 0,function(){var o;return Ft(this,function(a){switch(a.label){case 0:return[4,this.run()];case 1:return o=a.sent(),[2,r(o.map(function(s){return cx({},s)}))]}})})})},e.prototype.withFaceLandmarks=function(n){return n===void 0&&(n=!1),new M9(this.runAndExtendWithFaceDetections(),this.input,n)},e.prototype.withFaceExpressions=function(){return new Tx(this.runAndExtendWithFaceDetections(),this.input)},e.prototype.withAgeAndGender=function(){return new Dx(this.runAndExtendWithFaceDetections(),this.input)},e}(qk);(function(t){Kt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.run=function(){return Bt(this,void 0,void 0,function(){var n,r;return Ft(this,function(o){switch(o.label){case 0:return[4,new Kk(this.input,this.options)];case 1:return n=o.sent(),r=n[0],n.forEach(function(a){a.score>r.score&&(r=a)}),[2,r]}})})},e.prototype.runAndExtendWithFaceDetection=function(){var n=this;return new Promise(function(r){return Bt(n,void 0,void 0,function(){var o;return Ft(this,function(a){switch(a.label){case 0:return[4,this.run()];case 1:return o=a.sent(),[2,r(o?cx({},o):void 0)]}})})})},e.prototype.withFaceLandmarks=function(n){return n===void 0&&(n=!1),new N9(this.runAndExtendWithFaceDetection(),this.input,n)},e.prototype.withFaceExpressions=function(){return new Rx(this.runAndExtendWithFaceDetection(),this.input)},e.prototype.withAgeAndGender=function(){return new kx(this.runAndExtendWithFaceDetection(),this.input)},e})(qk);function Xk(t,e){return e===void 0&&(e=new em),new Kk(t,e)}function O9(t,e){if(t.length!==e.length)throw new Error("euclideanDistance: arr1.length !== arr2.length");var n=Array.from(t),r=Array.from(e);return Math.sqrt(n.map(function(o,a){return o-r[a]}).reduce(function(o,a){return o+Math.pow(a,2)},0))}(function(){function t(e,n){n===void 0&&(n=.6),this._distanceThreshold=n;var r=Array.isArray(e)?e:[e];if(!r.length)throw new Error("FaceRecognizer.constructor - expected atleast one input");var o=1,a=function(){return"person "+o++};this._labeledDescriptors=r.map(function(s){if(s instanceof uh)return s;if(s instanceof Float32Array)return new uh(a(),[s]);if(s.descriptor&&s.descriptor instanceof Float32Array)return new uh(a(),[s.descriptor]);throw new Error("FaceRecognizer.constructor - expected inputs to be of type LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array | Array<LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array>")})}return Object.defineProperty(t.prototype,"labeledDescriptors",{get:function(){return this._labeledDescriptors},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"distanceThreshold",{get:function(){return this._distanceThreshold},enumerable:!0,configurable:!0}),t.prototype.computeMeanDistance=function(e,n){return n.map(function(r){return O9(r,e)}).reduce(function(r,o){return r+o},0)/(n.length||1)},t.prototype.matchDescriptor=function(e){var n=this;return this.labeledDescriptors.map(function(r){var o=r.descriptors,a=r.label;return new kT(a,n.computeMeanDistance(e,o))}).reduce(function(r,o){return r.distance<o.distance?r:o})},t.prototype.findBestMatch=function(e){var n=this.matchDescriptor(e);return n.distance<this.distanceThreshold?n:new kT("unknown",n.distance)},t.prototype.toJSON=function(){return{distanceThreshold:this.distanceThreshold,labeledDescriptors:this.labeledDescriptors.map(function(e){return e.toJSON()})}},t.fromJSON=function(e){var n=e.labeledDescriptors.map(function(r){return uh.fromJSON(r)});return new t(n,e.distanceThreshold)},t})();const Yk=O.createContext({});function P9(t){const e=O.useRef(null);return e.current===null&&(e.current=t()),e.current}const Ix=typeof window<"u",I9=Ix?O.useLayoutEffect:O.useEffect,Bx=O.createContext(null);function Fx(t,e){t.indexOf(e)===-1&&t.push(e)}function Lx(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ka=(t,e,n)=>n>e?e:n<t?t:n;let zx=()=>{};const Ma={},Qk=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function Zk(t){return typeof t=="object"&&t!==null}const Jk=t=>/^0[^.\s]+$/u.test(t);function Vx(t){let e;return()=>(e===void 0&&(e=t()),e)}const no=t=>t,B9=(t,e)=>n=>e(t(n)),kf=(...t)=>t.reduce(B9),tf=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class Ux{constructor(){this.subscriptions=[]}add(e){return Fx(this.subscriptions,e),()=>Lx(this.subscriptions,e)}notify(e,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,r);else for(let a=0;a<o;a++){const s=this.subscriptions[a];s&&s(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ho=t=>t*1e3,Go=t=>t/1e3;function tM(t,e){return e?t*(1e3/e):0}const eM=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,F9=1e-7,L9=12;function z9(t,e,n,r,o){let a,s,u=0;do s=e+(n-e)/2,a=eM(s,r,o)-t,a>0?n=s:e=s;while(Math.abs(a)>F9&&++u<L9);return s}function Mf(t,e,n,r){if(t===e&&n===r)return no;const o=a=>z9(a,0,1,t,n);return a=>a===0||a===1?a:eM(o(a),e,r)}const nM=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,rM=t=>e=>1-t(1-e),oM=Mf(.33,1.53,.69,.99),jx=rM(oM),aM=nM(jx),iM=t=>(t*=2)<1?.5*jx(t):.5*(2-Math.pow(2,-10*(t-1))),Wx=t=>1-Math.sin(Math.acos(t)),sM=rM(Wx),uM=nM(Wx),V9=Mf(.42,0,1,1),U9=Mf(0,0,.58,1),lM=Mf(.42,0,.58,1),j9=t=>Array.isArray(t)&&typeof t[0]!="number",cM=t=>Array.isArray(t)&&typeof t[0]=="number",W9={linear:no,easeIn:V9,easeInOut:lM,easeOut:U9,circIn:Wx,circInOut:uM,circOut:sM,backIn:jx,backInOut:aM,backOut:oM,anticipate:iM},H9=t=>typeof t=="string",BT=t=>{if(cM(t)){zx(t.length===4);const[e,n,r,o]=t;return Mf(e,n,r,o)}else if(H9(t))return W9[t];return t},hh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function G9(t,e){let n=new Set,r=new Set,o=!1,a=!1;const s=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function c(h){s.has(h)&&(f.schedule(h),t()),h(u)}const f={schedule:(h,p=!1,v=!1)=>{const y=v&&o?n:r;return p&&s.add(h),y.has(h)||y.add(h),h},cancel:h=>{r.delete(h),s.delete(h)},process:h=>{if(u=h,o){a=!0;return}o=!0,[n,r]=[r,n],n.forEach(c),n.clear(),o=!1,a&&(a=!1,f.process(h))}};return f}const $9=40;function fM(t,e){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,s=hh.reduce((E,T)=>(E[T]=G9(a),E),{}),{setup:u,read:c,resolveKeyframes:f,preUpdate:h,update:p,preRender:v,render:g,postRender:y}=s,x=()=>{const E=Ma.useManualTiming?o.timestamp:performance.now();n=!1,Ma.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(E-o.timestamp,$9),1)),o.timestamp=E,o.isProcessing=!0,u.process(o),c.process(o),f.process(o),h.process(o),p.process(o),v.process(o),g.process(o),y.process(o),o.isProcessing=!1,n&&e&&(r=!1,t(x))},w=()=>{n=!0,r=!0,o.isProcessing||t(x)};return{schedule:hh.reduce((E,T)=>{const R=s[T];return E[T]=(_,M=!1,k=!1)=>(n||w(),R.schedule(_,M,k)),E},{}),cancel:E=>{for(let T=0;T<hh.length;T++)s[hh[T]].cancel(E)},state:o,steps:s}}const{schedule:qe,cancel:Ci,state:Fn,steps:dy}=fM(typeof requestAnimationFrame<"u"?requestAnimationFrame:no,!0);let Eh;function q9(){Eh=void 0}const hr={now:()=>(Eh===void 0&&hr.set(Fn.isProcessing||Ma.useManualTiming?Fn.timestamp:performance.now()),Eh),set:t=>{Eh=t,queueMicrotask(q9)}},dM=t=>e=>typeof e=="string"&&e.startsWith(t),Hx=dM("--"),K9=dM("var(--"),Gx=t=>K9(t)?X9.test(t.split("/*")[0].trim()):!1,X9=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ll={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ef={...ll,transform:t=>ka(0,1,t)},ph={...ll,default:1},Ic=t=>Math.round(t*1e5)/1e5,$x=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Y9(t){return t==null}const Q9=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,qx=(t,e)=>n=>!!(typeof n=="string"&&Q9.test(n)&&n.startsWith(t)||e&&!Y9(n)&&Object.prototype.hasOwnProperty.call(n,e)),hM=(t,e,n)=>r=>{if(typeof r!="string")return r;const[o,a,s,u]=r.match($x);return{[t]:parseFloat(o),[e]:parseFloat(a),[n]:parseFloat(s),alpha:u!==void 0?parseFloat(u):1}},Z9=t=>ka(0,255,t),hy={...ll,transform:t=>Math.round(Z9(t))},us={test:qx("rgb","red"),parse:hM("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+hy.transform(t)+", "+hy.transform(e)+", "+hy.transform(n)+", "+Ic(ef.transform(r))+")"};function J9(t){let e="",n="",r="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,r+=r,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const x0={test:qx("#"),parse:J9,transform:us.transform},Nf=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),di=Nf("deg"),$o=Nf("%"),$t=Nf("px"),tq=Nf("vh"),eq=Nf("vw"),FT={...$o,parse:t=>$o.parse(t)/100,transform:t=>$o.transform(t*100)},Eu={test:qx("hsl","hue"),parse:hM("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+$o.transform(Ic(e))+", "+$o.transform(Ic(n))+", "+Ic(ef.transform(r))+")"},mn={test:t=>us.test(t)||x0.test(t)||Eu.test(t),parse:t=>us.test(t)?us.parse(t):Eu.test(t)?Eu.parse(t):x0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?us.transform(t):Eu.transform(t),getAnimatableNone:t=>{const e=mn.parse(t);return e.alpha=0,mn.transform(e)}},nq=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function rq(t){return isNaN(t)&&typeof t=="string"&&(t.match($x)?.length||0)+(t.match(nq)?.length||0)>0}const pM="number",mM="color",oq="var",aq="var(",LT="${}",iq=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function nf(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},o=[];let a=0;const u=e.replace(iq,c=>(mn.test(c)?(r.color.push(a),o.push(mM),n.push(mn.parse(c))):c.startsWith(aq)?(r.var.push(a),o.push(oq),n.push(c)):(r.number.push(a),o.push(pM),n.push(parseFloat(c))),++a,LT)).split(LT);return{values:n,split:u,indexes:r,types:o}}function vM(t){return nf(t).values}function gM(t){const{split:e,types:n}=nf(t),r=e.length;return o=>{let a="";for(let s=0;s<r;s++)if(a+=e[s],o[s]!==void 0){const u=n[s];u===pM?a+=Ic(o[s]):u===mM?a+=mn.transform(o[s]):a+=o[s]}return a}}const sq=t=>typeof t=="number"?0:mn.test(t)?mn.getAnimatableNone(t):t;function uq(t){const e=vM(t);return gM(t)(e.map(sq))}const Ei={test:rq,parse:vM,createTransformer:gM,getAnimatableNone:uq};function py(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function lq({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let o=0,a=0,s=0;if(!e)o=a=s=n;else{const u=n<.5?n*(1+e):n+e-n*e,c=2*n-u;o=py(c,u,t+1/3),a=py(c,u,t),s=py(c,u,t-1/3)}return{red:Math.round(o*255),green:Math.round(a*255),blue:Math.round(s*255),alpha:r}}function pp(t,e){return n=>n>0?e:t}const Qe=(t,e,n)=>t+(e-t)*n,my=(t,e,n)=>{const r=t*t,o=n*(e*e-r)+r;return o<0?0:Math.sqrt(o)},cq=[x0,us,Eu],fq=t=>cq.find(e=>e.test(t));function zT(t){const e=fq(t);if(!e)return!1;let n=e.parse(t);return e===Eu&&(n=lq(n)),n}const VT=(t,e)=>{const n=zT(t),r=zT(e);if(!n||!r)return pp(t,e);const o={...n};return a=>(o.red=my(n.red,r.red,a),o.green=my(n.green,r.green,a),o.blue=my(n.blue,r.blue,a),o.alpha=Qe(n.alpha,r.alpha,a),us.transform(o))},w0=new Set(["none","hidden"]);function dq(t,e){return w0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function hq(t,e){return n=>Qe(t,e,n)}function Kx(t){return typeof t=="number"?hq:typeof t=="string"?Gx(t)?pp:mn.test(t)?VT:vq:Array.isArray(t)?yM:typeof t=="object"?mn.test(t)?VT:pq:pp}function yM(t,e){const n=[...t],r=n.length,o=t.map((a,s)=>Kx(a)(a,e[s]));return a=>{for(let s=0;s<r;s++)n[s]=o[s](a);return n}}function pq(t,e){const n={...t,...e},r={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(r[o]=Kx(t[o])(t[o],e[o]));return o=>{for(const a in r)n[a]=r[a](o);return n}}function mq(t,e){const n=[],r={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const a=e.types[o],s=t.indexes[a][r[a]],u=t.values[s]??0;n[o]=u,r[a]++}return n}const vq=(t,e)=>{const n=Ei.createTransformer(e),r=nf(t),o=nf(e);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?w0.has(t)&&!o.values.length||w0.has(e)&&!r.values.length?dq(t,e):kf(yM(mq(r,o),o.values),n):pp(t,e)};function bM(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Qe(t,e,n):Kx(t)(t,e)}const gq=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>qe.update(e,n),stop:()=>Ci(e),now:()=>Fn.isProcessing?Fn.timestamp:hr.now()}},xM=(t,e,n=10)=>{let r="";const o=Math.max(Math.round(e/n),2);for(let a=0;a<o;a++)r+=Math.round(t(a/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},mp=2e4;function Xx(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<mp;)e+=n,r=t.next(e);return e>=mp?1/0:e}function yq(t,e=100,n){const r=n({...t,keyframes:[0,e]}),o=Math.min(Xx(r),mp);return{type:"keyframes",ease:a=>r.next(o*a).value/e,duration:Go(o)}}const bq=5;function wM(t,e,n){const r=Math.max(e-bq,0);return tM(n-t(r),e-r)}const sn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},vy=.001;function xq({duration:t=sn.duration,bounce:e=sn.bounce,velocity:n=sn.velocity,mass:r=sn.mass}){let o,a,s=1-e;s=ka(sn.minDamping,sn.maxDamping,s),t=ka(sn.minDuration,sn.maxDuration,Go(t)),s<1?(o=f=>{const h=f*s,p=h*t,v=h-n,g=S0(f,s),y=Math.exp(-p);return vy-v/g*y},a=f=>{const p=f*s*t,v=p*n+n,g=Math.pow(s,2)*Math.pow(f,2)*t,y=Math.exp(-p),x=S0(Math.pow(f,2),s);return(-o(f)+vy>0?-1:1)*((v-g)*y)/x}):(o=f=>{const h=Math.exp(-f*t),p=(f-n)*t+1;return-vy+h*p},a=f=>{const h=Math.exp(-f*t),p=(n-f)*(t*t);return h*p});const u=5/t,c=Sq(o,a,u);if(t=Ho(t),isNaN(c))return{stiffness:sn.stiffness,damping:sn.damping,duration:t};{const f=Math.pow(c,2)*r;return{stiffness:f,damping:s*2*Math.sqrt(r*f),duration:t}}}const wq=12;function Sq(t,e,n){let r=n;for(let o=1;o<wq;o++)r=r-t(r)/e(r);return r}function S0(t,e){return t*Math.sqrt(1-e*e)}const Cq=["duration","bounce"],Eq=["stiffness","damping","mass"];function UT(t,e){return e.some(n=>t[n]!==void 0)}function Tq(t){let e={velocity:sn.velocity,stiffness:sn.stiffness,damping:sn.damping,mass:sn.mass,isResolvedFromDuration:!1,...t};if(!UT(t,Eq)&&UT(t,Cq))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),o=r*r,a=2*ka(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:sn.mass,stiffness:o,damping:a}}else{const n=xq(t);e={...e,...n,mass:sn.mass},e.isResolvedFromDuration=!0}return e}function vp(t=sn.visualDuration,e=sn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:o}=n;const a=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],u={done:!1,value:a},{stiffness:c,damping:f,mass:h,duration:p,velocity:v,isResolvedFromDuration:g}=Tq({...n,velocity:-Go(n.velocity||0)}),y=v||0,x=f/(2*Math.sqrt(c*h)),w=s-a,S=Go(Math.sqrt(c/h)),A=Math.abs(w)<5;r||(r=A?sn.restSpeed.granular:sn.restSpeed.default),o||(o=A?sn.restDelta.granular:sn.restDelta.default);let E;if(x<1){const R=S0(S,x);E=_=>{const M=Math.exp(-x*S*_);return s-M*((y+x*S*w)/R*Math.sin(R*_)+w*Math.cos(R*_))}}else if(x===1)E=R=>s-Math.exp(-S*R)*(w+(y+S*w)*R);else{const R=S*Math.sqrt(x*x-1);E=_=>{const M=Math.exp(-x*S*_),k=Math.min(R*_,300);return s-M*((y+x*S*w)*Math.sinh(k)+R*w*Math.cosh(k))/R}}const T={calculatedDuration:g&&p||null,next:R=>{const _=E(R);if(g)u.done=R>=p;else{let M=R===0?y:0;x<1&&(M=R===0?Ho(y):wM(E,R,_));const k=Math.abs(M)<=r,N=Math.abs(s-_)<=o;u.done=k&&N}return u.value=u.done?s:_,u},toString:()=>{const R=Math.min(Xx(T),mp),_=xM(M=>T.next(R*M).value,R,30);return R+"ms "+_},toTransition:()=>{}};return T}vp.applyToOptions=t=>{const e=yq(t,100,vp);return t.ease=e.ease,t.duration=Ho(e.duration),t.type="keyframes",t};function C0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:a=500,modifyTarget:s,min:u,max:c,restDelta:f=.5,restSpeed:h}){const p=t[0],v={done:!1,value:p},g=k=>u!==void 0&&k<u||c!==void 0&&k>c,y=k=>u===void 0?c:c===void 0||Math.abs(u-k)<Math.abs(c-k)?u:c;let x=n*e;const w=p+x,S=s===void 0?w:s(w);S!==w&&(x=S-p);const A=k=>-x*Math.exp(-k/r),E=k=>S+A(k),T=k=>{const N=A(k),I=E(k);v.done=Math.abs(N)<=f,v.value=v.done?S:I};let R,_;const M=k=>{g(v.value)&&(R=k,_=vp({keyframes:[v.value,y(v.value)],velocity:wM(E,k,v.value),damping:o,stiffness:a,restDelta:f,restSpeed:h}))};return M(0),{calculatedDuration:null,next:k=>{let N=!1;return!_&&R===void 0&&(N=!0,T(k),M(k)),R!==void 0&&k>=R?_.next(k-R):(!N&&T(k),v)}}}function Rq(t,e,n){const r=[],o=n||Ma.mix||bM,a=t.length-1;for(let s=0;s<a;s++){let u=o(t[s],t[s+1]);if(e){const c=Array.isArray(e)?e[s]||no:e;u=kf(c,u)}r.push(u)}return r}function Aq(t,e,{clamp:n=!0,ease:r,mixer:o}={}){const a=t.length;if(zx(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const s=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=Rq(e,r,o),c=u.length,f=h=>{if(s&&h<t[0])return e[0];let p=0;if(c>1)for(;p<t.length-2&&!(h<t[p+1]);p++);const v=tf(t[p],t[p+1],h);return u[p](v)};return n?h=>f(ka(t[0],t[a-1],h)):f}function _q(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const o=tf(0,e,r);t.push(Qe(n,1,o))}}function Dq(t){const e=[0];return _q(e,t.length-1),e}function kq(t,e){return t.map(n=>n*e)}function Mq(t,e){return t.map(()=>e||lM).splice(0,t.length-1)}function Bc({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const o=j9(r)?r.map(BT):BT(r),a={done:!1,value:e[0]},s=kq(n&&n.length===e.length?n:Dq(e),t),u=Aq(s,e,{ease:Array.isArray(o)?o:Mq(e,o)});return{calculatedDuration:t,next:c=>(a.value=u(c),a.done=c>=t,a)}}const Nq=t=>t!==null;function Yx(t,{repeat:e,repeatType:n="loop"},r,o=1){const a=t.filter(Nq),u=o<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!u||r===void 0?a[u]:r}const Oq={decay:C0,inertia:C0,tween:Bc,keyframes:Bc,spring:vp};function SM(t){typeof t.type=="string"&&(t.type=Oq[t.type])}class Qx{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const Pq=t=>t/100;class Zx extends Qx{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==hr.now()&&this.tick(hr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;SM(e);const{type:n=Bc,repeat:r=0,repeatDelay:o=0,repeatType:a,velocity:s=0}=e;let{keyframes:u}=e;const c=n||Bc;c!==Bc&&typeof u[0]!="number"&&(this.mixKeyframes=kf(Pq,bM(u[0],u[1])),u=[0,100]);const f=c({...e,keyframes:u});a==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...u].reverse(),velocity:-s})),f.calculatedDuration===null&&(f.calculatedDuration=Xx(f));const{calculatedDuration:h}=f;this.calculatedDuration=h,this.resolvedDuration=h+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=f}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:o,mixKeyframes:a,mirroredGenerator:s,resolvedDuration:u,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:f=0,keyframes:h,repeat:p,repeatType:v,repeatDelay:g,type:y,onUpdate:x,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const S=this.currentTime-f*(this.playbackSpeed>=0?1:-1),A=this.playbackSpeed>=0?S<0:S>o;this.currentTime=Math.max(S,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let E=this.currentTime,T=r;if(p){const k=Math.min(this.currentTime,o)/u;let N=Math.floor(k),I=k%1;!I&&k>=1&&(I=1),I===1&&N--,N=Math.min(N,p+1),!!(N%2)&&(v==="reverse"?(I=1-I,g&&(I-=g/u)):v==="mirror"&&(T=s)),E=ka(0,1,I)*u}const R=A?{done:!1,value:h[0]}:T.next(E);a&&(R.value=a(R.value));let{done:_}=R;!A&&c!==null&&(_=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&_);return M&&y!==C0&&(R.value=Yx(h,this.options,w,this.speed)),x&&x(R.value),M&&this.finish(),R}then(e,n){return this.finished.then(e,n)}get duration(){return Go(this.calculatedDuration)}get time(){return Go(this.currentTime)}set time(e){e=Ho(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(hr.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Go(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=gq,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(hr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function Iq(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ls=t=>t*180/Math.PI,E0=t=>{const e=ls(Math.atan2(t[1],t[0]));return T0(e)},Bq={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:E0,rotateZ:E0,skewX:t=>ls(Math.atan(t[1])),skewY:t=>ls(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},T0=t=>(t=t%360,t<0&&(t+=360),t),jT=E0,WT=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),HT=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Fq={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:WT,scaleY:HT,scale:t=>(WT(t)+HT(t))/2,rotateX:t=>T0(ls(Math.atan2(t[6],t[5]))),rotateY:t=>T0(ls(Math.atan2(-t[2],t[0]))),rotateZ:jT,rotate:jT,skewX:t=>ls(Math.atan(t[4])),skewY:t=>ls(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function R0(t){return t.includes("scale")?1:0}function A0(t,e){if(!t||t==="none")return R0(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(n)r=Fq,o=n;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=Bq,o=u}if(!o)return R0(e);const a=r[e],s=o[1].split(",").map(zq);return typeof a=="function"?a(s):s[a]}const Lq=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return A0(n,e)};function zq(t){return parseFloat(t.trim())}const cl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],fl=new Set(cl),GT=t=>t===ll||t===$t,Vq=new Set(["x","y","z"]),Uq=cl.filter(t=>!Vq.has(t));function jq(t){const e=[];return Uq.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const hs={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>A0(e,"x"),y:(t,{transform:e})=>A0(e,"y")};hs.translateX=hs.x;hs.translateY=hs.y;const ps=new Set;let _0=!1,D0=!1,k0=!1;function CM(){if(D0){const t=Array.from(ps).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const o=jq(r);o.length&&(n.set(r,o),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const o=n.get(r);o&&o.forEach(([a,s])=>{r.getValue(a)?.set(s)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}D0=!1,_0=!1,ps.forEach(t=>t.complete(k0)),ps.clear()}function EM(){ps.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(D0=!0)})}function Wq(){k0=!0,EM(),CM(),k0=!1}class Jx{constructor(e,n,r,o,a,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=o,this.element=a,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(ps.add(this),_0||(_0=!0,qe.read(EM),qe.resolveKeyframes(CM))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:o}=this;if(e[0]===null){const a=o?.get(),s=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const u=r.readValue(n,s);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=s),o&&a===void 0&&o.set(e[0])}Iq(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ps.delete(this)}cancel(){this.state==="scheduled"&&(ps.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Hq=t=>t.startsWith("--");function Gq(t,e,n){Hq(e)?t.style.setProperty(e,n):t.style[e]=n}const $q=Vx(()=>window.ScrollTimeline!==void 0),qq={};function Kq(t,e){const n=Vx(t);return()=>qq[e]??n()}const TM=Kq(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Rc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,$T={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Rc([0,.65,.55,1]),circOut:Rc([.55,0,1,.45]),backIn:Rc([.31,.01,.66,-.59]),backOut:Rc([.33,1.53,.69,.99])};function RM(t,e){if(t)return typeof t=="function"?TM()?xM(t,e):"ease-out":cM(t)?Rc(t):Array.isArray(t)?t.map(n=>RM(n,e)||$T.easeOut):$T[t]}function Xq(t,e,n,{delay:r=0,duration:o=300,repeat:a=0,repeatType:s="loop",ease:u="easeOut",times:c}={},f=void 0){const h={[e]:n};c&&(h.offset=c);const p=RM(u,o);Array.isArray(p)&&(h.easing=p);const v={delay:r,duration:o,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:a+1,direction:s==="reverse"?"alternate":"normal"};return f&&(v.pseudoElement=f),t.animate(h,v)}function AM(t){return typeof t=="function"&&"applyToOptions"in t}function Yq({type:t,...e}){return AM(t)&&TM()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Qq extends Qx{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:o,pseudoElement:a,allowFlatten:s=!1,finalKeyframe:u,onComplete:c}=e;this.isPseudoElement=!!a,this.allowFlatten=s,this.options=e,zx(typeof e.type!="string");const f=Yq(e);this.animation=Xq(n,r,o,f,a),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const h=Yx(o,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(h):Gq(n,r,h),this.animation.cancel()}c?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Go(Number(e))}get time(){return Go(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ho(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&$q()?(this.animation.timeline=e,no):n(this)}}const _M={anticipate:iM,backInOut:aM,circInOut:uM};function Zq(t){return t in _M}function Jq(t){typeof t.ease=="string"&&Zq(t.ease)&&(t.ease=_M[t.ease])}const qT=10;class tK extends Qq{constructor(e){Jq(e),SM(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:o,element:a,...s}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const u=new Zx({...s,autoplay:!1}),c=Ho(this.finishedTime??this.time);n.setWithVelocity(u.sample(c-qT).value,u.sample(c).value,qT),u.stop()}}const KT=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ei.test(t)||t==="0")&&!t.startsWith("url("));function eK(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function nK(t,e,n,r){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],s=KT(o,e),u=KT(a,e);return!s||!u?!1:eK(t)||(n==="spring"||AM(n))&&r}function M0(t){t.duration=0,t.type}const rK=new Set(["opacity","clipPath","filter","transform"]),oK=Vx(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function aK(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:o,damping:a,type:s}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:f}=e.owner.getProps();return oK()&&n&&rK.has(n)&&(n!=="transform"||!f)&&!c&&!r&&o!=="mirror"&&a!==0&&s!=="inertia"}const iK=40;class sK extends Qx{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:o=0,repeatDelay:a=0,repeatType:s="loop",keyframes:u,name:c,motionValue:f,element:h,...p}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=hr.now();const v={autoplay:e,delay:n,type:r,repeat:o,repeatDelay:a,repeatType:s,name:c,motionValue:f,element:h,...p},g=h?.KeyframeResolver||Jx;this.keyframeResolver=new g(u,(y,x,w)=>this.onKeyframesResolved(y,x,v,!w),c,f,h),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,o){this.keyframeResolver=void 0;const{name:a,type:s,velocity:u,delay:c,isHandoff:f,onUpdate:h}=r;this.resolvedAt=hr.now(),nK(e,a,s,u)||((Ma.instantAnimations||!c)&&h?.(Yx(e,r,n)),e[0]=e[e.length-1],M0(r),r.repeat=0);const v={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>iK?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},g=!f&&aK(v)?new tK({...v,element:v.motionValue.owner.current}):new Zx(v);g.finished.then(()=>this.notifyFinished()).catch(no),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Wq()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const uK=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function lK(t){const e=uK.exec(t);if(!e)return[,];const[,n,r,o]=e;return[`--${n??r}`,o]}function DM(t,e,n=1){const[r,o]=lK(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const s=a.trim();return Qk(s)?parseFloat(s):s}return Gx(o)?DM(o,e,n+1):o}function t1(t,e){return t?.[e]??t?.default??t}const kM=new Set(["width","height","top","left","right","bottom",...cl]),cK={test:t=>t==="auto",parse:t=>t},MM=t=>e=>e.test(t),NM=[ll,$t,$o,di,eq,tq,cK],XT=t=>NM.find(MM(t));function fK(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Jk(t):!0}const dK=new Set(["brightness","contrast","saturate","opacity"]);function hK(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match($x)||[];if(!r)return t;const o=n.replace(r,"");let a=dK.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+o+")"}const pK=/\b([a-z-]*)\(.*?\)/gu,N0={...Ei,getAnimatableNone:t=>{const e=t.match(pK);return e?e.map(hK).join(" "):t}},YT={...ll,transform:Math.round},mK={rotate:di,rotateX:di,rotateY:di,rotateZ:di,scale:ph,scaleX:ph,scaleY:ph,scaleZ:ph,skew:di,skewX:di,skewY:di,distance:$t,translateX:$t,translateY:$t,translateZ:$t,x:$t,y:$t,z:$t,perspective:$t,transformPerspective:$t,opacity:ef,originX:FT,originY:FT,originZ:$t},e1={borderWidth:$t,borderTopWidth:$t,borderRightWidth:$t,borderBottomWidth:$t,borderLeftWidth:$t,borderRadius:$t,radius:$t,borderTopLeftRadius:$t,borderTopRightRadius:$t,borderBottomRightRadius:$t,borderBottomLeftRadius:$t,width:$t,maxWidth:$t,height:$t,maxHeight:$t,top:$t,right:$t,bottom:$t,left:$t,padding:$t,paddingTop:$t,paddingRight:$t,paddingBottom:$t,paddingLeft:$t,margin:$t,marginTop:$t,marginRight:$t,marginBottom:$t,marginLeft:$t,backgroundPositionX:$t,backgroundPositionY:$t,...mK,zIndex:YT,fillOpacity:ef,strokeOpacity:ef,numOctaves:YT},vK={...e1,color:mn,backgroundColor:mn,outlineColor:mn,fill:mn,stroke:mn,borderColor:mn,borderTopColor:mn,borderRightColor:mn,borderBottomColor:mn,borderLeftColor:mn,filter:N0,WebkitFilter:N0},OM=t=>vK[t];function PM(t,e){let n=OM(t);return n!==N0&&(n=Ei),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const gK=new Set(["auto","none","0"]);function yK(t,e,n){let r=0,o;for(;r<t.length&&!o;){const a=t[r];typeof a=="string"&&!gK.has(a)&&nf(a).values.length&&(o=t[r]),r++}if(o&&n)for(const a of e)t[a]=PM(n,o)}class bK extends Jx{constructor(e,n,r,o,a){super(e,n,r,o,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let f=e[c];if(typeof f=="string"&&(f=f.trim(),Gx(f))){const h=DM(f,n.current);h!==void 0&&(e[c]=h),c===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!kM.has(r)||e.length!==2)return;const[o,a]=e,s=XT(o),u=XT(a);if(s!==u)if(GT(s)&&GT(u))for(let c=0;c<e.length;c++){const f=e[c];typeof f=="string"&&(e[c]=parseFloat(f))}else hs[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let o=0;o<e.length;o++)(e[o]===null||fK(e[o]))&&r.push(o);r.length&&yK(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=hs[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&e.getValue(r,o).jump(o,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const o=e.getValue(n);o&&o.jump(this.measuredOrigin,!1);const a=r.length-1,s=r[a];r[a]=hs[n](e.measureViewportBox(),window.getComputedStyle(e.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),this.removedTransforms?.length&&this.removedTransforms.forEach(([u,c])=>{e.getValue(u).set(c)}),this.resolveNoneKeyframes()}}function xK(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const o=n?.[t]??r.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}const IM=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function wK(t){return Zk(t)&&"offsetHeight"in t}const QT=30,SK=t=>!isNaN(parseFloat(t));class CK{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const o=hr.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=hr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=SK(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Ux);const r=this.events[e].add(n);return e==="change"?()=>{r(),qe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=hr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>QT)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,QT);return tM(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Yu(t,e){return new CK(t,e)}const{schedule:n1}=fM(queueMicrotask,!1),ho={x:!1,y:!1};function BM(){return ho.x||ho.y}function EK(t){return t==="x"||t==="y"?ho[t]?null:(ho[t]=!0,()=>{ho[t]=!1}):ho.x||ho.y?null:(ho.x=ho.y=!0,()=>{ho.x=ho.y=!1})}function FM(t,e){const n=xK(t),r=new AbortController,o={passive:!0,...e,signal:r.signal};return[n,o,()=>r.abort()]}function ZT(t){return!(t.pointerType==="touch"||BM())}function TK(t,e,n={}){const[r,o,a]=FM(t,n),s=u=>{if(!ZT(u))return;const{target:c}=u,f=e(c,u);if(typeof f!="function"||!c)return;const h=p=>{ZT(p)&&(f(p),c.removeEventListener("pointerleave",h))};c.addEventListener("pointerleave",h,o)};return r.forEach(u=>{u.addEventListener("pointerenter",s,o)}),a}const LM=(t,e)=>e?t===e?!0:LM(t,e.parentElement):!1,r1=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,RK=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function AK(t){return RK.has(t.tagName)||t.tabIndex!==-1}const Th=new WeakSet;function JT(t){return e=>{e.key==="Enter"&&t(e)}}function gy(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const _K=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=JT(()=>{if(Th.has(n))return;gy(n,"down");const o=JT(()=>{gy(n,"up")}),a=()=>gy(n,"cancel");n.addEventListener("keyup",o,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function tR(t){return r1(t)&&!BM()}function DK(t,e,n={}){const[r,o,a]=FM(t,n),s=u=>{const c=u.currentTarget;if(!tR(u))return;Th.add(c);const f=e(c,u),h=(g,y)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",v),Th.has(c)&&Th.delete(c),tR(g)&&typeof f=="function"&&f(g,{success:y})},p=g=>{h(g,c===window||c===document||n.useGlobalTarget||LM(c,g.target))},v=g=>{h(g,!1)};window.addEventListener("pointerup",p,o),window.addEventListener("pointercancel",v,o)};return r.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",s,o),wK(u)&&(u.addEventListener("focus",f=>_K(f,o)),!AK(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),a}function zM(t){return Zk(t)&&"ownerSVGElement"in t}function kK(t){return zM(t)&&t.tagName==="svg"}const Jn=t=>!!(t&&t.getVelocity),MK=[...NM,mn,Ei],NK=t=>MK.find(MM(t)),VM=O.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function OK(t=!0){const e=O.useContext(Bx);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:o}=e,a=O.useId();O.useEffect(()=>{if(t)return o(a)},[t]);const s=O.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,s]:[!0]}const UM=O.createContext({strict:!1}),eR={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Qu={};for(const t in eR)Qu[t]={isEnabled:e=>eR[t].some(n=>!!e[n])};function PK(t){for(const e in t)Qu[e]={...Qu[e],...t[e]}}const IK=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function gp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||IK.has(t)}let jM=t=>!gp(t);function BK(t){typeof t=="function"&&(jM=e=>e.startsWith("on")?!gp(e):t(e))}try{BK(require("@emotion/is-prop-valid").default)}catch{}function FK(t,e,n){const r={};for(const o in t)o==="values"&&typeof t.values=="object"||(jM(o)||n===!0&&gp(o)||!e&&!gp(o)||t.draggable&&o.startsWith("onDrag"))&&(r[o]=t[o]);return r}const rm=O.createContext({});function om(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function rf(t){return typeof t=="string"||Array.isArray(t)}const o1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],a1=["initial",...o1];function am(t){return om(t.animate)||a1.some(e=>rf(t[e]))}function WM(t){return!!(am(t)||t.variants)}function LK(t,e){if(am(t)){const{initial:n,animate:r}=t;return{initial:n===!1||rf(n)?n:void 0,animate:rf(r)?r:void 0}}return t.inherit!==!1?e:{}}function zK(t){const{initial:e,animate:n}=LK(t,O.useContext(rm));return O.useMemo(()=>({initial:e,animate:n}),[nR(e),nR(n)])}function nR(t){return Array.isArray(t)?t.join(" "):t}const of={};function VK(t){for(const e in t)of[e]=t[e],Hx(e)&&(of[e].isCSSVariable=!0)}function HM(t,{layout:e,layoutId:n}){return fl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!of[t]||t==="opacity")}const UK={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},jK=cl.length;function WK(t,e,n){let r="",o=!0;for(let a=0;a<jK;a++){const s=cl[a],u=t[s];if(u===void 0)continue;let c=!0;if(typeof u=="number"?c=u===(s.startsWith("scale")?1:0):c=parseFloat(u)===0,!c||n){const f=IM(u,e1[s]);if(!c){o=!1;const h=UK[s]||s;r+=`${h}(${f}) `}n&&(e[s]=f)}}return r=r.trim(),n?r=n(e,o?"":r):o&&(r="none"),r}function i1(t,e,n){const{style:r,vars:o,transformOrigin:a}=t;let s=!1,u=!1;for(const c in e){const f=e[c];if(fl.has(c)){s=!0;continue}else if(Hx(c)){o[c]=f;continue}else{const h=IM(f,e1[c]);c.startsWith("origin")?(u=!0,a[c]=h):r[c]=h}}if(e.transform||(s||n?r.transform=WK(e,t.transform,n):r.transform&&(r.transform="none")),u){const{originX:c="50%",originY:f="50%",originZ:h=0}=a;r.transformOrigin=`${c} ${f} ${h}`}}const s1=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function GM(t,e,n){for(const r in e)!Jn(e[r])&&!HM(r,n)&&(t[r]=e[r])}function HK({transformTemplate:t},e){return O.useMemo(()=>{const n=s1();return i1(n,e,t),Object.assign({},n.vars,n.style)},[e])}function GK(t,e){const n=t.style||{},r={};return GM(r,n,t),Object.assign(r,HK(t,e)),r}function $K(t,e){const n={},r=GK(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const qK={offset:"stroke-dashoffset",array:"stroke-dasharray"},KK={offset:"strokeDashoffset",array:"strokeDasharray"};function XK(t,e,n=1,r=0,o=!0){t.pathLength=1;const a=o?qK:KK;t[a.offset]=$t.transform(-r);const s=$t.transform(e),u=$t.transform(n);t[a.array]=`${s} ${u}`}function $M(t,{attrX:e,attrY:n,attrScale:r,pathLength:o,pathSpacing:a=1,pathOffset:s=0,...u},c,f,h){if(i1(t,u,f),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:v}=t;p.transform&&(v.transform=p.transform,delete p.transform),(v.transform||p.transformOrigin)&&(v.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),v.transform&&(v.transformBox=h?.transformBox??"fill-box",delete p.transformBox),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),o!==void 0&&XK(p,o,a,s,!1)}const qM=()=>({...s1(),attrs:{}}),KM=t=>typeof t=="string"&&t.toLowerCase()==="svg";function YK(t,e,n,r){const o=O.useMemo(()=>{const a=qM();return $M(a,e,KM(r),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};GM(a,t.style,t),o.style={...a,...o.style}}return o}const QK=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function u1(t){return typeof t!="string"||t.includes("-")?!1:!!(QK.indexOf(t)>-1||/[A-Z]/u.test(t))}function ZK(t,e,n,{latestValues:r},o,a=!1){const u=(u1(t)?YK:$K)(e,r,o,t),c=FK(e,typeof t=="string",a),f=t!==O.Fragment?{...c,...u,ref:n}:{},{children:h}=e,p=O.useMemo(()=>Jn(h)?h.get():h,[h]);return O.createElement(t,{...f,children:p})}function rR(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function l1(t,e,n,r){if(typeof e=="function"){const[o,a]=rR(r);e=e(n!==void 0?n:t.custom,o,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,a]=rR(r);e=e(n!==void 0?n:t.custom,o,a)}return e}function Rh(t){return Jn(t)?t.get():t}function JK({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,o){return{latestValues:tX(n,r,o,t),renderState:e()}}function tX(t,e,n,r){const o={},a=r(t,{});for(const v in a)o[v]=Rh(a[v]);let{initial:s,animate:u}=t;const c=am(t),f=WM(t);e&&f&&!c&&t.inherit!==!1&&(s===void 0&&(s=e.initial),u===void 0&&(u=e.animate));let h=n?n.initial===!1:!1;h=h||s===!1;const p=h?u:s;if(p&&typeof p!="boolean"&&!om(p)){const v=Array.isArray(p)?p:[p];for(let g=0;g<v.length;g++){const y=l1(t,v[g]);if(y){const{transitionEnd:x,transition:w,...S}=y;for(const A in S){let E=S[A];if(Array.isArray(E)){const T=h?E.length-1:0;E=E[T]}E!==null&&(o[A]=E)}for(const A in x)o[A]=x[A]}}}return o}const XM=t=>(e,n)=>{const r=O.useContext(rm),o=O.useContext(Bx),a=()=>JK(t,e,r,o);return n?a():P9(a)};function c1(t,e,n){const{style:r}=t,o={};for(const a in r)(Jn(r[a])||e.style&&Jn(e.style[a])||HM(a,t)||n?.getValue(a)?.liveStyle!==void 0)&&(o[a]=r[a]);return o}const eX=XM({scrapeMotionValuesFromProps:c1,createRenderState:s1});function YM(t,e,n){const r=c1(t,e,n);for(const o in t)if(Jn(t[o])||Jn(e[o])){const a=cl.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[a]=t[o]}return r}const nX=XM({scrapeMotionValuesFromProps:YM,createRenderState:qM}),rX=Symbol.for("motionComponentSymbol");function Tu(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function oX(t,e,n){return O.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Tu(n)&&(n.current=r))},[e])}const f1=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),aX="framerAppearId",QM="data-"+f1(aX),ZM=O.createContext({});function iX(t,e,n,r,o){const{visualElement:a}=O.useContext(rm),s=O.useContext(UM),u=O.useContext(Bx),c=O.useContext(VM).reducedMotion,f=O.useRef(null);r=r||s.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:a,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:c}));const h=f.current,p=O.useContext(ZM);h&&!h.projection&&o&&(h.type==="html"||h.type==="svg")&&sX(f.current,n,o,p);const v=O.useRef(!1);O.useInsertionEffect(()=>{h&&v.current&&h.update(n,u)});const g=n[QM],y=O.useRef(!!g&&!window.MotionHandoffIsComplete?.(g)&&window.MotionHasOptimisedAnimation?.(g));return I9(()=>{h&&(v.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),y.current&&h.animationState&&h.animationState.animateChanges())}),O.useEffect(()=>{h&&(!y.current&&h.animationState&&h.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(g)}),y.current=!1),h.enteringChildren=void 0)}),h}function sX(t,e,n,r){const{layoutId:o,layout:a,drag:s,dragConstraints:u,layoutScroll:c,layoutRoot:f,layoutCrossfade:h}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:JM(t.parent)),t.projection.setOptions({layoutId:o,layout:a,alwaysMeasureLayout:!!s||u&&Tu(u),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:h,layoutScroll:c,layoutRoot:f})}function JM(t){if(t)return t.options.allowProjection!==!1?t.projection:JM(t.parent)}function yy(t,{forwardMotionProps:e=!1}={},n,r){n&&PK(n);const o=u1(t)?nX:eX;function a(u,c){let f;const h={...O.useContext(VM),...u,layoutId:uX(u)},{isStatic:p}=h,v=zK(u),g=o(u,p);if(!p&&Ix){lX();const y=cX(h);f=y.MeasureLayout,v.visualElement=iX(t,g,h,r,y.ProjectionNode)}return U.jsxs(rm.Provider,{value:v,children:[f&&v.visualElement?U.jsx(f,{visualElement:v.visualElement,...h}):null,ZK(t,u,oX(g,v.visualElement,c),g,p,e)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const s=O.forwardRef(a);return s[rX]=t,s}function uX({layoutId:t}){const e=O.useContext(Yk).id;return e&&t!==void 0?e+"-"+t:t}function lX(t,e){O.useContext(UM).strict}function cX(t){const{drag:e,layout:n}=Qu;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function fX(t,e){if(typeof Proxy>"u")return yy;const n=new Map,r=(a,s)=>yy(a,s,t,e),o=(a,s)=>r(a,s);return new Proxy(o,{get:(a,s)=>s==="create"?r:(n.has(s)||n.set(s,yy(s,void 0,t,e)),n.get(s))})}function tN({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function dX({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function hX(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function by(t){return t===void 0||t===1}function O0({scale:t,scaleX:e,scaleY:n}){return!by(t)||!by(e)||!by(n)}function ns(t){return O0(t)||eN(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function eN(t){return oR(t.x)||oR(t.y)}function oR(t){return t&&t!=="0%"}function yp(t,e,n){const r=t-n,o=e*r;return n+o}function aR(t,e,n,r,o){return o!==void 0&&(t=yp(t,o,r)),yp(t,n,r)+e}function P0(t,e=0,n=1,r,o){t.min=aR(t.min,e,n,r,o),t.max=aR(t.max,e,n,r,o)}function nN(t,{x:e,y:n}){P0(t.x,e.translate,e.scale,e.originPoint),P0(t.y,n.translate,n.scale,n.originPoint)}const iR=.999999999999,sR=1.0000000000001;function pX(t,e,n,r=!1){const o=n.length;if(!o)return;e.x=e.y=1;let a,s;for(let u=0;u<o;u++){a=n[u],s=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Au(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,nN(t,s)),r&&ns(a.latestValues)&&Au(t,a.latestValues))}e.x<sR&&e.x>iR&&(e.x=1),e.y<sR&&e.y>iR&&(e.y=1)}function Ru(t,e){t.min=t.min+e,t.max=t.max+e}function uR(t,e,n,r,o=.5){const a=Qe(t.min,t.max,o);P0(t,e,n,a,r)}function Au(t,e){uR(t.x,e.x,e.scaleX,e.scale,e.originX),uR(t.y,e.y,e.scaleY,e.scale,e.originY)}function rN(t,e){return tN(hX(t.getBoundingClientRect(),e))}function mX(t,e,n){const r=rN(t,n),{scroll:o}=e;return o&&(Ru(r.x,o.offset.x),Ru(r.y,o.offset.y)),r}const lR=()=>({translate:0,scale:1,origin:0,originPoint:0}),_u=()=>({x:lR(),y:lR()}),cR=()=>({min:0,max:0}),cn=()=>({x:cR(),y:cR()}),I0={current:null},oN={current:!1};function vX(){if(oN.current=!0,!!Ix)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>I0.current=t.matches;t.addEventListener("change",e),e()}else I0.current=!1}const gX=new WeakMap;function yX(t,e,n){for(const r in e){const o=e[r],a=n[r];if(Jn(o))t.addValue(r,o);else if(Jn(a))t.addValue(r,Yu(o,{owner:t}));else if(a!==o)if(t.hasValue(r)){const s=t.getValue(r);s.liveStyle===!0?s.jump(o):s.hasAnimated||s.set(o)}else{const s=t.getStaticValue(r);t.addValue(r,Yu(s!==void 0?s:o,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const fR=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class bX{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:a,visualState:s},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Jx,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=hr.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,qe.render(this.render,!1,!0))};const{latestValues:c,renderState:f}=s;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=u,this.blockInitialAnimation=!!a,this.isControllingVariants=am(n),this.isVariantNode=WM(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in p){const g=p[v];c[v]!==void 0&&Jn(g)&&g.set(c[v])}}mount(e){this.current=e,gX.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),oN.current||vX(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:I0.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ci(this.notifyUpdate),Ci(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=fl.has(e);r&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",s=>{this.latestValues[e]=s,this.props.onUpdate&&qe.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{o(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Qu){const n=Qu[e];if(!n)continue;const{isEnabled:r,Feature:o}=n;if(!this.features[e]&&o&&r(this.props)&&(this.features[e]=new o(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):cn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<fR.length;r++){const o=fR[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const a="on"+o,s=e[a];s&&(this.propEventSubscriptions[o]=this.on(o,s))}this.prevMotionValues=yX(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Yu(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(Qk(r)||Jk(r))?r=parseFloat(r):!NK(r)&&Ei.test(n)&&(r=PM(e,n)),this.setBaseTarget(e,Jn(r)?r.get():r)),Jn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=l1(this.props,n,this.presenceContext?.custom);a&&(r=a[e])}if(n&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Jn(o)?o:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Ux),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){n1.render(this.render)}}class aN extends bX{constructor(){super(...arguments),this.KeyframeResolver=bK}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Jn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function iN(t,{style:e,vars:n},r,o){const a=t.style;let s;for(s in e)a[s]=e[s];o?.applyProjectionStyles(a,r);for(s in n)a.setProperty(s,n[s])}function xX(t){return window.getComputedStyle(t)}class wX extends aN{constructor(){super(...arguments),this.type="html",this.renderInstance=iN}readValueFromInstance(e,n){if(fl.has(n))return this.projection?.isProjecting?R0(n):Lq(e,n);{const r=xX(e),o=(Hx(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return rN(e,n)}build(e,n,r){i1(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return c1(e,n,r)}}const sN=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function SX(t,e,n,r){iN(t,e,void 0,r);for(const o in e.attrs)t.setAttribute(sN.has(o)?o:f1(o),e.attrs[o])}class CX extends aN{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=cn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(fl.has(n)){const r=OM(n);return r&&r.default||0}return n=sN.has(n)?n:f1(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return YM(e,n,r)}build(e,n,r){$M(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,o){SX(e,n,r,o)}mount(e){this.isSVGTag=KM(e.tagName),super.mount(e)}}const EX=(t,e)=>u1(t)?new CX(e):new wX(e,{allowProjection:t!==O.Fragment});function zu(t,e,n){const r=t.getProps();return l1(r,e,n!==void 0?n:r.custom,t)}const B0=t=>Array.isArray(t);function TX(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Yu(n))}function RX(t){return B0(t)?t[t.length-1]||0:t}function AX(t,e){const n=zu(t,e);let{transitionEnd:r={},transition:o={},...a}=n||{};a={...a,...r};for(const s in a){const u=RX(a[s]);TX(t,s,u)}}function _X(t){return!!(Jn(t)&&t.add)}function F0(t,e){const n=t.getValue("willChange");if(_X(n))return n.add(e);if(!n&&Ma.WillChange){const r=new Ma.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function uN(t){return t.props[QM]}const DX=t=>t!==null;function kX(t,{repeat:e,repeatType:n="loop"},r){const o=t.filter(DX),a=e&&n!=="loop"&&e%2===1?0:o.length-1;return o[a]}const MX={type:"spring",stiffness:500,damping:25,restSpeed:10},NX=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),OX={type:"keyframes",duration:.8},PX={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},IX=(t,{keyframes:e})=>e.length>2?OX:fl.has(t)?t.startsWith("scale")?NX(e[1]):MX:PX;function BX({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:a,repeatType:s,repeatDelay:u,from:c,elapsed:f,...h}){return!!Object.keys(h).length}const d1=(t,e,n,r={},o,a)=>s=>{const u=t1(r,t)||{},c=u.delay||r.delay||0;let{elapsed:f=0}=r;f=f-Ho(c);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-f,onUpdate:v=>{e.set(v),u.onUpdate&&u.onUpdate(v)},onComplete:()=>{s(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:a?void 0:o};BX(u)||Object.assign(h,IX(t,h)),h.duration&&(h.duration=Ho(h.duration)),h.repeatDelay&&(h.repeatDelay=Ho(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let p=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(M0(h),h.delay===0&&(p=!0)),(Ma.instantAnimations||Ma.skipAnimations)&&(p=!0,M0(h),h.delay=0),h.allowFlatten=!u.type&&!u.ease,p&&!a&&e.get()!==void 0){const v=kX(h.keyframes,u);if(v!==void 0){qe.update(()=>{h.onUpdate(v),h.onComplete()});return}}return u.isSync?new Zx(h):new sK(h)};function FX({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function lN(t,e,{delay:n=0,transitionOverride:r,type:o}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:s,...u}=e;r&&(a=r);const c=[],f=o&&t.animationState&&t.animationState.getState()[o];for(const h in u){const p=t.getValue(h,t.latestValues[h]??null),v=u[h];if(v===void 0||f&&FX(f,h))continue;const g={delay:n,...t1(a||{},h)},y=p.get();if(y!==void 0&&!p.isAnimating&&!Array.isArray(v)&&v===y&&!g.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const S=uN(t);if(S){const A=window.MotionHandoffAnimation(S,h,qe);A!==null&&(g.startTime=A,x=!0)}}F0(t,h),p.start(d1(h,p,v,t.shouldReduceMotion&&kM.has(h)?{type:!1}:g,t,x));const w=p.animation;w&&c.push(w)}return s&&Promise.all(c).then(()=>{qe.update(()=>{s&&AX(t,s)})}),c}function cN(t,e,n,r=0,o=1){const a=Array.from(t).sort((f,h)=>f.sortNodePosition(h)).indexOf(e),s=t.size,u=(s-1)*r;return typeof n=="function"?n(a,s):o===1?a*r:u-a*r}function L0(t,e,n={}){const r=zu(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const a=r?()=>Promise.all(lN(t,r,n)):()=>Promise.resolve(),s=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:f=0,staggerChildren:h,staggerDirection:p}=o;return LX(t,e,c,f,h,p,n)}:()=>Promise.resolve(),{when:u}=o;if(u){const[c,f]=u==="beforeChildren"?[a,s]:[s,a];return c().then(()=>f())}else return Promise.all([a(),s(n.delay)])}function LX(t,e,n=0,r=0,o=0,a=1,s){const u=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),u.push(L0(c,e,{...s,delay:n+(typeof r=="function"?0:r)+cN(t.variantChildren,c,r,o,a)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(u)}function zX(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const o=e.map(a=>L0(t,a,n));r=Promise.all(o)}else if(typeof e=="string")r=L0(t,e,n);else{const o=typeof e=="function"?zu(t,e,n.custom):e;r=Promise.all(lN(t,o,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function fN(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const VX=a1.length;function dN(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?dN(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<VX;n++){const r=a1[n],o=t.props[r];(rf(o)||o===!1)&&(e[r]=o)}return e}const UX=[...o1].reverse(),jX=o1.length;function WX(t){return e=>Promise.all(e.map(({animation:n,options:r})=>zX(t,n,r)))}function HX(t){let e=WX(t),n=dR(),r=!0;const o=c=>(f,h)=>{const p=zu(t,h,c==="exit"?t.presenceContext?.custom:void 0);if(p){const{transition:v,transitionEnd:g,...y}=p;f={...f,...y,...g}}return f};function a(c){e=c(t)}function s(c){const{props:f}=t,h=dN(t.parent)||{},p=[],v=new Set;let g={},y=1/0;for(let w=0;w<jX;w++){const S=UX[w],A=n[S],E=f[S]!==void 0?f[S]:h[S],T=rf(E),R=S===c?A.isActive:null;R===!1&&(y=w);let _=E===h[S]&&E!==f[S]&&T;if(_&&r&&t.manuallyAnimateOnMount&&(_=!1),A.protectedKeys={...g},!A.isActive&&R===null||!E&&!A.prevProp||om(E)||typeof E=="boolean")continue;const M=GX(A.prevProp,E);let k=M||S===c&&A.isActive&&!_&&T||w>y&&T,N=!1;const I=Array.isArray(E)?E:[E];let z=I.reduce(o(S),{});R===!1&&(z={});const{prevResolvedValues:D={}}=A,$={...D,...z},j=H=>{k=!0,v.has(H)&&(N=!0,v.delete(H)),A.needsAnimating[H]=!0;const q=t.getValue(H);q&&(q.liveStyle=!1)};for(const H in $){const q=z[H],X=D[H];if(g.hasOwnProperty(H))continue;let F=!1;B0(q)&&B0(X)?F=!fN(q,X):F=q!==X,F?q!=null?j(H):v.add(H):q!==void 0&&v.has(H)?j(H):A.protectedKeys[H]=!0}A.prevProp=E,A.prevResolvedValues=z,A.isActive&&(g={...g,...z}),r&&t.blockInitialAnimation&&(k=!1);const W=_&&M;k&&(!W||N)&&p.push(...I.map(H=>{const q={type:S};if(typeof H=="string"&&r&&!W&&t.manuallyAnimateOnMount&&t.parent){const{parent:X}=t,F=zu(X,H);if(X.enteringChildren&&F){const{delayChildren:Q}=F.transition||{};q.delay=cN(X.enteringChildren,t,Q)}}return{animation:H,options:q}}))}if(v.size){const w={};if(typeof f.initial!="boolean"){const S=zu(t,Array.isArray(f.initial)?f.initial[0]:f.initial);S&&S.transition&&(w.transition=S.transition)}v.forEach(S=>{const A=t.getBaseTarget(S),E=t.getValue(S);E&&(E.liveStyle=!0),w[S]=A??null}),p.push({animation:w})}let x=!!p.length;return r&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(x=!1),r=!1,x?e(p):Promise.resolve()}function u(c,f){if(n[c].isActive===f)return Promise.resolve();t.variantChildren?.forEach(p=>p.animationState?.setActive(c,f)),n[c].isActive=f;const h=s(c);for(const p in n)n[p].protectedKeys={};return h}return{animateChanges:s,setActive:u,setAnimateFunction:a,getState:()=>n,reset:()=>{n=dR(),r=!0}}}function GX(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!fN(e,t):!1}function Qi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function dR(){return{animate:Qi(!0),whileInView:Qi(),whileHover:Qi(),whileTap:Qi(),whileDrag:Qi(),whileFocus:Qi(),exit:Qi()}}class Di{constructor(e){this.isMounted=!1,this.node=e}update(){}}class $X extends Di{constructor(e){super(e),e.animationState||(e.animationState=HX(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();om(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let qX=0;class KX extends Di{constructor(){super(...arguments),this.id=qX++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const XX={animation:{Feature:$X},exit:{Feature:KX}};function af(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Of(t){return{point:{x:t.pageX,y:t.pageY}}}const YX=t=>e=>r1(e)&&t(e,Of(e));function Fc(t,e,n,r){return af(t,e,YX(n),r)}const hN=1e-4,QX=1-hN,ZX=1+hN,pN=.01,JX=0-pN,tY=0+pN;function ar(t){return t.max-t.min}function eY(t,e,n){return Math.abs(t-e)<=n}function hR(t,e,n,r=.5){t.origin=r,t.originPoint=Qe(e.min,e.max,t.origin),t.scale=ar(n)/ar(e),t.translate=Qe(n.min,n.max,t.origin)-t.originPoint,(t.scale>=QX&&t.scale<=ZX||isNaN(t.scale))&&(t.scale=1),(t.translate>=JX&&t.translate<=tY||isNaN(t.translate))&&(t.translate=0)}function Lc(t,e,n,r){hR(t.x,e.x,n.x,r?r.originX:void 0),hR(t.y,e.y,n.y,r?r.originY:void 0)}function pR(t,e,n){t.min=n.min+e.min,t.max=t.min+ar(e)}function nY(t,e,n){pR(t.x,e.x,n.x),pR(t.y,e.y,n.y)}function mR(t,e,n){t.min=e.min-n.min,t.max=t.min+ar(e)}function zc(t,e,n){mR(t.x,e.x,n.x),mR(t.y,e.y,n.y)}function qr(t){return[t("x"),t("y")]}const mN=({current:t})=>t?t.ownerDocument.defaultView:null,vR=(t,e)=>Math.abs(t-e);function rY(t,e){const n=vR(t.x,e.x),r=vR(t.y,e.y);return Math.sqrt(n**2+r**2)}class vN{constructor(e,n,{transformPagePoint:r,contextWindow:o=window,dragSnapToOrigin:a=!1,distanceThreshold:s=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=wy(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,y=rY(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!g&&!y)return;const{point:x}=v,{timestamp:w}=Fn;this.history.push({...x,timestamp:w});const{onStart:S,onMove:A}=this.handlers;g||(S&&S(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),A&&A(this.lastMoveEvent,v)},this.handlePointerMove=(v,g)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=xy(g,this.transformPagePoint),qe.update(this.updatePoint,!0)},this.handlePointerUp=(v,g)=>{this.end();const{onEnd:y,onSessionEnd:x,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=wy(v.type==="pointercancel"?this.lastMoveEventInfo:xy(g,this.transformPagePoint),this.history);this.startEvent&&y&&y(v,S),x&&x(v,S)},!r1(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=s,this.contextWindow=o||window;const u=Of(e),c=xy(u,this.transformPagePoint),{point:f}=c,{timestamp:h}=Fn;this.history=[{...f,timestamp:h}];const{onSessionStart:p}=n;p&&p(e,wy(c,this.history)),this.removeListeners=kf(Fc(this.contextWindow,"pointermove",this.handlePointerMove),Fc(this.contextWindow,"pointerup",this.handlePointerUp),Fc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ci(this.updatePoint)}}function xy(t,e){return e?{point:e(t.point)}:t}function gR(t,e){return{x:t.x-e.x,y:t.y-e.y}}function wy({point:t},e){return{point:t,delta:gR(t,gN(e)),offset:gR(t,oY(e)),velocity:aY(e,.1)}}function oY(t){return t[0]}function gN(t){return t[t.length-1]}function aY(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const o=gN(t);for(;n>=0&&(r=t[n],!(o.timestamp-r.timestamp>Ho(e)));)n--;if(!r)return{x:0,y:0};const a=Go(o.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const s={x:(o.x-r.x)/a,y:(o.y-r.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function iY(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Qe(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Qe(n,t,r.max):Math.min(t,n)),t}function yR(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function sY(t,{top:e,left:n,bottom:r,right:o}){return{x:yR(t.x,n,o),y:yR(t.y,e,r)}}function bR(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function uY(t,e){return{x:bR(t.x,e.x),y:bR(t.y,e.y)}}function lY(t,e){let n=.5;const r=ar(t),o=ar(e);return o>r?n=tf(e.min,e.max-r,t.min):r>o&&(n=tf(t.min,t.max-o,e.min)),ka(0,1,n)}function cY(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const z0=.35;function fY(t=z0){return t===!1?t=0:t===!0&&(t=z0),{x:xR(t,"left","right"),y:xR(t,"top","bottom")}}function xR(t,e,n){return{min:wR(t,e),max:wR(t,n)}}function wR(t,e){return typeof t=="number"?t:t[e]||0}const dY=new WeakMap;class hY{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=cn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const a=p=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Of(p).point)},s=(p,v)=>{const{drag:g,dragPropagation:y,onDragStart:x}=this.getProps();if(g&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=EK(g),!this.openDragLock))return;this.latestPointerEvent=p,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),qr(S=>{let A=this.getAxisMotionValue(S).get()||0;if($o.test(A)){const{projection:E}=this.visualElement;if(E&&E.layout){const T=E.layout.layoutBox[S];T&&(A=ar(T)*(parseFloat(A)/100))}}this.originPoint[S]=A}),x&&qe.postRender(()=>x(p,v)),F0(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},u=(p,v)=>{this.latestPointerEvent=p,this.latestPanInfo=v;const{dragPropagation:g,dragDirectionLock:y,onDirectionLock:x,onDrag:w}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:S}=v;if(y&&this.currentDirection===null){this.currentDirection=pY(S),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",v.point,S),this.updateAxis("y",v.point,S),this.visualElement.render(),w&&w(p,v)},c=(p,v)=>{this.latestPointerEvent=p,this.latestPanInfo=v,this.stop(p,v),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>qr(p=>this.getAnimationState(p)==="paused"&&this.getAxisMotionValue(p).animation?.play()),{dragSnapToOrigin:h}=this.getProps();this.panSession=new vN(e,{onSessionStart:a,onStart:s,onMove:u,onSessionEnd:c,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:r,contextWindow:mN(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,o=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!o||!r)return;const{velocity:s}=o;this.startAnimation(s);const{onDragEnd:u}=this.getProps();u&&qe.postRender(()=>u(r,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:o}=this.getProps();if(!r||!mh(e,o,this.currentDirection))return;const a=this.getAxisMotionValue(e);let s=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(s=iY(s,this.constraints[e],this.elastic[e])),a.set(s)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;e&&Tu(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=sY(r.layoutBox,e):this.constraints=!1,this.elastic=fY(n),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&qr(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=cY(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Tu(e))return!1;const r=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const a=mX(r,o.root,this.visualElement.getTransformPagePoint());let s=uY(o.layout.layoutBox,a);if(n){const u=n(dX(s));this.hasMutatedConstraints=!!u,u&&(s=tN(u))}return s}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:a,dragSnapToOrigin:s,onDragTransitionEnd:u}=this.getProps(),c=this.constraints||{},f=qr(h=>{if(!mh(h,n,this.currentDirection))return;let p=c&&c[h]||{};s&&(p={min:0,max:0});const v=o?200:1e6,g=o?40:1e7,y={type:"inertia",velocity:r?e[h]:0,bounceStiffness:v,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...a,...p};return this.startAxisValueAnimation(h,y)});return Promise.all(f).then(u)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return F0(this.visualElement,e),r.start(d1(e,r,0,n,this.visualElement,!1))}stopAnimation(){qr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){qr(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){qr(n=>{const{drag:r}=this.getProps();if(!mh(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,a=this.getAxisMotionValue(n);if(o&&o.layout){const{min:s,max:u}=o.layout.layoutBox[n];a.set(e[n]-Qe(s,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Tu(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};qr(s=>{const u=this.getAxisMotionValue(s);if(u&&this.constraints!==!1){const c=u.get();o[s]=lY({min:c,max:c},this.constraints[s])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),qr(s=>{if(!mh(s,e,null))return;const u=this.getAxisMotionValue(s),{min:c,max:f}=this.constraints[s];u.set(Qe(c,f,o[s]))})}addListeners(){if(!this.visualElement.current)return;dY.set(this.visualElement,this);const e=this.visualElement.current,n=Fc(e,"pointerdown",c=>{const{drag:f,dragListener:h=!0}=this.getProps();f&&h&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Tu(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,a=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),qe.read(r);const s=af(window,"resize",()=>this.scalePositionWithinConstraints()),u=o.addEventListener("didUpdate",({delta:c,hasLayoutChanged:f})=>{this.isDragging&&f&&(qr(h=>{const p=this.getAxisMotionValue(h);p&&(this.originPoint[h]+=c[h].translate,p.set(p.get()+c[h].translate))}),this.visualElement.render())});return()=>{s(),n(),a(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:a=!1,dragElastic:s=z0,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:a,dragElastic:s,dragMomentum:u}}}function mh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function pY(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class mY extends Di{constructor(e){super(e),this.removeGroupControls=no,this.removeListeners=no,this.controls=new hY(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||no}unmount(){this.removeGroupControls(),this.removeListeners()}}const SR=t=>(e,n)=>{t&&qe.postRender(()=>t(e,n))};class vY extends Di{constructor(){super(...arguments),this.removePointerDownListener=no}onPointerDown(e){this.session=new vN(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:mN(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:SR(e),onStart:SR(n),onMove:r,onEnd:(a,s)=>{delete this.session,o&&qe.postRender(()=>o(a,s))}}}mount(){this.removePointerDownListener=Fc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ah={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function CR(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const wc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if($t.test(t))t=parseFloat(t);else return t;const n=CR(t,e.target.x),r=CR(t,e.target.y);return`${n}% ${r}%`}},gY={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,o=Ei.parse(t);if(o.length>5)return r;const a=Ei.createTransformer(t),s=typeof o[0]!="number"?1:0,u=n.x.scale*e.x,c=n.y.scale*e.y;o[0+s]/=u,o[1+s]/=c;const f=Qe(u,c,.5);return typeof o[2+s]=="number"&&(o[2+s]/=f),typeof o[3+s]=="number"&&(o[3+s]/=f),a(o)}};let Sy=!1;class yY extends O.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:a}=e;VK(bY),a&&(n.group&&n.group.add(a),r&&r.register&&o&&r.register(a),Sy&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Ah.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:o,isPresent:a}=this.props,{projection:s}=r;return s&&(s.isPresent=a,Sy=!0,o||e.layoutDependency!==n||n===void 0||e.isPresent!==a?s.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?s.promote():s.relegate()||qe.postRender(()=>{const u=s.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),n1.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=e;Sy=!0,o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function yN(t){const[e,n]=OK(),r=O.useContext(Yk);return U.jsx(yY,{...t,layoutGroup:r,switchLayoutGroup:O.useContext(ZM),isPresent:e,safeToRemove:n})}const bY={borderRadius:{...wc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:wc,borderTopRightRadius:wc,borderBottomLeftRadius:wc,borderBottomRightRadius:wc,boxShadow:gY};function xY(t,e,n){const r=Jn(t)?t:Yu(t);return r.start(d1("",r,e,n)),r.animation}const wY=(t,e)=>t.depth-e.depth;class SY{constructor(){this.children=[],this.isDirty=!1}add(e){Fx(this.children,e),this.isDirty=!0}remove(e){Lx(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(wY),this.isDirty=!1,this.children.forEach(e)}}function CY(t,e){const n=hr.now(),r=({timestamp:o})=>{const a=o-n;a>=e&&(Ci(r),t(a-e))};return qe.setup(r,!0),()=>Ci(r)}const bN=["TopLeft","TopRight","BottomLeft","BottomRight"],EY=bN.length,ER=t=>typeof t=="string"?parseFloat(t):t,TR=t=>typeof t=="number"||$t.test(t);function TY(t,e,n,r,o,a){o?(t.opacity=Qe(0,n.opacity??1,RY(r)),t.opacityExit=Qe(e.opacity??1,0,AY(r))):a&&(t.opacity=Qe(e.opacity??1,n.opacity??1,r));for(let s=0;s<EY;s++){const u=`border${bN[s]}Radius`;let c=RR(e,u),f=RR(n,u);if(c===void 0&&f===void 0)continue;c||(c=0),f||(f=0),c===0||f===0||TR(c)===TR(f)?(t[u]=Math.max(Qe(ER(c),ER(f),r),0),($o.test(f)||$o.test(c))&&(t[u]+="%")):t[u]=f}(e.rotate||n.rotate)&&(t.rotate=Qe(e.rotate||0,n.rotate||0,r))}function RR(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const RY=xN(0,.5,sM),AY=xN(.5,.95,no);function xN(t,e,n){return r=>r<t?0:r>e?1:n(tf(t,e,r))}function AR(t,e){t.min=e.min,t.max=e.max}function $r(t,e){AR(t.x,e.x),AR(t.y,e.y)}function _R(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function DR(t,e,n,r,o){return t-=e,t=yp(t,1/n,r),o!==void 0&&(t=yp(t,1/o,r)),t}function _Y(t,e=0,n=1,r=.5,o,a=t,s=t){if($o.test(e)&&(e=parseFloat(e),e=Qe(s.min,s.max,e/100)-s.min),typeof e!="number")return;let u=Qe(a.min,a.max,r);t===a&&(u-=e),t.min=DR(t.min,e,n,u,o),t.max=DR(t.max,e,n,u,o)}function kR(t,e,[n,r,o],a,s){_Y(t,e[n],e[r],e[o],e.scale,a,s)}const DY=["x","scaleX","originX"],kY=["y","scaleY","originY"];function MR(t,e,n,r){kR(t.x,e,DY,n?n.x:void 0,r?r.x:void 0),kR(t.y,e,kY,n?n.y:void 0,r?r.y:void 0)}function NR(t){return t.translate===0&&t.scale===1}function wN(t){return NR(t.x)&&NR(t.y)}function OR(t,e){return t.min===e.min&&t.max===e.max}function MY(t,e){return OR(t.x,e.x)&&OR(t.y,e.y)}function PR(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function SN(t,e){return PR(t.x,e.x)&&PR(t.y,e.y)}function IR(t){return ar(t.x)/ar(t.y)}function BR(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class NY{constructor(){this.members=[]}add(e){Fx(this.members,e),e.scheduleRender()}remove(e){if(Lx(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const a=this.members[o];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function OY(t,e,n){let r="";const o=t.x.translate/e.x,a=t.y.translate/e.y,s=n?.z||0;if((o||a||s)&&(r=`translate3d(${o}px, ${a}px, ${s}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:f,rotate:h,rotateX:p,rotateY:v,skewX:g,skewY:y}=n;f&&(r=`perspective(${f}px) ${r}`),h&&(r+=`rotate(${h}deg) `),p&&(r+=`rotateX(${p}deg) `),v&&(r+=`rotateY(${v}deg) `),g&&(r+=`skewX(${g}deg) `),y&&(r+=`skewY(${y}deg) `)}const u=t.x.scale*e.x,c=t.y.scale*e.y;return(u!==1||c!==1)&&(r+=`scale(${u}, ${c})`),r||"none"}const Cy=["","X","Y","Z"],PY=1e3;let IY=0;function Ey(t,e,n,r){const{latestValues:o}=e;o[t]&&(n[t]=o[t],e.setStaticValue(t,0),r&&(r[t]=0))}function CN(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=uN(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",qe,!(o||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&CN(r)}function EN({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(s={},u=e?.()){this.id=IY++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(LY),this.nodes.forEach(jY),this.nodes.forEach(WY),this.nodes.forEach(zY)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new SY)}addEventListener(s,u){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new Ux),this.eventHandlers.get(s).add(u)}notifyListeners(s,...u){const c=this.eventHandlers.get(s);c&&c.notify(...u)}hasListeners(s){return this.eventHandlers.has(s)}mount(s){if(this.instance)return;this.isSVG=zM(s)&&!kK(s),this.instance=s;const{layoutId:u,layout:c,visualElement:f}=this.options;if(f&&!f.current&&f.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||u)&&(this.isLayoutDirty=!0),t){let h,p=0;const v=()=>this.root.updateBlockedByResize=!1;qe.read(()=>{p=window.innerWidth}),t(s,()=>{const g=window.innerWidth;g!==p&&(p=g,this.root.updateBlockedByResize=!0,h&&h(),h=CY(v,250),Ah.hasAnimatedSinceResize&&(Ah.hasAnimatedSinceResize=!1,this.nodes.forEach(zR)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&f&&(u||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeLayoutChanged:v,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||f.getDefaultTransition()||KY,{onLayoutAnimationStart:x,onLayoutAnimationComplete:w}=f.getProps(),S=!this.targetLayout||!SN(this.targetLayout,g),A=!p&&v;if(this.options.layoutRoot||this.resumeFrom||A||p&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const E={...t1(y,"layout"),onPlay:x,onComplete:w};(f.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E),this.setAnimationOrigin(h,A)}else p||zR(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ci(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(HY),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&CN(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const p=this.path[h];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:u,layout:c}=this.options;if(u===void 0&&!c)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(FR);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(LR);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(UY),this.nodes.forEach(BY),this.nodes.forEach(FY)):this.nodes.forEach(LR),this.clearAllSnapshots();const u=hr.now();Fn.delta=ka(0,1e3/60,u-Fn.timestamp),Fn.timestamp=u,Fn.isProcessing=!0,dy.update.process(Fn),dy.preRender.process(Fn),dy.render.process(Fn),Fn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,n1.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(VY),this.sharedNodes.forEach(GY)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,qe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){qe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ar(this.snapshot.measuredBox.x)&&!ar(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=cn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(u=!1),u&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!o)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!wN(this.projectionDelta),c=this.getTransformTemplate(),f=c?c(this.latestValues,""):void 0,h=f!==this.prevTransformTemplateValue;s&&this.instance&&(u||ns(this.latestValues)||h)&&(o(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const u=this.measurePageBox();let c=this.removeElementScroll(u);return s&&(c=this.removeTransform(c)),XY(c),{animationId:this.root.animationId,measuredBox:u,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return cn();const u=s.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(YY))){const{scroll:f}=this.root;f&&(Ru(u.x,f.offset.x),Ru(u.y,f.offset.y))}return u}removeElementScroll(s){const u=cn();if($r(u,s),this.scroll?.wasRoot)return u;for(let c=0;c<this.path.length;c++){const f=this.path[c],{scroll:h,options:p}=f;f!==this.root&&h&&p.layoutScroll&&(h.wasRoot&&$r(u,s),Ru(u.x,h.offset.x),Ru(u.y,h.offset.y))}return u}applyTransform(s,u=!1){const c=cn();$r(c,s);for(let f=0;f<this.path.length;f++){const h=this.path[f];!u&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Au(c,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),ns(h.latestValues)&&Au(c,h.latestValues)}return ns(this.latestValues)&&Au(c,this.latestValues),c}removeTransform(s){const u=cn();$r(u,s);for(let c=0;c<this.path.length;c++){const f=this.path[c];if(!f.instance||!ns(f.latestValues))continue;O0(f.latestValues)&&f.updateSnapshot();const h=cn(),p=f.measurePageBox();$r(h,p),MR(u,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,h)}return ns(this.latestValues)&&MR(u,this.latestValues),u}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Fn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==u;if(!(s||c&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:p}=this.options;if(!(!this.layout||!(h||p))){if(this.resolvedRelativeTargetAt=Fn.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=cn(),this.relativeTargetOrigin=cn(),zc(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),$r(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=cn(),this.targetWithTransforms=cn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),nY(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):$r(this.target,this.layout.layoutBox),nN(this.target,this.targetDelta)):$r(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=cn(),this.relativeTargetOrigin=cn(),zc(this.relativeTargetOrigin,this.target,v.target),$r(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||O0(this.parent.latestValues)||eN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const s=this.getLead(),u=!!this.resumingFrom||this!==s;let c=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(c=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Fn.timestamp&&(c=!1),c)return;const{layout:f,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||h))return;$r(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,v=this.treeScale.y;pX(this.layoutCorrected,this.treeScale,this.path,u),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=cn());const{target:g}=s;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(_R(this.prevProjectionDelta.x,this.projectionDelta.x),_R(this.prevProjectionDelta.y,this.projectionDelta.y)),Lc(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==v||!BR(this.projectionDelta.x,this.prevProjectionDelta.x)||!BR(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.visualElement?.scheduleRender(),s){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=_u(),this.projectionDelta=_u(),this.projectionDeltaWithTransform=_u()}setAnimationOrigin(s,u=!1){const c=this.snapshot,f=c?c.latestValues:{},h={...this.latestValues},p=_u();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const v=cn(),g=c?c.source:void 0,y=this.layout?this.layout.source:void 0,x=g!==y,w=this.getStack(),S=!w||w.members.length<=1,A=!!(x&&!S&&this.options.crossfade===!0&&!this.path.some(qY));this.animationProgress=0;let E;this.mixTargetDelta=T=>{const R=T/1e3;VR(p.x,s.x,R),VR(p.y,s.y,R),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(zc(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),$Y(this.relativeTarget,this.relativeTargetOrigin,v,R),E&&MY(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=cn()),$r(E,this.relativeTarget)),x&&(this.animationValues=h,TY(h,f,this.latestValues,R,A,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=R},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Ci(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=qe.update(()=>{Ah.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Yu(0)),this.currentAnimation=xY(this.motionValue,[0,1e3],{...s,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),s.onUpdate&&s.onUpdate(u)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(PY),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:u,target:c,layout:f,latestValues:h}=s;if(!(!u||!c||!f)){if(this!==s&&this.layout&&f&&TN(this.options.animationType,this.layout.layoutBox,f.layoutBox)){c=this.target||cn();const p=ar(this.layout.layoutBox.x);c.x.min=s.target.x.min,c.x.max=c.x.min+p;const v=ar(this.layout.layoutBox.y);c.y.min=s.target.y.min,c.y.max=c.y.min+v}$r(u,c),Au(u,h),Lc(this.projectionDeltaWithTransform,this.layoutCorrected,u,h)}}registerSharedNode(s,u){this.sharedNodes.has(s)||this.sharedNodes.set(s,new NY),this.sharedNodes.get(s).add(u);const f=u.options.initialPromotionConfig;u.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(u):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){const{layoutId:s}=this.options;return s?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:s}=this.options;return s?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:u,preserveFollowOpacity:c}={}){const f=this.getStack();f&&f.promote(this,c),s&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let u=!1;const{latestValues:c}=s;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(u=!0),!u)return;const f={};c.z&&Ey("z",s,f,this.animationValues);for(let h=0;h<Cy.length;h++)Ey(`rotate${Cy[h]}`,s,f,this.animationValues),Ey(`skew${Cy[h]}`,s,f,this.animationValues);s.render();for(const h in f)s.setStaticValue(h,f[h]),this.animationValues&&(this.animationValues[h]=f[h]);s.scheduleRender()}applyProjectionStyles(s,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){s.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,s.visibility="",s.opacity="",s.pointerEvents=Rh(u?.pointerEvents)||"",s.transform=c?c(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(s.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,s.pointerEvents=Rh(u?.pointerEvents)||""),this.hasProjected&&!ns(this.latestValues)&&(s.transform=c?c({},""):"none",this.hasProjected=!1);return}s.visibility="";const h=f.animationValues||f.latestValues;this.applyTransformsToTarget();let p=OY(this.projectionDeltaWithTransform,this.treeScale,h);c&&(p=c(h,p)),s.transform=p;const{x:v,y:g}=this.projectionDelta;s.transformOrigin=`${v.origin*100}% ${g.origin*100}% 0`,f.animationValues?s.opacity=f===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:s.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const y in of){if(h[y]===void 0)continue;const{correct:x,applyTo:w,isCSSVariable:S}=of[y],A=p==="none"?h[y]:x(h[y],f);if(w){const E=w.length;for(let T=0;T<E;T++)s[w[T]]=A}else S?this.options.visualElement.renderState.vars[y]=A:s[y]=A}this.options.layoutId&&(s.pointerEvents=f===this?Rh(u?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>s.currentAnimation?.stop()),this.root.nodes.forEach(FR),this.root.sharedNodes.clear()}}}function BY(t){t.updateLayout()}function FY(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:o}=t.options,a=e.source!==t.layout.source;o==="size"?qr(h=>{const p=a?e.measuredBox[h]:e.layoutBox[h],v=ar(p);p.min=n[h].min,p.max=p.min+v}):TN(o,e.layoutBox,n)&&qr(h=>{const p=a?e.measuredBox[h]:e.layoutBox[h],v=ar(n[h]);p.max=p.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+v)});const s=_u();Lc(s,n,e.layoutBox);const u=_u();a?Lc(u,t.applyTransform(r,!0),e.measuredBox):Lc(u,n,e.layoutBox);const c=!wN(s);let f=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:v}=h;if(p&&v){const g=cn();zc(g,e.layoutBox,p.layoutBox);const y=cn();zc(y,n,v.layoutBox),SN(g,y)||(f=!0),h.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=g,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:u,layoutDelta:s,hasLayoutChanged:c,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function LY(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function zY(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function VY(t){t.clearSnapshot()}function FR(t){t.clearMeasurements()}function LR(t){t.isLayoutDirty=!1}function UY(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function zR(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function jY(t){t.resolveTargetDelta()}function WY(t){t.calcProjection()}function HY(t){t.resetSkewAndRotation()}function GY(t){t.removeLeadSnapshot()}function VR(t,e,n){t.translate=Qe(e.translate,0,n),t.scale=Qe(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function UR(t,e,n,r){t.min=Qe(e.min,n.min,r),t.max=Qe(e.max,n.max,r)}function $Y(t,e,n,r){UR(t.x,e.x,n.x,r),UR(t.y,e.y,n.y,r)}function qY(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const KY={duration:.45,ease:[.4,0,.1,1]},jR=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),WR=jR("applewebkit/")&&!jR("chrome/")?Math.round:no;function HR(t){t.min=WR(t.min),t.max=WR(t.max)}function XY(t){HR(t.x),HR(t.y)}function TN(t,e,n){return t==="position"||t==="preserve-aspect"&&!eY(IR(e),IR(n),.2)}function YY(t){return t!==t.root&&t.scroll?.wasRoot}const QY=EN({attachResizeListener:(t,e)=>af(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ty={current:void 0},RN=EN({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Ty.current){const t=new QY({});t.mount(window),t.setOptions({layoutScroll:!0}),Ty.current=t}return Ty.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),ZY={pan:{Feature:vY},drag:{Feature:mY,ProjectionNode:RN,MeasureLayout:yN}};function GR(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,a=r[o];a&&qe.postRender(()=>a(e,Of(e)))}class JY extends Di{mount(){const{current:e}=this.node;e&&(this.unmount=TK(e,(n,r)=>(GR(this.node,r,"Start"),o=>GR(this.node,o,"End"))))}unmount(){}}class tQ extends Di{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=kf(af(this.node.current,"focus",()=>this.onFocus()),af(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function $R(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),a=r[o];a&&qe.postRender(()=>a(e,Of(e)))}class eQ extends Di{mount(){const{current:e}=this.node;e&&(this.unmount=DK(e,(n,r)=>($R(this.node,r,"Start"),(o,{success:a})=>$R(this.node,o,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const V0=new WeakMap,Ry=new WeakMap,nQ=t=>{const e=V0.get(t.target);e&&e(t)},rQ=t=>{t.forEach(nQ)};function oQ({root:t,...e}){const n=t||document;Ry.has(n)||Ry.set(n,{});const r=Ry.get(n),o=JSON.stringify(e);return r[o]||(r[o]=new IntersectionObserver(rQ,{root:t,...e})),r[o]}function aQ(t,e,n){const r=oQ(e);return V0.set(t,n),r.observe(t),()=>{V0.delete(t),r.unobserve(t)}}const iQ={some:0,all:1};class sQ extends Di{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:a}=e,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:iQ[o]},u=c=>{const{isIntersecting:f}=c;if(this.isInView===f||(this.isInView=f,a&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:h,onViewportLeave:p}=this.node.getProps(),v=f?h:p;v&&v(c)};return aQ(this.node.current,s,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(uQ(e,n))&&this.startObserver()}unmount(){}}function uQ({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const lQ={inView:{Feature:sQ},tap:{Feature:eQ},focus:{Feature:tQ},hover:{Feature:JY}},cQ={layout:{ProjectionNode:RN,MeasureLayout:yN}},fQ={...XX,...lQ,...ZY,...cQ},AN=fX(fQ,EX),_N=Qo(U.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),dQ=()=>{const t="https://innernote.alwaysdata.net",e=O.useRef(null),[n,r]=O.useState([]),[o,a]=O.useState(""),[s,u]=O.useState(!1),[c,f]=O.useState(""),[h,p]=O.useState(""),[v,g]=O.useState(!1),[y,x]=O.useState(""),[w,S]=O.useState(!1),[A,E]=O.useState(!1),T=lf(),R=async()=>{console.log(o);try{const N=await(await fetch(`${t}/auth/sendfacedata`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({empName:o,descriptorArray:n})})).json();console.log(N),N.success?(S(!0),T("/login",{replace:!0})):(E(!0),x(`Error signing in: ${N.message}`))}catch(k){console.log(k),E(!0),x(`Error signing in: ${k}`)}};O.useEffect(()=>{(async()=>{try{const I=await navigator.mediaDevices.getUserMedia({audio:!1,video:!0});e.current&&(e.current.srcObject=I,e.current.play())}catch(I){console.log(I)}})();const N=async()=>{try{if(e.current){const I=await Xk(e.current).withFaceLandmarks().withFaceDescriptors();I.length>1?(E(!0),x("Multiple faces detected. Please focus only one face in the view"),g(!1)):I.length===0?(E(!0),x("No face detected. Please remove caps, masks, sunglassses that can hinder with face recognition"),g(!1)):I.length===1&&(E(!1),g(!0));let z=I[0];for(let j of I)j.detection.score>z&&(z=j);z.detection.score<.8?(x("No face detected. Please remove caps, masks, sunglassses that can hinder with face recognition"),E(!0),g(!1)):(E(!1),g(!0));const $=Array.from(I[0].descriptor);r($)}}catch(I){console.log(I)}};setInterval(()=>{N()},2e3)},[]);const _=()=>{console.log(n),R()},M=async k=>{k.preventDefault(),console.log({manualUsername:c,password:h});try{const N=await fetch(`${t}/auth/signinwithpassword`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({manualUsername:c,password:h})}),I=await N.json();N.ok&&S(!0),setTimeout(()=>{T("/login",{replace:!0})},2e3),console.log(I)}catch(N){console.log(N),E(!0),x(`Error signing in: ${N}`)}};return U.jsxs("div",{className:"px-8 comic-neue-regular",children:[U.jsx(Hh,{anchorOrigin:{vertical:"top",horizontal:"center"},open:w,autoHideDuration:3e3,onClose:()=>S(!1),children:U.jsx(zh,{variant:"filled",severity:"success",className:"",children:"Signed in successfully!"})}),U.jsx(Hh,{anchorOrigin:{vertical:"top",horizontal:"center"},open:A,autoHideDuration:4e3,onClose:()=>E(!1),children:U.jsx(zh,{variant:"filled",severity:"error",children:y})}),U.jsxs("div",{children:[U.jsx("h1",{className:`text-3xl mt-6 ${s&&"w-44"}`,children:"Create Your InnerNote Account"}),U.jsx("div",{className:"w-full flex justify-center",children:U.jsx("div",{className:"w-72 h-72 rounded-full my-auto",children:U.jsx("video",{autoPlay:!0,width:2e3,height:2e3,ref:e,className:"w-72 h-72 rounded-full object-cover"})})}),U.jsx("div",{className:"flex justify-center",children:U.jsxs("div",{children:[U.jsxs("div",{children:[" ",U.jsxs("h2",{className:"mb-5 mt-8 text-center text-slate-600",children:[" ","Look in the web cam, type a username and hit Submit when it appears"," "]})]}),U.jsxs("div",{className:"flex gap-x-5 mt-10 mx-auto justify-center",children:[U.jsxs(jh,{children:[U.jsx(T_,{htmlFor:"my-input",children:"Enter Username"}),U.jsx(Vp,{id:"my-input","aria-describedby":"my-helper-text",onChange:k=>a(k.target.value)})]}),U.jsxs(Xn,{variant:"contained",sx:{textTransform:"capitalize"},onClick:_,style:{display:v?"block":"none"},children:[" ","Submit"," "]})]}),U.jsxs("div",{className:"mt-16",children:[U.jsxs(Xn,{variant:"text",style:{textTransform:"capitalize"},color:"info",sx:{marginX:"1rem",textTransform:""},onClick:()=>{u(k=>!k)},children:[" ","Sign in using password"," "]}),U.jsxs(Xn,{variant:"text",style:{textTransform:"capitalize"},color:"secondary",sx:{marginX:"1rem",textTransform:""},onClick:()=>{T("/login")},children:[" ","Already have an account? Log in"]})]})]})})]}),U.jsxs(AN.div,{className:"shadow-2xl rounded-md h-[800px] absolute right-0 top-0 bg-white z-1000",variants:{thin:{width:"0.5rem"},broad:{width:"70vw"}},initial:"thin",animate:s?"broad":"thin",transition:{type:"tween",duration:.4,stiffness:100},children:[U.jsxs("div",{className:"p-5 mt-5 w-full flex justify-between",children:[U.jsx(Ca,{variant:"h5",component:"h5",children:U.jsx("div",{className:"comic-neue-regular",children:"Sign In with Password"})}),U.jsx(Xn,{onClick:()=>u(!1),children:U.jsx(_N,{})})]}),U.jsx(jh,{children:U.jsxs(Ab,{margin:10,children:[U.jsx("div",{children:U.jsx(fs,{id:"username-manual",label:"Username",variant:"standard",onChange:k=>f(k.target.value),className:"w-80"})}),U.jsx("div",{className:"mt-5",children:U.jsx(fs,{id:"username-manual",type:"password",label:"Password",variant:"standard",onChange:k=>p(k.target.value),className:"w-80"})}),U.jsx("div",{className:"mt-10",children:U.jsxs(Xn,{style:{textTransform:"capitalize"},variant:"contained",color:"secondary",onClick:M,children:[" ","Submit"," "]})})]})})]})]})},hQ=()=>{const t=O.useRef(null),e=O.useRef(null),n=lf(),r="https://innernote.alwaysdata.net",[o,a]=O.useState(""),[s,u]=O.useState(!1),[c,f]=O.useState(!1),[h,p]=O.useState(!1),[v,g]=O.useState(""),[y,x]=O.useState(!1),[w,S]=O.useState(),[A,E]=O.useState("");O.useEffect(()=>{(async()=>{try{const k=await navigator.mediaDevices.getUserMedia({audio:!1,video:!0});t.current&&(t.current.srcObject=k,t.current.play())}catch(k){console.log(k)}})();const M=async()=>{try{if(t.current&&e.current){e.current.style.top=t.current.offsetTop+"px",e.current.style.left=t.current.offsetLeft+"px",e.current.width=t.current.videoWidth,e.current.height=t.current.videoHeight;const k=await Xk(t.current).withFaceLandmarks().withFaceDescriptors();k.length>1?(f(!0),a("Multiple faces detected. Please focus only one face in the view"),x(!1)):k.length===0?(f(!0),a("No face detected. Please remove caps, masks, sunglassses that can hinder with face recognition"),x(!1)):k.length===1&&(f(!1),x(!0)),console.log(k);let N=k[0];for(let D of k)D.detection.score>N&&(N=D);let I=N.detection.score;I<.8&&(f(!0),a("No face detected. Please remove caps, masks, sunglassses that can hinder with face recognition")),console.log(I);const z=Array.from(N.descriptor);console.log(z),S(z)}}catch(k){console.log(k)}};setInterval(()=>{M()},2e3)},[]);const T=async()=>{console.log(w);try{const M=await(await fetch(`${r}/auth/loginface`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userFace:w})})).json();M.success&&(console.log(M),u(!0),sessionStorage.setItem("token",M.loginToken),sessionStorage.setItem("currentUserId",M.id),sessionStorage.setItem("currentUserName",M.bestMatchFace),setTimeout(()=>{n("/dashboard",{state:{username:M.bestMatchFace,id:M.id},replace:!0})},1500)),console.log(M)}catch(_){console.log(_),f(!0),a(`Error logging in: ${_}`)}},R=async _=>{_.preventDefault(),console.log({manualUsername:v,password:A});try{const k=await(await fetch(`${r}/auth/loginwithpassword`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({manualUsername:v,password:A})})).json();k.success&&(sessionStorage.setItem("token",k.token),sessionStorage.setItem("currentUserId",k.userId),sessionStorage.setItem("currentUserName",k.userName),setTimeout(()=>{n("/dashboard",{state:{username:k.bestMatchFace,id:k.id},replace:!0})},1500)),console.log(k)}catch(M){console.log(M)}};return U.jsxs("div",{className:"px-8 comic-neue-regular",children:[U.jsx(Hh,{anchorOrigin:{vertical:"top",horizontal:"center"},open:s,autoHideDuration:3e3,onClose:()=>u(!1),children:U.jsx(zh,{variant:"filled",severity:"success",className:"",children:"Logged in successfully!"})}),U.jsx(Hh,{anchorOrigin:{vertical:"top",horizontal:"center"},open:c,autoHideDuration:4e3,onClose:()=>f(!1),children:U.jsx(zh,{variant:"filled",severity:"error",children:o})}),U.jsx("h1",{className:`text-3xl mt-5 ${h&&"w-44"}`,children:"Log In to Your InnerNote Account"}),U.jsx("div",{className:"flex justify-center",children:U.jsxs("div",{className:"w-72 h-72 rounded-full my-auto flex justify-center  mt-10",style:{position:"relative",display:"flex",justifyContent:"center"},children:[U.jsx("video",{autoPlay:!0,width:2e3,height:2e3,ref:t,playsInline:!0,className:"w-72 h-72 rounded-full object-cover"}),U.jsx("canvas",{ref:e,style:{position:"absolute",top:0,left:0,pointerEvents:"none",zIndex:10}})]})}),U.jsx("div",{className:" flex justify-center",children:U.jsxs("div",{children:[U.jsx("h2",{className:"my-5 text-center pt-5 text-slate-600",children:" Look in the web cam and hit Submit when it appears "}),U.jsx("div",{className:" flex justify-center",children:U.jsxs(Xn,{sx:{textTransform:"capitalize"},variant:"contained",onClick:T,style:{display:y?"block":"none"},children:[" ","Submit"," "]})})]})}),U.jsx("div",{className:"flex justify-center mt-16",children:U.jsxs("div",{children:[U.jsxs(Xn,{style:{textTransform:"capitalize"},variant:"text",color:"info",sx:{marginX:"1rem"},onClick:()=>{p(_=>!_)},children:[" ","Log In using password"," "]}),U.jsxs(Xn,{variant:"text",style:{textTransform:"capitalize"},color:"secondary",sx:{marginX:"1rem",textTransform:""},onClick:()=>{n("/signin")},children:[" ","Don't have an account? Sign in"]})]})}),U.jsxs(AN.div,{className:"shadow-2xl rounded-md h-[800px] absolute right-0 top-0 bg-white comic-neue-regular",variants:{thin:{width:"0.5rem"},broad:{width:"70vw"}},initial:"thin",animate:h?"broad":"thin",transition:{type:"tween",duration:.4,stiffness:100},children:[U.jsxs("div",{className:"p-5 mt-5 w-full flex justify-between",children:[U.jsx(Ca,{variant:"h5",component:"h5",children:U.jsx("div",{className:"comic-neue-regular",children:"Log In with Password"})}),U.jsx(Xn,{onClick:()=>p(!1),children:U.jsx(_N,{})})]}),U.jsx(jh,{children:U.jsxs(Ab,{margin:10,children:[U.jsx("div",{children:U.jsx(fs,{id:"username-manual",label:"Username",variant:"standard",onChange:_=>g(_.target.value),className:"w-80"})}),U.jsx("div",{className:"mt-5",children:U.jsx(fs,{id:"username-manual",type:"password",label:"Password",variant:"standard",onChange:_=>E(_.target.value),className:"w-80"})}),U.jsx("div",{className:"mt-10",children:U.jsxs(Xn,{style:{textTransform:"capitalize"},variant:"contained",color:"secondary",onClick:R,children:[" ","Submit"," "]})})]})})]})]})},pQ=Qo(U.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"})),mQ=Qo(U.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm2 16H8v-2h8zm0-4H8v-2h8zm-3-5V3.5L18.5 9z"}));function vQ(){const t=[{mood:"Happy",bgColor:"#FFE6A7",fontColor:"#B38600"},{mood:"Calm",bgColor:"#A7D8FF",fontColor:"#004C80"},{mood:"Sad",bgColor:"#C7CEEA",fontColor:"#4B4D80"},{mood:"Anxious",bgColor:"#FFD6D6",fontColor:"#802020"},{mood:"Excited",bgColor:"#FFD4A3",fontColor:"#994C00"},{mood:"Optimistic",bgColor:"#E0BBE4",fontColor:"#663366"},{mood:"Grateful",bgColor:"#B5EAD7",fontColor:"#206050"},{mood:"Tired",bgColor:"#F1E6FF",fontColor:"#5A3D7A"}],e=x=>t.find(w=>w.mood.toLocaleLowerCase()==x.toLocaleLowerCase())?.bgColor,n=x=>t.find(w=>w.mood.toLocaleLowerCase()==x.toLocaleLowerCase())?.fontColor,r=lf();O.useEffect(()=>{sessionStorage.getItem("token")||r("/"),g()},[]);const o=sessionStorage.getItem("currentUserName"),a="https://innernote.alwaysdata.net",[s,u]=Zr.useState(!1),[c,f]=O.useState([]),h=()=>{u(!0)},p=()=>{u(!1)},v=sessionStorage.getItem("token"),g=async()=>{try{const x=`${a}/info/allfeelings`,S=await(await fetch(x,{method:"GET",headers:{Authorization:`Bearer ${v}`}})).json();S.success&&(f(S.allFeelings),console.log(S))}catch(x){console.log(x)}},y=async x=>{x.preventDefault();const w=new FormData(x.currentTarget),S=Object.fromEntries(w.entries());console.log(S);try{const E=await(await fetch(`${a}/info/newfeeling`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${v}`},body:JSON.stringify(S)})).json();console.log(E)}catch(A){console.log(A)}p()};return U.jsxs("div",{children:[U.jsx("div",{className:"px-8",children:U.jsxs("div",{className:"mt-5 flex justify-between",children:[U.jsxs("h1",{className:"text-3xl font-bold capitalize ",children:[" Welcome  ",U.jsxs("span",{className:"text-transparent bg-clip-text bg-gradient-to-l  from-fuchsia-500 via-green-500 to-blue-500 ",children:[o," "]})," !"]}),U.jsx("div",{children:U.jsxs(Xn,{variant:"contained",onClick:h,sx:{textTransform:"capitalize"},children:[U.jsx(mQ,{}),U.jsx("span",{className:"ml-2",children:" New Journal Page"})]})})]})}),U.jsxs("div",{className:"flex flex-wrap w-[90%] mx-auto space-y-4 mt-8 ",children:[c.map((x,w)=>U.jsx(Xz,{className:"mx-2",sx:{width:"32%",background:e(x.mood)},children:U.jsxs(w_,{children:[U.jsxs(Ab,{sx:{display:"flex",justifyContent:"space-between"},children:[U.jsx(Ca,{gutterBottom:!0,sx:{color:n(x.mood),fontSize:14},children:x.mood}),U.jsx(Ca,{gutterBottom:!0,sx:{color:"text.secondary",fontSize:14},children:x.post_time&&U.jsxs("span",{children:[" ",new Date(x.post_time).toLocaleTimeString().slice(0,5),", ",new Date(x.post_time).toLocaleDateString()]})})]}),U.jsx(Ca,{gutterBottom:!0,variant:"h5",component:"div",children:x.title}),U.jsx(Ca,{variant:"body2",sx:{color:"text.secondary",height:"13rem"},children:U.jsxs("div",{className:"comic-neue-regular",children:["  ",x.feeling_notes]})})]})},w)),U.jsxs(R6,{open:s,keepMounted:!0,onClose:p,"aria-describedby":"alert-dialog-slide-description",children:[U.jsx(W6,{}),U.jsxs(B6,{children:[U.jsx(V6,{id:"alert-dialog-slide-description",children:U.jsx("h3",{children:" How are you feeling today?"})}),U.jsxs("form",{onSubmit:y,id:"subscription-form",className:"comic-neue-regular ",children:[U.jsx(fs,{autoFocus:!0,margin:"dense",id:"title",name:"title",label:"Title",fullWidth:!0,variant:"standard"}),U.jsx(fs,{autoFocus:!0,margin:"dense",id:"mood",name:"mood",label:"Mood",fullWidth:!0,variant:"standard"}),U.jsx(fs,{autoFocus:!0,multiline:!0,minRows:10,id:"feelings",name:"description",label:"Feelings",fullWidth:!0,variant:"standard",inputProps:{maxlength:795},className:"handlee-regular"}),U.jsx("div",{className:"mt-5",children:U.jsxs(Xn,{type:"submit",variant:"contained",color:"success",sx:{textTransform:"capitalize"},children:[U.jsx(pQ,{}),"   Add to My Journal"]})})]})]}),U.jsx(k6,{children:U.jsx(Xn,{onClick:p,children:" Cancel"})})]})]})]})}const gQ=()=>{let t=sessionStorage.getItem("currentUserName")??"";lf();const[e,n]=Zr.useState(null),r=s=>{sessionStorage.getItem("token")&&n(e?null:s.currentTarget)},o=!!e,a=o?"simple-popper":void 0;return U.jsx("div",{children:U.jsxs(w_,{className:" shadow-md h-20 flex justify-between",children:[U.jsxs("div",{children:[U.jsx("h1",{className:"text-xl w-24 text-transparent bg-clip-text bg-gradient-to-l  from-fuchsia-500 via-green-500 to-blue-500 ",children:"InnerNote"}),U.jsx("h3",{className:"text-zinc-400 text-base comic-neue-regular",children:"Your Safe Space for Your Feelings"})]}),U.jsxs("div",{children:[U.jsx(zz,{src:"./abc.jpg",alt:t,"aria-describedby":a,onClick:r}),U.jsx(wz,{id:a,open:o,anchorEl:e,children:U.jsx(Xn,{variant:"contained",color:"error",onClick:()=>{sessionStorage.clear(),window.location.reload()},children:"Log out"})})]})]})})},yQ=()=>{O.useEffect(()=>{(async()=>{try{await Promise.all([or.ssdMobilenetv1.loadFromUri("/models"),or.faceLandmark68Net.loadFromUri("/models"),or.faceRecognitionNet.loadFromUri("/models")]),console.log("models loaded")}catch(n){console.log(n)}})()},[]);const t=Pp({palette:{primary:{light:"#4dabf5",main:"#2196f3",dark:"#1769aa",contrastText:"#fff"},secondary:{main:"#f73378"}}});return U.jsx(PL,{theme:t,children:U.jsxs(f4,{children:[U.jsx(gQ,{}),U.jsx("div",{className:"",children:U.jsxs(jP,{children:[U.jsx(Sc,{path:"/",element:U.jsx(dU,{})}),U.jsx(Sc,{path:"/signin",element:U.jsx(dQ,{})}),U.jsx(Sc,{path:"/login",element:U.jsx(hQ,{})}),U.jsx(Sc,{path:"/dashboard",element:U.jsx(vQ,{})})]})})]})})};Z3.createRoot(document.getElementById("root")).render(U.jsx(O.StrictMode,{children:U.jsx(yQ,{})}))});export default bQ();
